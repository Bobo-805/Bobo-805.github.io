{"config":{"lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Welcome to Bobo's Notebook","title":"index"},{"location":"#welcome-to-bobos-notebook","text":"","title":"Welcome to Bobo's Notebook"},{"location":"Linux/","text":"Linux Linux \u57fa\u7840\u64cd\u4f5c \u57fa\u7840\u547d\u4ee4 \uff08\u547d\u4ee4 -\u9009\u9879 \u8def\u5f84/\u6587\u4ef6\uff09 ls \u663e\u793a\u6587\u4ef6\u5217\u8868\uff08list\uff09 \u989c\u8272\uff1a\u9ed1\u8272\u8868\u793a\u6587\u4ef6\uff0c\u84dd\u8272\u8868\u793a\u6587\u4ef6\u5939\uff0c\u7eff\u8272\u8868\u793a\u5176\u6743\u9650\u4e3a\u6240\u6709\u6743\u9650\u3002 ls /root \u5217\u51fa\u8def\u5f84\u4e0b\u7684\u6587\u4ef6\u5217\u8868 /root\uff1a\u7edd\u5bf9\u8def\u5f84\uff0c\u8868\u793a\u4ece\u6839\u76ee\u5f55\u4e0b\u5f00\u59cb\u5bfb\u627e root\uff1a\u76f8\u5bf9\u8def\u5f84\uff0c./\u8fd9\u4e00\u7ea7\uff08\u53ef\u52a0\u53ef\u4e0d\u52a0\uff09 ../\u4e0a\u4e00\u7ea7 ls -l root -l\uff1a\u4ee5\u5217\u8868\uff0c\u5217\u51fa\u8be6\u7ec6\u4fe1\u606f -la\uff1a\u663e\u793a\u9690\u85cf\u6587\u4ef6\u4fe1\u606f -lh\uff1a\u663e\u793a\u5217\u8868\uff0c\u6587\u4ef6\u5927\u5c0f\u5355\u4f4d\u81ea\u8c03\u8282 -lah\uff1a\u663e\u793a\u9690\u85cf\uff0c\u6587\u4ef6\u5927\u5c0f\u5355\u4f4d\u81ea\u8c03\u8282 -rw-------. 1 root root 1960 7\u6708 6 21:58 anaconda-ks.cfg >> - -rw--- \uff1a\u6743\u9650\uff08\u7b2c\u4e00\u4e2a\u662f-\u8868\u793a\u6587\u4ef6\uff0c\u662fd\u8868\u793a\u6587\u4ef6\u5939\uff0cl\u662f\u5feb\u6377\u65b9\u5f0f\uff09 >> - 1 \uff1a\u6587\u4ef6\u786c\u94fe\u63a5\u6570 >> - root \uff1a\u7528\u6237\u540d >> - root \uff1a\u7528\u6237\u7ec4 >> - 1960 \uff1a\u6587\u4ef6\u5927\u5c0f\uff0c\u5b57\u8282 >> - 7\u6708 6 21:58 \uff1a\u8868\u793a\u65f6\u95f4 >> - anaconda-ks.cfg \uff1a\u8868\u793a\u6587\u4ef6\u540d\uff08\u9690\u85cf\u6587\u4ef6\u4e00\u822c\u4ee5.\u5f00\u5934\uff09 pwd \u6253\u5370\u5f53\u524d\u5de5\u4f5c\u8def\u5f84 cd /root \u5230root\u76ee\u5f55\u4e0b\uff0c\u6ce8\u610fcd\u540e\u9762\u6ca1\u6709\uff1a cd ~ \uff1a\u5207\u6362\u5230\u5f53\u524d\u7528\u6237\u7684\u5bb6\u76ee\u5f55 cd / \uff1a\u5207\u6362\u5230\u6839\u76ee\u5f55 mkdir \u521b\u5efa\u6587\u4ef6\u5939 mkdir hello \uff1a\u5728\u5f53\u524d\u6587\u4ef6\u5939\u4e0b\u521b\u5efa\u6587\u4ef6\u5939 mkdir ~/hello \uff1a\u5728\u7528\u6237\u5bb6\u76ee\u5f55\u4e0b\u521b\u5efa mkdir /root/hello \uff1a\u5728\u6307\u5b9a\u6587\u4ef6\u5939\u4e0b\u521b\u5efa mkdir -p /root/a/b/c \u5f53\u4e0d\u5b58\u5728a/b\u76ee\u5f55\u65f6 -p \u4ee3\u8868\u5047\u5982\u6ca1\u6709\u4e4b\u524d\u7684\u76ee\u5f55\uff0c\u5219\u521b\u5efa\u4e4b\u524d\u7684\u76ee\u5f55 mkdir a b c \uff1a\u8868\u793a\u4e00\u6b21\u6027\u521b\u5efa\u591a\u4e2a\u6587\u4ef6\u5939 touch \u65b0\u5efa\u6587\u4ef6\uff08\u540cmkdir\u4f7f\u7528\u4e00\u6837\uff0c\u53ea\u662f\u6ca1\u6709-p\u9009\u9879\uff09 ln \u65b0\u5efa\u5feb\u6377\u65b9\u5f0f ln -s \u539f\u59cb\u8def\u5f84 \u5feb\u6377\u65b9\u5f0f\u8def\u5f84 cp \u590d\u5236\u6587\u6863\uff08\u53ef\u6587\u4ef6\uff0c\u53ef\u6587\u4ef6\u5939\uff09\u5230\u6307\u5b9a\u8def\u5f84 cp /root/a/1.txt /root/b/ \u7b2c\u4e00\u4e2a\u8def\u5f84\uff1a\u6587\u4ef6\u8def\u5f84 \u7b2c\u4e8c\u4e2a\u8def\u5f84\uff1a\u590d\u5236\u76ee\u6807\u8def\u5f84 cp /root/a/1.txt /root/b/2.txt Linux\u5728\u590d\u5236\u8fc7\u7a0b\u4e2d\u53ef\u4ee5\u6539\u540d \u7b2c\u4e8c\u4e2a\u8def\u5f84\uff1a\u590d\u5236\u76ee\u6807\u8def\u5f84\u53ca\u590d\u5236\u4e4b\u540e\u7684\u540d\u5b57 cp -r /root/a/ /root/b/ \u590d\u5236\u6587\u4ef6\u5939\uff0c\u4e00\u5b9a\u8981\u52a0 -r \uff01\uff01\uff01 -r \uff1a\u8868\u793a\u9012\u5f52 mv \u526a\u5207\uff08\u540ccp\u7c7b\u4f3c\uff0c\u4e5f\u53ef\u4ee5\u6539\u540d\u5b57\uff0c\u4e5f\u53ef\u4ee5\u526a\u5207\u6587\u4ef6\u5939\uff09 mv /root/a /root/b \u91cd\u547d\u540d\u7684\u4e00\u79cd\u65b9\u6cd5 rm \u5220\u9664 rm /root/1.txt \u5220\u9664\u6587\u4ef6 rm -r /root/a \u5220\u9664\u6587\u4ef6\u5939 -r\u5220\u9664\u6587\u4ef6\u5939\u65f6\uff0c\u9700\u8981\u6dfb\u52a0\uff08\u6b64\u65f6\u4f1a\u6709\u63d0\u793a\uff09 rm -f /root/1.txt \u5f3a\u5236\u5220\u9664\uff0c\u4e0d\u4f1a\u5f39\u51fa\u63d0\u793a -f\u5f3a\u5236\u5220\u9664 -rf \u53ef\u4ee5\u5f3a\u5236\u5220\u9664\u6587\u4ef6\u5939\uff0c\u6ca1\u6709\u63d0\u793a rm -rf /root/a /root/1.txt \u5220\u9664\u591a\u4e2a\u6587\u6863 rm -f /root/linux \u5220\u9664\u6240\u6709\u4ee5linux\u5f00\u5934\u7684\u6587\u6863\uff08 \u901a\u914d\u7b26\uff09 vim \u4f7f\u7528vim\u6253\u5f00\u6587\u4ef6\uff08\u6587\u672c\u7f16\u8f91\u5668\uff09 vim /root/1.txt \u7528vim\u6253\u5f00\u6587\u4ef6\uff0c\u6587\u4ef6\u53ef\u4ee5\u5b58\u5728\uff0c\u4e5f\u53ef\u4ee5\u4e0d\u5b58\u5728\uff08\u521b\u5efa\uff09 \u5728vim\u4e0b\uff0c\"shift\"+\":\" \u8fdb\u5165\u547d\u4ee4\u8f93\u5165\uff0c\u8f93\u5165\"q\"\u9000\u51fa\uff0c\u8f93\u5165\"q\uff01\"\u4e0d\u4fdd\u5b58\u5f3a\u5236\u9000\u51fa cat \u76f4\u63a5\u6253\u5f00\u6587\u4ef6\uff08\u4e0d\u9700\u8981\u50cfvim\u4e00\u6837\u9000\u51fa\uff09 cat /root/1.txt \u6253\u5f00\u6587\u4ef6 cat 1.txt 2.txt > 3.txt \u5408\u5e76\u6587\u4ef6\uff08\u914d\u5408\u8f93\u51fa\u91cd\u5b9a\u5411\uff09 \u8f93\u51fa\u91cd\u5b9a\u5411 \u4e00\u822c\u547d\u4ee4\u90fd\u662f\u5728\u7ec8\u7aef\u663e\u793a\u8f93\u51fa\uff0c\u5c06\u8f93\u51fa\u4fdd\u5b58\u5230\u6587\u4ef6\uff0c\u5c31\u53eb\u8f93\u51fa\u91cd\u5b9a\u5411 \">\" \u8986\u76d6\u8f93\u51fa \">>\" \u8ffd\u52a0\u8f93\u51fa ls -la /root > /root/1.txt \u5c06\u8f93\u51fa\u4fdd\u5b58\u5230\u6587\u4ef6 \u8fdb\u9636\u6307\u4ee4 df \u67e5\u770b\u78c1\u76d8\u7a7a\u95f4 df -h \u67e5\u770b\u78c1\u76d8\u7a7a\u95f4\uff0c\u5927\u5c0f\u5e26\u5355\u4f4d free \u67e5\u770b\u5185\u5b58\u4f7f\u7528\u60c5\u51b5 free -h \u5927\u5c0f\u5e26\u5355\u4f4d free -m \u5355\u4f4d\u4e3amb head \u67e5\u770b\u6587\u4ef6\u524dn\u884c\uff0c\u9ed8\u8ba4\u524d10\u884c head -5 \u524d5\u884c tail \u67e5\u770b\u6587\u4ef6\u540en\u884c\uff08\u7528\u6cd5\u4e0ehead\u4e00\u6837\uff09 tail -F \u6587\u4ef6\u8def\u5f84 \uff1a\u67e5\u770b\u6587\u4ef6\u52a8\u6001\u53d8\u5316\uff08\u6ce8\u610fF\u8981\u5927\u5199\uff09 less \u67e5\u770b\u6587\u4ef6\uff0c\u4ee5\u8f83\u5c11\u7684\u5185\u5bb9\u8fdb\u884c\u8f93\u51fa \u53ef\u4ee5\u901a\u8fc7\u4e0b\u7aef\u8f93\u5165\u6570\u5b57\uff0c\u63a7\u5236\u663e\u793a\u7684\u5f00\u59cb\u884c\u6570 \u6309\u7a7a\u683c\u4e00\u9875\u4e00\u9875\u7ffb\u9875 \u65b9\u5411\u952e\u4e0a\u4e0b\u53ca\u56de\u8f66\u952e\u53ef\u4ee5\u4e00\u884c\u4e00\u884c\u67e5\u770b \u6309q\u9000\u51fa wc \u7edf\u8ba1\u6587\u4ef6\u5185\u5bb9\u4fe1\u606f wc -lwc \u6587\u4ef6\u8def\u5f84\uff08\u4e0d\u52a0lwc\uff0c\u9ed8\u8ba4\u4e5f\u663e\u793alwc\u5185\u5bb9\uff09 -l \uff1a\u884c\u6570 -w \uff1a\u5b57\u6570 -c \uff1a\u5b57\u8282 date \u64cd\u4f5c\u65f6\u95f4\u65e5\u671f date \u663e\u793a\u65f6\u95f4\u65e5\u671f date +%F \u8f93\u51fa\u683c\u5f0f\u5316\u65e5\u671f date +%F%T \u8f93\u51fa\u65e5\u671f\u65f6\u95f4\uff08\u6b64\u65f6\u65e5\u671f\u65f6\u95f4\u8fde\u5728\u4e00\u8d77\uff09 date \"+%F %T\" \u8f93\u51fa\u65e5\u671f\u65f6\u95f4\uff0c\u7a7a\u683c\u9694\u5f00\uff08\"\"\u91cc\u9762\u7684\u4e3a\u4e00\u4e2a\u547d\u4ee4\uff09 date -d \"-1 day\" \"+%F %T\" \u8f93\u51fa\u4e00\u5929\u524d\u7684\u65e5\u671f\u65f6\u95f4 date -d \"-1 year\" \"+%F %T\" \u8f93\u51fa\u4e00\u5e74\u524d\u7684\u65e5\u671f\u65f6\u95f4 date -d \"+1 year\" \"+%F %T\" \u8f93\u51fa\u4e00\u5e74\u540e\u7684\u65e5\u671f\u65f6\u95f4 \u4e2d\u95f4\u53ef\u4ee5\u662f day \uff0c month \uff0c year cal \u64cd\u4f5c\u65e5\u5386 cal \u663e\u793a\u65e5\u5386\uff08\u4ee5\u5468\u65e5\u5f00\u59cb\uff09 cal -3 \u663e\u793a\u65e5\u5386\uff08\u5305\u542b\u4e0a\u4e00\u6708\u548c\u4e0b\u4e00\u6708\uff09 cal -y 2008 \u663e\u793a2008\u90a3\u4e00\u5e74\u7684\u65e5\u5386 cal -m \u663e\u793a\u65e5\u5386\uff0c\u4ee5\u5468\u4e00\u5f00\u59cb clear \u6e05\u5c4f ctrl + L \u5feb\u6377\u952e\u4e5f\u53ef\u4ee5 \u7ba1\u9053\u7b26 | \u7ba1\u9053\u7b26\u7684\u5de6\u8fb9\u7684\u8f93\u51fa\uff0c\u4f1a\u4f5c\u4e3a\u53f3\u8fb9\u7684\u8f93\u5165\uff0c\u6700\u540e\u663e\u793a\u53f3\u8fb9\u7684\u8f93\u51fa\u3002 \u4e3b\u8981\u7528\u6cd5\u6709\u201c\u8fc7\u6ee4\u201d\uff0c\u201c\u7279\u6b8a\u201d\uff0c\u201c\u6269\u5c55\u5904\u7406\u201d - \u8fc7\u6ee4 - ls /root | grep y \u8f93\u51fa\u76ee\u5f55\u4e0b\u542b\u201cy\u201d\u7684\u6587\u4ef6\u540d\uff08grep \u7528\u4e8e\u8fc7\u6ee4\u7684\u51fd\u6570\uff09 - grep \u8fd8\u53ef\u4ee5\u76f4\u63a5\u7528\u6765\u505a\u6b63\u5219\u641c\u7d22 - grep l+ 1.txt - l+ \u90e8\u5206\u662f\u6b63\u5219\u8868\u8fbe\u5f0f - 1.txt \u662f\u8981\u641c\u7d22\u7684\u6587\u4ef6 \u7279\u6b8a\u7528\u6cd5 cat \u8def\u5f84 | less \u7b49\u4ef7\u4e8e less \u8def\u5f84 \u62d3\u5c55\u7528\u6cd5 ls /root | wc -l \u7edf\u8ba1\u6587\u4ef6\u5939\u4e0b\u6587\u4ef6\u4e2a\u6570 wc \u4e5f\u53ef\u4ee5\u76f4\u63a5\u7528\uff0c\u4e5f\u662f\u7edf\u8ba1\u7684\u529f\u80fd \u9ad8\u7ea7\u6307\u4ee4 hostname \u64cd\u4f5c\u670d\u52a1\u5668\u4e3b\u673a\u540d hostname \u8f93\u51fa\u5b8c\u6574\u4e3b\u673a\u540d hostname -f \u8f93\u51fa\u5f53\u524d\u4e3b\u673a\u7684\u5168\u9650\u5b9a\u57df\u540d \u4e34\u65f6\u4fee\u6539\u4e3b\u673a\u540d hostname \u4e3b\u673a\u540d su \u5207\u6362\u7528\u6237\u751f\u6548 \u5173\u673a\u4e4b\u540e\u5931\u6548 \u6c38\u4e45\u4fee\u6539\u4e3b\u673a\u540d \u914d\u7f6e\u6587\u4ef6\uff1a/etc/sysconfig/network vim\u4fee\u6539\u4e4b\u540e\uff0c\u91cd\u542f\u5373\u53ef\uff08\u8fd8\u9700\u8981\u4fee\u6539hosts\uff0c\u6bd4\u8f83\u9ebb\u70e6\uff09 id \u663e\u793a\u7528\u6237id id \u663e\u793a\u5f53\u524d\u7528\u6237\u57fa\u672c\u4fe1\u606f id \u7528\u6237\u540d \u663e\u793a\u8be5\u7528\u6237\u540d\u7684\u4fe1\u606f \u7528\u6237\u4fe1\u606f\u5b58\u653e\u4f4d\u7f6e\uff1a/etc/passwd \u7528\u6237\u7ec4\u4fe1\u606f\u5b58\u653e\u4f4d\u7f6e\uff1a/etc/group whoami \u663e\u793a\u5f53\u524d\u767b\u5f55\u7684\u7528\u6237\u540d ps \u67e5\u770b\u670d\u52a1\u5668\u8fdb\u7a0b \u9009\u9879 \uff1a -e \u7b49\u4ef7\u4e8e -A \u5217\u51fa\u5168\u90e8\u8fdb\u7a0b -f \u663e\u793a\u5168\u90e8\u7684\u5217 top \u67e5\u770b\u670d\u52a1\u5668\u8fdb\u7a0b\u7684\u8d44\u6e90\u5360\u7528\u60c5\u51b5\uff08\u52a8\u6001\u663e\u793a\uff09\uff08\u6309q\u9000\u51fa\uff09 \u663e\u793a\u5185\u5bb9\uff1a PR \u4f18\u5148\u7ea7 VIRT \u865a\u62df\u5185\u5b58\uff08\u7533\u8bf7\u7684\u5185\u5b58\uff09 RES \u5e38\u9a7b\u5185\u5bb9\uff08\u7528\u4e86\u591a\u5c11\uff09 SHR \u5171\u4eab\u5185\u5b58\uff08\u5176\u4ed6\u8fdb\u7a0b\u8c03\u7528\u7684\u8be5\u8fdb\u7a0b\u7684\u5185\u5bb9\uff09 \u4e00\u4e2a\u8fdb\u7a0b\u5b9e\u9645\u7684\u5185\u5b58\u5360\u7528 = RES - SHR S \u662f\u5426\u5728\u7761\u7720\uff0c\u7761\u7720\u663e\u793a S \uff0c\u8fd0\u884c\u663e\u793a R COMMAND \u8fdb\u7a0b\u7684\u540d\u79f0\u6216\u8005\u8def\u5f84 \u6309\u4e0b\u5927\u5199M\uff0c\u4ee5\u5185\u5b58\u8fdb\u884c\u6392\u5e8f \u6309\u4e0b\u5927\u5199P\uff0c\u4ee5cpu\u8fdb\u884c\u6392\u5e8f \u6309\u4e0b\u6570\u5b571\uff0c\u67e5\u770b\u591a\u4e2acpu\u7684\u60c5\u51b5 du \u67e5\u770b\u76ee\u5f55\u771f\u5b9e\u5927\u5c0f \u9009\u9879\uff1a -s \u53ea\u663e\u793a\u6c47\u603b\u7684\u5927\u5c0f -h \u8868\u793a\u4ee5\u9ad8\u53ef\u8bfb\u6027\u663e\u793a find \u67e5\u627e\u6587\u4ef6 find \u8def\u5f84 \u9009\u9879 \u9009\u9879\u7684\u503c \uff08\u6587\u4ef6\u8def\u5f84\u5c3d\u91cf\u7cbe\u786e\uff09 \u9009\u9879\uff1a -name \u67e5\u627e\u7684\u6587\u4ef6\u540d\u5b57\uff0c\u652f\u6301\u6a21\u7cca\u641c\u7d22 -type \u67e5\u627e\u7684\u7c7b\u578b f \u6587\u4ef6 d \u6587\u4ef6\u5939 service \u63a7\u5236\u8f6f\u4ef6\u670d\u52a1\u7684\u542f\u52a8/\u505c\u6b62/\u91cd\u542f service \u670d\u52a1\u540d start/stop/restart service httpd start \u542f\u52a8\u670d\u52a1\u5668Apache\uff08\u7f51\u7ad9\u670d\u52a1\u5668\u8f6f\u4ef6\uff09\uff0c\u5176\u670d\u52a1\u540d\u4e3ahttpd Centos 7 \u4e4b\u540e\u8fd9\u6837\uff01\uff01\uff01\uff01\uff01\uff01 systemctl start httpd.service kill \u7ed3\u675f\u8fdb\u7a0b kill \u8fdb\u7a0bid\uff08PID\uff09 \u7ed3\u675f\u8fdb\u7a0b killall \u7ed3\u675f\u8fdb\u7a0b killall \u8fdb\u7a0b\u540d\u79f0 \u7ed3\u675f\u8fdb\u7a0b ifconfig \u64cd\u4f5c\u7f51\u5361 reboot \u91cd\u542f reboot -w \u6a21\u62df\u91cd\u542f\uff08\u4e0d\u91cd\u542f\uff09\uff0c\u53ea\u5199\u5f00\u673a\u65e5\u5fd7\uff0c\u4f46\u4e0d\u91cd\u542f uptime \u8ba1\u7b97\u673a\u5728\u7ebf\u65f6\u95f4 uname \u83b7\u53d6\u8ba1\u7b97\u673a\u4fe1\u606f uname \u83b7\u53d6\u8ba1\u7b97\u673a\u7cfb\u7edf\u540d uname -a \u83b7\u53d6\u8ba1\u7b97\u673a\u7cfb\u7edf\u5168\u90e8\u4fe1\u606f netstat \u67e5\u770b\u7f51\u7edc\u72b6\u6001 netstat -tnlp \u9009\u9879 \uff1a -t \u53ea\u5217\u51fatcp\u534f\u8bae\u7684\u8fde\u63a5 -n \u5c06\u5730\u5740\u8f6c\u5316\u4e3aip\uff0c\u5c06\u534f\u8bae\u8f6c\u5316\u4e3a\u7aef\u53e3\u53f7 -l \u8fc7\u6ee4\u72b6\u6001\uff08state\uff09\u4e3a\u76d1\u542c\uff08LISTEN\uff09\u7684 -p \u8868\u793a\u53ea\u663e\u793a\u53d1\u8d77\u8fde\u63a5\u7684\u8fdb\u7a0b\u7684pid \u548c\u8fdb\u7a0b\u540d\u79f0 man \u67e5\u770b\u547d\u4ee4\u7684\u624b\u518c man \u547d\u4ee4 \u9000\u51fa\u6309q \u5173\u673a\u547d\u4ee4 shutdown \u5173\u673a shutdown -h now \u7acb\u9a6c\u5173\u673a shutdown -h 15:30 \u5b9a\u65f6\u5173\u673a shutdown -h 15:30 \"\u673a\u5668\u5373\u5c06\u5173\u673a\" \u5b9a\u65f6\u5173\u673a\uff0c\u5e76\u4e14\u63d0\u793a \u6309\u4e0b CTRL + \"C\" \u53d6\u6d88\uff0ccentos 7 \u4e4b\u524d\u7684 shutdown -c \u53d6\u6d88\u5173\u673a\uff0ccentos 7 \u4e4b\u540e\u7684 init 0 halt poweroff \u8ba1\u7b97\u673a\u76ee\u5f55\u4ecb\u7ecd \u6587\u4ef6\u5939 bin\uff1a\u50a8\u5b58\u4e8c\u8fdb\u5236\u53ef\u6267\u884c\u6587\u4ef6\u3002 dev\uff1a\u5b58\u653e\u5916\u63a5\u8bbe\u5907\uff0c\u5728\u5176\u4e2d\u7684\u8bbe\u5907\u4e0d\u80fd\u76f4\u63a5\u8fd0\u884c\uff0c\u9700\u8981\u6302\u8f7d\uff08mnt\u76ee\u5f55\u4e0b\uff09\u3002 mnt\uff1a\u5916\u63a5\u8bbe\u5907\u7684\u6302\u8f7d\u6587\u4ef6\u5939\u3002 etc\uff1a\u50a8\u5b58\u914d\u7f6e\u6587\u4ef6\u3002 home\uff1a\u9664root\u4e4b\u5916\u7684\u7528\u6237\u7684\u76ee\u5f55\u6587\u4ef6\u3002 proc\uff1a\u50a8\u5b58\u8fdb\u7a0b\u6587\u4ef6\u3002 root\uff1aroot\u7528\u6237\u7684\u76ee\u5f55\u6587\u4ef6\u3002 sbin\uff1a\u6709super\u6743\u9650\u7684\u7528\u6237\u624d\u80fd\u6267\u884c\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u3002 tmp\uff1a\u76f8\u5f53\u4e8etemp\u6587\u4ef6\uff0c\u4e34\u65f6\u6587\u4ef6\u3002 usr\uff1a\u5b58\u653e\u7528\u6237\u81ea\u5df1\u5b89\u88c5\u7684\u8f6f\u4ef6\uff0c\u7c7b\u4f3c\u4e8ewin\u4e0b\u7684program files\u3002 var\uff1a\u5b58\u653e\u7a0b\u5e8f\u6216\u7cfb\u7edf\u7684\u65e5\u5fd7\u6587\u4ef6\u3002 \u5feb\u6377\u952e CTRL + c \u5173\u95ed\u5f53\u524d\u8fdb\u7a0b\uff08\u5728\u4e00\u4e9b\u60c5\u51b5\u4e0b\u9700\u8981CTRL + D\uff09 CTRL + Z \u5c06\u5f53\u524d\u8fdb\u7a0b\u6302\u8d77\u5728\u540e\u53f0 \u6309\u4e0b jobs \u67e5\u770b\u540e\u53f0 fg %\u6570\u5b57 \u5207\u6362\u4efb\u52a1\u5230\u524d\u53f0 CTRL + u \u5220\u9664\u5149\u6807\u4e4b\u524d\u5185\u5bb9 CTRL + k \u5220\u9664\u5149\u6807\u4e4b\u540e\u5185\u5bb9 CTRL + w \u5220\u9664\u5149\u6807\u524d\u4e00\u4e2a\u5355\u8bcd CTRL + L \u6e05\u5c4f Vim \u6253\u5f00\u65b9\u5f0f vim \u6587\u4ef6\u8def\u5f84 \uff1a\u76f4\u63a5\u6253\u5f00 vim +\u6570\u5b57 \u6587\u4ef6\u8def\u5f84 \uff1a\u6253\u5f00\u6587\u4ef6\uff0c\u8df3\u5230\u6307\u5b9a\u884c vim +/\u5173\u952e\u8bcd \u6587\u4ef6\u8def\u5f84 \uff1a\u6253\u5f00\u6587\u4ef6\uff0c\u9ad8\u4eae\u663e\u793a\u5173\u952e\u8bcd vim \u6587\u4ef61 \u6587\u4ef62 \uff1a\u540c\u65f6\u6253\u5f00\u591a\u4e2a\u6587\u4ef6 \u547d\u4ee4\u6a21\u5f0f \u3010\u6253\u5f00\u6587\u4ef6\u4e4b\u540e\u9ed8\u8ba4\u8fdb\u5165\u7684\u6a21\u5f0f\u3011 \u8be5\u6a21\u5f0f\u4e0b\u4e0d\u80fd\u5bf9\u6587\u4ef6\u8fdb\u884c\u76f4\u63a5\u7f16\u8f91\uff0c\u53ef\u4ee5\u8f93\u5165\u5feb\u6377\u952e\u6765\u8fdb\u884c\u90e8\u5206\u64cd\u4f5c\uff08\u5220\u9664\u884c\uff0c\u590d\u5236\u884c\uff0c\u79fb\u52a8\u5149\u6807\uff0c\u7c98\u8d34\u7b49\uff09 - vim /root/1.txt \u7528vim\u6253\u5f00\u6587\u4ef6\uff0c\u6587\u4ef6\u53ef\u4ee5\u5b58\u5728\uff0c\u4e5f\u53ef\u4ee5\u4e0d\u5b58\u5728\uff08\u521b\u5efa\uff09 - \u5728vim\u4e0b\uff0c\"shift\"+\":\" \u8fdb\u5165\u547d\u4ee4\u8f93\u5165 - \u8f93\u5165\"q\"\u9000\u51fa - \u8f93\u5165\"q\uff01\"\u4e0d\u4fdd\u5b58\u5f3a\u5236\u9000\u51fa - \u8f93\u5165 \"wq\" \u4fdd\u5b58\u9000\u51fa - \u8f93\u5165 \"x\" \u667a\u80fd\u9000\u51fa\uff0c\u6709\u4fee\u6539\u5219\u4fdd\u5b58 \u5149\u6807\u64cd\u4f5c \u6309\u4e0b\"^\"\uff08shift + 6\uff09\uff0c\u6216\u8005home\u952e \uff0c\u79fb\u52a8\u5149\u6807\u5230\u884c\u9996 \u6309\u4e0b\"$\"\uff08shift + 4\uff09\uff0c\u6216\u8005end\u952e \uff0c\u79fb\u52a8\u5149\u6807\u5230\u884c\u5c3e \u6309\u4e0b\"gg\" \uff0c\u5149\u6807\u79fb\u52a8\u5230\u9996\u884c\u5f00\u5934 \u6309\u4e0b\"G\" \uff0c\u5149\u6807\u79fb\u52a8\u5230\u672b\u884c\u5f00\u5934 \u6309\u4e0b\"W\" \uff0c\u5149\u6807\u5411\u540e\u79fb\u52a8\u4e00\u4e2a\u5355\u8bcd \u6309\u4e0b\"B\" \uff0c\u5149\u6807\u5f80\u524d\u79fb\u52a8\u4e00\u4e2a\u5355\u8bcd \u6309\u4e0bpgup\u6216\u8005(ctrl b)\uff0cpgdn\u6216\u8005(ctrl f)\uff0c\u5411\u4e0a\u6216\u5411\u4e0b\u7ffb\u9875 \u6309\u4e0b (\u6570\u5b57 G) \u6216\u8005 ( \u6570\u5b57 gg )\uff0c\u5c06\u5149\u6807\u79fb\u52a8\u5230\u7b2cn\u884c (\u6570\u5b57 \u65b9\u5411\u952e) \u6216\u8005(HJKL) \uff0c\u5411\u4e0a\u4e0b\u5de6\u53f3\u79fb\u52a8\u5149\u6807 (\u6570\u5b57 j/k) \u5f80\u4e0b\u6216\u5f80\u4e0an\u884c shift \uff1a \u8f93\u5165 \u6570\u5b57 \u56de\u8f66 \uff0c\u79fb\u52a8\u5230\u7b2cn\u884c \u590d\u5236\u7c98\u8d34 \u6309\u4e0byy\u590d\u5236\u884c \u6309\u4e0b \u6570\u5b57yy \uff0c\u590d\u5236\u5149\u6807\u6240\u5728\u884c\u53ca\u5411\u4e0b\u7684\u591a\u884c \u6309\u4e0b ctrl v \uff0c\u518d\u6309\u65b9\u5411\u952e\u63a7\u5236\u5149\u6807\uff0c\u518d\u6309\u4e0byy \uff0c\u53ef\u590d\u5236\u4e00\u5757\u533a\u57df\u5185\u7684\u5185\u5bb9 \u6309\u4e0b v \uff0c\u518d\u6309\u65b9\u5411\u952e\u63a7\u5236\u5149\u6807 \uff0c\u6b63\u5e38\u5149\u6807\u9009\u4e2d\u7684\u6548\u679c \u6309\u4e0bp \uff0c\u5728\u4e0b\u4e00\u884c\u7c98\u8d34 \u526a\u5207\u5220\u9664 \u6309\u4e0b dd \u5220\u9664\u4e00\u884c \u6309\u4e0b d \u65b9\u5411\u952e\u5de6\uff0c\u5220\u9664\u5149\u6807\u524d\u4e00\u4e2a \u6309\u4e0b d \u65b9\u5411\u952e\u53f3\uff0c\u5220\u9664\u5149\u6807\u9009\u4e2d\u7684 \u6309\u4e0b d \u65b9\u5411\u952e\u4e0a\u6216\u4e0b\uff0c\u5220\u9664\u9009\u4e2d\u884c\u548c\u4e0a\u6216\u4e0b\u7684\u4e00\u884c \u6309\u4e0b d \u6570\u5b57 \u65b9\u5411\u952e\uff0c\u5220\u9664\u6240\u9009\u884c\u53ca\u4e0a\u4e0bn\u884c \u6309\u4e0b \u6570\u5b57\u952e dd \uff0c\u5220\u9664\u5149\u6807\u6240\u5728\u884c\u53ca\u5411\u4e0b\u7684\u591a\u884c \u6309\u4e0b D \uff0c\u5220\u9664\u6240\u5728\u884c\uff0c\u4e0b\u4e00\u884c\u4e0d\u4e0a\u79fb \u64a4\u9500 \u6309\u4e0b u \u64a4\u9500\u4e0a\u4e00\u6b65\u64cd\u4f5c\uff0c\u53ef\u8fde\u7eed\u64a4\u9500 \u6062\u590d ctrl r \u6062\u590d\uff08\u53d6\u6d88\uff09\u4e4b\u524d\u7684\u64a4\u9500 \u7f16\u8f91\u6a21\u5f0f \u8be5\u6a21\u5f0f\u4e0b\u53ef\u4ee5\u5bf9\u6587\u4ef6\u5185\u5bb9\u8fdb\u884c\u76f4\u63a5\u7f16\u8f91 - \u8fdb\u5165 - \u5728\u547d\u4ee4\u6a21\u5f0f\u4e0b\uff0c\u6309i\uff0c\u5728\u5149\u6807\u6240\u5728\u524d\u63d2\u5165 - \u6309\u65b9\u5411\u952e\u6539\u53d8\u5149\u6807\u4f4d\u7f6e \u9000\u51fa \u6309\u4e0b esc \u672b\u884c\u6a21\u5f0f \u5728\u8be5\u6a21\u5f0f\u4e0b\uff0c\u53ef\u4ee5\u5728\u672b\u884c\u8f93\u5165\u4e00\u4e9b\u547d\u4ee4\u5bf9\u6587\u4ef6\u8fdb\u884c\u64cd\u4f5c\uff08\u641c\u7d22\uff0c\u66ff\u6362\uff0c\u4fdd\u5b58\uff0c\u9000\u51fa\uff0c\u64a4\u9500\uff0c\u9ad8\u4eae\uff09 - \u8fdb\u5165 - \u5728\u547d\u4ee4\u6a21\u5f0f\u4e0b\uff0c\u6309\uff1a\uff08\u5373shift \uff1a\uff09 \u6216 \"/\"\uff08\u4ec5\u7528\u4e8e\u641c\u7d22\uff09 \u8fdb\u5165\u672b\u884c\u6a21\u5f0f - \u9000\u51fa\u672b\u884c\u6a21\u5f0f - \u6309esc \u4e00\u4e0b \uff08\u6162\uff09 - \u6309\u4e24\u4e0besc \uff08\u5feb\uff09 - \u5220\u9664\u5185\u5bb9\u53ca\"\uff1a\" \u4fdd\u5b58 \u8f93\u5165 w \u4fdd\u5b58 \u8f93\u5165 w \u8def\u5f84 \u53e6\u5b58\u4e3a \u9000\u51fa \u8f93\u5165 q \u9000\u51fa \u8f93\u5165 wq \u4fdd\u5b58\u5e76\u9000\u51fa \u8f93\u5165 q! \u5f3a\u5236\u9000\u51fa\uff0c\u4e0d\u4fdd\u5b58 \u8f93\u5165 x \u667a\u80fd\u9000\u51fa\uff0c\u6709\u4fee\u6539\u5219\u4fdd\u5b58 \u4e0d\u9000\u51fa\u6267\u884c\u7ec8\u7aef\u547d\u4ee4 \u8f93\u5165 ! \u5916\u90e8\u547d\u4ee4 \u6267\u884c\u5916\u90e8\u547d\u4ee4\uff08\u5207\u6362\u5230\u7ec8\u7aef\u663e\u793a\uff09 \u6309\u4e0benter\u53ef\u7ee7\u7eed\u5207\u6362\u5230vim\u5185 \u641c\u7d22 \u6309\u4e0b / \u8fdb\u5165\u672b\u884c\u6a21\u5f0f /\u8981\u641c\u7d22\u7684\u8bcd\u8bed \uff08\u4e2d\u95f4\u6ca1\u6709\u7a7a\u683c\uff09 \u641c\u7d22\u7ed3\u679c\u7684\u5207\u6362 \u6309 N \u5207\u5230\u4e0a\u4e00\u4e2a\u7ed3\u679c \u6309 n \u5207\u5230\u4e0b\u4e00\u4e2a\u7ed3\u679c \u53d6\u6d88\u9ad8\u4eae \uff1a\u8f93\u5165nohl \u6216\u8005 noh \uff08no highlight\uff09 \u66ff\u6362 \uff1as/\u641c\u7d22\u5185\u5bb9/\u66ff\u6362\u5185\u5bb9 \u66ff\u6362\u5149\u6807\u6240\u5728\u884c\u7684\u7b2c\u4e00\u5904\u7b26\u5408\u7684\u5185\u5bb9 \uff1as/\u641c\u7d22\u5185\u5bb9/\u66ff\u6362\u5185\u5bb9/g \u66ff\u6362\u5149\u6807\u6240\u5728\u884c\u7684\u6240\u6709\u7b26\u5408\u7684\u5185\u5bb9 \uff1a%s/\u641c\u7d22\u5185\u5bb9/\u66ff\u6362\u5185\u5bb9 \u66ff\u6362\u6574\u4e2a\u6587\u6863\u6bcf\u4e00\u884c\u7b2c\u4e00\u4e2a\u7b26\u5408\u7684 \uff1a%s/\u641c\u7d22\u5185\u5bb9/\u66ff\u6362\u5185\u5bb9/g \u66ff\u6362\u5168\u90e8\u7b26\u5408\u7684 % \u8868\u793a\u6574\u4e2a\u6587\u6863 g \u8868\u793a\u5168\u5c40\uff08\u884c\uff09 \u663e\u793a\u884c\u53f7 \uff1aset nu \uff08number\uff09 \u663e\u793a\u884c\u53f7 \uff1aset nonu \u4e0d\u663e\u793a\u884c\u53f7 \u591a\u6587\u6863\u5207\u6362\uff08\u5728\u6253\u5f00\u7528\u4e00\u4e2avim\u6253\u5f00\u591a\u4e2a\u6587\u4ef6\u7684\u524d\u63d0\u4e0b\uff0c\u4e0d\u80fd\u662f\u6253\u5f00\u591a\u4e2avim\uff01\uff01\uff01\uff09 \u67e5\u770b\u5f53\u524d\u5df2\u6253\u5f00\u7684\u6587\u4ef6 \uff1afiles \"%a\" \u8868\u793a\u6253\u5f00\u7684\u6587\u4ef6 \"#\"\u8868\u793a\u4e0a\u4e00\u4e2a\u6253\u5f00\u7684\u6587\u4ef6 \u5207\u6362\u6587\u4ef6 \uff1aopen \u6587\u4ef6\u540d \uff1abn \u5207\u6362\u5230\u4e0b\u4e00\u4e2a\u6587\u4ef6\uff08next\uff09 \uff1abp \u5207\u6362\u5230\u4e0a\u4e00\u4e2a\u6587\u4ef6\uff08previous\uff09 \u5176\u5b83\u529f\u80fd \u4ee3\u7801\u4f5c\u8272 code\u6a21\u5f0f\u4e0b\u81ea\u52a8\u4f5c\u8272 \uff1asyntax on \u663e\u793a\u4f5c\u8272\uff08syntax\uff1a\u8bed\u6cd5\uff09 \uff1asyntax off \u4e0d\u663e\u793a vim\u4e2d\u7684\u8ba1\u7b97\u5668 \u6b65\u9aa4 \u5148\u8fdb\u5165\u7f16\u8f91\u6a21\u5f0f \u6309\u4e0b ctrl+r \uff0c\u7136\u540e\u8f93\u5165 = \uff0c\u6b64\u65f6\u5149\u6807\u4f1a\u53d8\u5230\u6700\u540e\u4e00\u884c \u8f93\u5165\u9700\u8981\u8ba1\u7b97\u7684\u5185\u5bb9\uff0c\u6309\u4e0b\u56de\u8f66 \u62d3\u5c55\u5185\u5bb9 vim \u914d\u7f6e \u914d\u7f6e\u7684\u4e09\u79cd\u60c5\u51b5 \u4e34\u65f6\u914d\u7f6e\uff0c\u5373\u5728\u547d\u4ee4\u6a21\u5f0f\u4e0b\u8f93\u5165\u7684\u914d\u7f6e \u4e2a\u4eba\u914d\u7f6e\u6587\u4ef6\uff08~/.vimrc \u9690\u85cf\u6587\u4ef6\uff0c\u5982\u679c\u6ca1\u6709\uff0c\u53ef\u81ea\u884c\u65b0\u5efa\uff09 \u5168\u5c40\u914d\u7f6e\u6587\u4ef6\uff08vim\u81ea\u5e26\uff0c/etc/vimrc\uff09 \u914d\u7f6e\u6b65\u9aa4 \u65b0\u5efa\u4e2a\u4eba\u914d\u7f6e\u6587\u4ef6 vim \u6253\u5f00 \uff0c\u8fdb\u5165\u7f16\u8f91\u6a21\u5f0f \u5199\u5165\u914d\u7f6e\u5185\u5bb9 set nu \u663e\u793a\u884c\u53f7 \u5f53\u4e2a\u4eba\u914d\u7f6e\u4e0e\u5168\u5c40\u914d\u7f6e\u6709\u51b2\u7a81\u65f6\uff0c\u4ee5\u4e2a\u4eba\u914d\u7f6e\u4e3a\u51c6\uff01\uff01\uff01 \u522b\u540d\u673a\u5236 \u8bbe\u7f6e\u6620\u5c04 \u6620\u5c04\u6587\u4ef6\uff1a~/.bashrc vim\u7f16\u8f91\u5373\u53ef \u91cd\u65b0\u767b\u5f55\u5f53\u524d\u8d26\u53f7\u751f\u6548 \u6587\u4ef6\u52a0\u5bc6 \u8bbe\u7f6e\u5bc6\u7801 vim\u547d\u4ee4\u6a21\u5f0f\u4e0b\uff0c\u8f93\u5165\u5927\u5199\u7684 X \u8f93\u5165\u5bc6\u7801 \u4fdd\u6301\u9000\u51fa\uff0c\u4e00\u5b9a\u8981\u4fdd\u5b58\u624d\u751f\u6548 Linux \u81ea\u6709\u670d\u52a1\uff08\u5185\u7f6e\u670d\u52a1\uff09 \u8fd0\u884c\u6a21\u5f0f \u4ee5\u4e0b\u5185\u5bb9 centos 7 \u5df2\u7ecf\u4e0d\u9002\u7528 \u5728Linux\u4e2d\u5b58\u5728\u4e00\u4e2a\u8fdb\u7a0b\uff1ainit \uff08initialize\uff0c\u521d\u59cb\u5316\uff09\uff0c\u8fdb\u7a0bid\u662f1\u3002 \u67e5\u770b\u8be5\u8fdb\u7a0b\uff1aps -ef | grep init \u914d\u7f6e\u6587\u4ef6 inittab \u5728\uff1a/etc/inittab \u547d\u4ee4\uff08\u5207\u6362\u6a21\u5f0f\uff09 init 0 \u5173\u673a init 3 \u5207\u6362\u5230\u4e0d\u5e26\u684c\u9762\u6a21\u5f0f init 5 \u5207\u6362\u5230\u56fe\u5f62\u754c\u9762 init 6 \u91cd\u542f \u5207\u8bb0\u4e0d\u53ef\u7528\u9519\u6570\u5b57\uff01\uff01\uff01 \u7528\u6237\u4e0e\u7528\u6237\u7ec4 \u914d\u7f6e\u6587\u4ef6\u4f4d\u7f6e /etc/passwd \u50a8\u5b58\u7528\u6237\u4fe1\u606f /etc/group \u50a8\u5b58\u7528\u6237\u7ec4\u4fe1\u606f /etc/shadow \u50a8\u5b58\u5bc6\u7801\u4fe1\u606f \u7528\u6237\u7ba1\u7406 \u6dfb\u52a0\u7528\u6237 useradd -\u9009\u9879 \uff08\u9009\u9879\u5185\u5bb9\uff09 \u7528\u6237\u540d \uff1a\u6dfb\u52a0\u7528\u6237 e.g. useradd -g 501 -G 500 -u 666 test \u9009\u9879 -g \u6307\u5b9a\u7528\u6237\u7684\u7528\u6237\u4e3b\u7ec4 \u53ef\u4ee5\u662f\u7528\u6237\u7ec4\u7684id\u6216\u8005\u7ec4\u540d -G \u6307\u5b9a\u7528\u6237\u7684\u7528\u6237\u9644\u52a0\u7ec4 -u uid\uff0c\u7528\u6237id\uff08\u7528\u6237\u53ef\u81ea\u5b9a\u4e49\u7528\u6237id\uff09 -c \u6dfb\u52a0\u7528\u6237\u7684\u6ce8\u91ca \u9a8c\u8bc1\u662f\u5426\u6dfb\u52a0\u6210\u529f \u67e5\u770b /etc/passwd \uff08\u91cc\u9762\u4f1a\u663e\u793a\u4e3b\u7ec4\u7684id\uff09 \u67e5\u770b /home/ \u91cc\u9762\u6709\u6ca1\u6709\u65b0\u6587\u4ef6\u5939 \u67e5\u770b /etc/group \uff0c\u91cc\u9762\u53ef\u67e5\u770b\u9644\u52a0\u7ec4\u7684\u4fe1\u606f \u4fee\u6539\u7528\u6237 usermod -\u9009\u9879 \uff08\u5185\u5bb9\uff09 \u7528\u6237\u540d \u9009\u9879 -g \u6307\u5b9a\u7528\u6237\u7684\u7528\u6237\u4e3b\u7ec4 \u53ef\u4ee5\u662f\u7528\u6237\u7ec4\u7684id\u6216\u8005\u7ec4\u540d -G \u6307\u5b9a\u7528\u6237\u7684\u7528\u6237\u9644\u52a0\u7ec4 -u uid\uff0c\u7528\u6237id\uff08\u7528\u6237\u53ef\u81ea\u5b9a\u4e49\u7528\u6237id\uff09 -c \u6dfb\u52a0\u7528\u6237\u7684\u6ce8\u91ca -l \u4fee\u6539\u540e\u7684\u7528\u6237\u540d\uff08\u4fee\u6539\u7528\u6237\u540d\uff0c\u5bb6\u76ee\u5f55\u4e0d\u53d8\uff09 \u8bbe\u7f6e\u5bc6\u7801 passwd \u7528\u6237\u540d \u547d\u4ee4\u884c\u7ee7\u7eed\u8f93\u5165\u5bc6\u7801\u5373\u53ef \u5207\u6362\u7528\u6237 su \u7528\u6237\u540d \u5207\u6362\u5230\u7528\u6237 su \u5207\u6362\u5230root \u5220\u9664\u7528\u6237 userdel \u7528\u6237\u540d\uff08\u7528\u6237\u9700\u8981\u9000\u51fa\u767b\u5f55\uff09 \u9009\u9879 -r \u5220\u9664\u7528\u6237\u7684\u540c\u65f6\uff0c\u5220\u9664\u5176\u5bb6\u76ee\u5f55 \u5df2\u7ecf\u767b\u5f55\u7684\u7528\u6237 \u5148\u67e5\u770b\u5176\u7528\u6237\u8fdb\u7a0b ps -ef | grep \u7528\u6237\u540d \u5173\u95ed\u7528\u6237\u8fdb\u7a0b kill \u7528\u6237\u8fdb\u7a0bid \u7528\u6237\u7ec4\u7ba1\u7406 \u521b\u5efa\u7528\u6237\u65f6\uff0c\u8981\u662f\u6ca1\u6709\u6307\u5b9a\u7528\u6237\u7ec4\uff0c\u7cfb\u7edf\u4f1a\u81ea\u52a8\u6dfb\u52a0\u5bf9\u5e94\u7528\u6237\u7ec4 \u7528\u6237\u5fc5\u987b\u8981\u6709\u7528\u6237\u7ec4 - \u7528\u6237\u7ec4\u6dfb\u52a0 - groupadd -\u9009\u9879 \u7528\u6237\u7ec4\u540d - \u9009\u9879 - -g \u8bbe\u7f6e\u7528\u6237\u7ec4id \u7528\u6237\u7ec4\u7f16\u8f91 groupmod -\u9009\u9879 \u7528\u6237\u7ec4\u540d \u9009\u9879 -g \u8bbe\u7f6e\u7528\u6237\u7ec4id -n \u4fee\u6539\u65b0\u540d\u5b57 \u7528\u6237\u7ec4\u5220\u9664 groupdel \u7528\u6237\u7ec4\uff08\u7528\u6237\u7ec4\u5185\u4e0d\u80fd\u6709\u7528\u6237\uff09 \u9700\u8981\u5148\u5220\u9664\u7ec4\u5185\u7528\u6237\uff0c\u6216\u79fb\u8d70\u7528\u6237 \u7f51\u7edc\u8bbe\u7f6e\u53ca\u670d\u52a1 \u7f51\u5361\u914d\u7f6e \u7f51\u5361\u914d\u7f6e\u6587\u4ef6\u4f4d\u7f6e \u76ee\u5f55\uff1a/etc/sysconfig/network-scripts \uff08\u7cfb\u7edf\u914d\u7f6e\uff0c\u7f51\u7edc\u5217\u8868\uff09 \u914d\u7f6e\u6587\u4ef6\u547d\u540d\u683c\u5f0f\uff1aifcfg-\u7f51\u5361\u540d\u79f0 \u6587\u4ef6\u5185\u5bb9\uff1a ONBOOT\uff1a\u5f00\u673a\u542f\u52a8 BOOTPROTO\uff1aip\u5730\u5740\u5206\u914d\u65b9\u5f0f\uff0cDHCP\u8868\u793a\u52a8\u6001\u5206\u914d\u534f\u8bae HWADDR\uff1a\u786c\u4ef6\u5730\u5740\uff0c\u5373MAC\u5730\u5740 \u7f51\u5361\u64cd\u4f5c \u91cd\u542f\u7f51\u5361 service network restart \u91cd\u542f\u7f51\u7edc\u670d\u52a1 /etc/init.d/network restart \u540c\u4e0a \u505c\u6b62\u67d0\u7f51\u5361 ifdown \u7f51\u5361\u540d \u6253\u5f00\u67d0\u7f51\u5361 ifup \u7f51\u5361\u540d SSH \u670d\u52a1\uff08secure shell\uff0c\u5b89\u5168\u534f\u8bae\uff09 \u4e3b\u8981\u529f\u80fd\uff1a\u8fdc\u7a0b\u8fde\u63a5\u534f\u8bae\uff0c\u8fdc\u7a0b\u4f20\u8f93\u534f\u8bae \u534f\u8bae\u7aef\u53e3\uff1a22 \u670d\u52a1\u542f\u52a8/\u505c\u6b62/\u91cd\u542f service sshd start/stop/restart /etc/init.d/sshd start/stop/restart \u8fdc\u7a0b\u7ec8\u7aef\u8fde\u63a5 \u7ec8\u7aef\u5de5\u5177 \uff1aXshell\uff0csecureCRT\uff0cPutty\u7b49 \u4ee5\u4e0b\u4ee5Putty\u4e3a\u4f8b \u64cd\u4f5c\u6b65\u9aa4 \u5148\u83b7\u53d6\u670d\u52a1\u5668ip\u5730\u5740 \u5728win\u4e0b\u5c1d\u8bd5ping\u901a \u5728putty\u4e2d\u8fdb\u884c\u6253\u5f00 \u8fdc\u7a0b\u6587\u4ef6\u4f20\u8f93 \u6587\u4ef6\uff1afilezilla \u5b89\u88c5\u597d\u4e4b\u540e\uff0c\u65b0\u5efa\u7ad9\u70b9\uff0c\u9009\u62e9SFTP\uff0c\u8fde\u63a5 \u53ef\u5c06\u672c\u5730\u6587\u4ef6\u4f20\u5230\u670d\u52a1\u5668\uff0c\u4e5f\u53ef\u4ee5\u5c06\u670d\u52a1\u5668\u4e0b\u8f7d\u5230\u672c\u5730 \u6587\u4ef6\uff1aPSCP\uff08\u4e0ePutty\u4e00\u4e2a\u516c\u53f8\u7684\uff09 \u9700\u8981\u7528CMD\u6253\u5f00 pscp -\u9009\u9879 \u7528\u6237\u540d@\u4e3b\u673a\u5730\u5740\uff1a\u8d44\u6e90\u5730\u5740 \u672c\u5730\u5730\u5740\uff08\u4e0b\u8f7d\uff09 pscp -\u9009\u9879 \u672c\u5730\u5730\u5740 \u7528\u6237\u540d@\u4e3b\u673a\u5730\u5740\uff1a\u8fdc\u7a0b\u5730\u5740\uff08\u4e0a\u4f20\uff09 chkconfig \u5f00\u673a\u542f\u52a8\u9879\u7ba1\u7406 centos 7 \u4e4b\u540e\u5df2\u5f03\u7528\uff0c\u8be6\u60c5\u641c\u7d22\u767e\u5ea6 \u8bbe\u7f6e\u81ea\u542f\u52a8\uff1asystemctl enable httpd.service ntp \u670d\u52a1 \u540c\u6b65\u65f6\u95f4 - \u4e00\u6b21\u6027\u624b\u52a8\u64cd\u4f5c\uff1a - ntpdate \u65f6\u95f4\u670d\u52a1\u5668ip - e.g. ntpdate 120.25.108.11 \uff08\u963f\u91cc\u4e91\uff09 \u542f\u52a8 ntpd \u670d\u52a1\uff0c\u81ea\u52a8\u6821\u51c6\u65f6\u95f4 \u9632\u706b\u5899 centos 7 \u4e4b\u540e\u9632\u706b\u5899\u662f firewall\uff08firewalld\uff09 \u6253\u5f00\u5173\u95ed\u4e0e\u5176\u4ed6\u670d\u52a1\u4e00\u6837 \u5173\u95ed\u670d\u52a1\u4e4b\u540e\uff0c\u5728win\u4e0b\u4e5f\u53ef\u4ee5\u8fdb\u5165ip\u9875\u9762 \u8bbe\u7f6e\u9632\u706b\u5899\u652f\u630180\u7aef\u53e3\u901a\u8fc7\uff1a\u81ea\u5df1\u770b\u767e\u5ea6 rpm \u7ba1\u7406 \u4f5c\u7528\uff1a\u7ba1\u7406linux\u8f6f\u4ef6 - \u67e5\u8be2\u5df2\u5b89\u88c5\u8f6f\u4ef6 - rpm -qa \u67e5\u8be2\u7ed3\u679c\u975e\u5e38\u591a\uff0c\u4e00\u822c\u8fdb\u884cgrep\u8fc7\u6ee4 - -q \u67e5\u8be2 - -a all\u5168\u90e8 \u5378\u8f7d\u5df2\u88c5\u7684\u8f6f\u4ef6 rpm -e \u8f6f\u4ef6\u540d -e \u5378\u8f7d rpm -e \u8f6f\u4ef6\u540d --nodeps --nodeps \u5b58\u5728\u4f9d\u8d56\u5173\u7cfb\u65f6\uff0c\u5ffd\u7565\u4f9d\u8d56\u5173\u7cfb \u5b89\u88c5\u8f6f\u4ef6 \u65b9\u5f0f1\uff1a\u4e0d\u4ecb\u610f\u7248\u672c\uff0c\u53ef\u4ee5\u4ece\u5149\u76d8\u4e2d\u8bfb\u53d6 lsblk \uff08list block devices\uff09 \u67e5\u770b\u8bbe\u5907\uff08\u5149\u76d8\uff09 \u5728\u5149\u76d8\u6587\u4ef6\u7684packages\u76ee\u5f55\u4e0b \u5b89\u88c5 rpm -ivh \u8f6f\u4ef6\u5305\u5b8c\u6574\u540d\u79f0 -i \u5b89\u88c5 -v \u663e\u793a\u8fdb\u5ea6\u6761 -h \u4ee5\"#\"\u65b9\u5f0f\u663e\u793a\u8fdb\u5ea6\u6761 \u65b9\u5f0f2\uff1a\u81ea\u5df1\u4e0a\u7f51\u4e0b\u8f7d cron \u8ba1\u5212\u4efb\u52a1 crontab -\u9009\u9879 -l list\u663e\u793a -e edit\u7f16\u8f91 -u user \u6307\u5b9a\u7528\u6237 -r \u8f93\u51fa\u7528\u6237\u8ba1\u5212\u5217\u8868 \u7f16\u8f91\u8ba1\u5212 crontab -e \u8bed\u6cd5\uff1a \u4ee5\u884c\u4e3a\u5355\u4f4d\uff0c\u4e00\u884c\u4e3a\u4e00\u4e2a\u8ba1\u5212 \u5206 \u65f6 \u65e5 \u6708 \u5468 \u547d\u4ee4 \u5468\u65e5\u4e3a 0 \u6216 7 \" \"\uff0c\u5168\u90e8\u3002\u6bcf\u5c0f\u65f6\u5219\u5728\u65f6\u7684\u4f4d\u7f6e\u8f93\u5165 \uff08\u661f\u53f7\uff09\u3002\u6bcf\u5e74\u6708\u65e5\u4ee5\u6b64\u7c7b\u63a8 \"-\"\uff0c\u533a\u95f4\u3002\u533a\u95f41\u52307\u70b9\uff0c\u5219\u5728\u65f6\u7684\u4f4d\u7f6e\u8f93\u5165 1-7 / \u8868\u793a\u6bcf\u591a\u5c11\u4e2a\u3002\u6bcf\u5341\u5206\u949f */10 \uff0c \u8868\u793a\u591a\u70b9\u53d6\u503c\u30021\uff0c2\uff0c3 e.g. \u6bcf\u59290\u70b9\u91cd\u542f 0 0 * * * reboot cron\u6743\u9650 \u9ed8\u8ba4\u6240\u6709\u4eba\u90fd\u53ef\u4ee5\u6dfb\u52a0cron \u9650\u5236\u6743\u9650 \u5728 /etc/cron.deny \u91cc\u9762\u5199\u7528\u6237\u540d\uff0c\u4e00\u884c\u4e00\u4e2a Linux \u6743\u9650 \u7528\u6237\u8eab\u4efd\u6743\u9650 \u4e09\u79cd\u8eab\u4efd owner \u6587\u4ef6\u6240\u6709\u8005\uff0c\u4e00\u822c\u4e3a\u521b\u5efa\u8005 Group \u6587\u4ef6\u6240\u5c5e\u7528\u6237\u7ec4 others \u5176\u4ed6\u4eba \u4e09\u79cd\u6743\u9650\u7531\u9ad8\u5230\u4f4e \u6587\u4ef6\u6743\u9650 \u5206\u7c7b r\uff1a\u8bfb w\uff1a\u5199 x/e\uff1a\u6267\u884c ls -l \u6216\u8005 ll \u7b2c\u4e00\u4e2a\u662f\u6587\u4ef6/\u6587\u4ef6\u5939/\u5feb\u6377\u65b9\u5f0f\uff1a-/d/l 2-4\uff1aowner\u6743\u9650 5-7\uff1agroup\u6743\u9650 8-10\uff1aothers\u6743\u9650 e.g. drwxr-x--- \u6743\u9650\u8bbe\u7f6e chmod -\u9009\u9879 \u6743\u9650\u6a21\u5f0f \u6587\u6863 -R\uff1a\u9012\u5f52\uff0c\u7528\u4e8e\u6587\u4ef6\u5939 \u53ea\u6709 root \u548c owner \u53ef\u4ee5\u8bbe\u7f6e\u6743\u9650 \u8be6\u7ec6\u4fee\u6539\u89c4\u5219\u89c1\u767e\u5ea6 \u5c5e\u4e3b\u548c\u5c5e\u7ec4\u6743\u9650 \u5c5e\u4e3b\uff1a\u6587\u4ef6\u6240\u5c5e\u7684\u7528\u6237 \u5c5e\u7ec4\uff1a\u6240\u5c5e\u7684\u7528\u6237\u7ec4 ls -l \u67e5\u770b\u65f6\uff0c\u7b2c\u4e00\u4e2a\u540d\u5b57\u662f\u5c5e\u4e3b\uff0c\u7b2c\u4e8c\u4e2a\u662f\u5c5e\u7ec4 chown \u66f4\u6539\u6587\u6863\u7684\u5c5e\u4e3b chown \uff08-R\uff09 username \u6587\u4ef6\u8def\u5f84 chgrp \u66f4\u6539\u6587\u6863\u7684\u5c5e\u7ec4 chgrp \uff08-R\uff09 groupname \u6587\u4ef6\u8def\u5f84 \u540c\u65f6\u66f4\u6539\u5c5e\u4e3b\u548c\u5c5e\u7ec4 chown \uff08-R\uff09 username:groupname \u6587\u4ef6\u8def\u5f84 sudo sudo \u53ef\u4ee5\u8ba9 root \u4e8b\u5148\u5b9a\u4e49\u67d0\u4e9b\u7279\u6b8a\u6307\u4ee4\u8c01\u53ef\u4ee5\u6267\u884c \u9ed8\u8ba4 sudo \u91cc\u662f\u6ca1\u6709\u4efb\u4f55\u547d\u4ee4\u7684\uff0c\u9700\u8981 root \u63d0\u524d\u914d\u7f6e - \u6587\u4ef6\u914d\u7f6e\u5730\u5740 - /etc/sudoers \u6587\u4ef6 - \u4f46\u8be5\u6587\u4ef6\u65e0\u6cd5\u76f4\u63a5\u7f16\u8f91\uff01\uff01\uff01 \u914d\u7f6esudo visudo \u7528\u7279\u6b8a\u7684\u65b9\u6cd5\u6253\u5f00sudo\uff0c\u64cd\u4f5c\u7c7b\u4f3cvim \u5176\u4e2d\u6709\u4e00\u4e2a\u4f8b\u5b50\uff1aroot ALL=(ALL) ALL root \u7528\u6237\u540d\uff0c\u7528\u6237\u7ec4\u53ef\u4ee5\u5199 \uff1a%\u7ec4\u540d ALL \u5730\u5740\u767d\u540d\u5355 (ALL) \u4ee5\u8c01\u7684\u8eab\u4efd\u6267\u884c\uff0cALL\u8868\u793aroot ALL \u53ef\u6267\u884c\u547d\u4ee4\uff0c\u591a\u547d\u4ee4\u7528\",\"\u5206\u9694 \u4e00\u822c\u662f \u7528\u6237\u540d \u548c \u547d\u4ee4 \u9700\u8981\u8bbe\u7f6e \u5728\u5199\u547d\u4ee4\u65f6\uff0c\u4e0d\u5efa\u8bae\u76f4\u63a5\u5199\u547d\u4ee4\u5185\u5bb9\uff0c\u800c\u662f\u5199\u5165\u547d\u4ee4\u7684\u5b8c\u6574\u8def\u5f84 \u67e5\u770b\u547d\u4ee4\u5b8c\u6574\u8def\u5f84\u7684\u65b9\u6cd5\uff1a#which \u547d\u4ee4 \u5bf9\u4e8e\u4e0d\u5e0c\u671b\u6267\u884c\u7684\u547d\u4ee4\uff1a!\u547d\u4ee4 sudo \u4f7f\u7528 \u5728\u4f7f\u7528sudo\u547d\u4ee4\u65f6\uff0c\u8981 $sudo \u547d\u4ee4 \u9700\u8981\u8f93\u5165\u5bc6\u7801\u7684\u8bdd\uff0c\u8f93\u5165\u5f53\u524d\u7528\u6237\u7684\u5bc6\u7801\uff0c\u5373\u9a8c\u8bc1\u5bc6\u7801 \u67e5\u770bsudo\u6743\u9650 sudo -l Linux \u7f51\u7edc \u7f51\u7edc\u547d\u4ee4 ping ping ip \u68c0\u6d4b\u8fde\u901a\u6027 netstat \u67e5\u770b\u7f51\u7edc\u8fde\u63a5\u60c5\u51b5 netstat -ntpl ntestat -na -a \u5168\u90e8 -n \u5c06\u5b57\u6bcd\u8f6c\u5316\u4e3a\u6570\u5b57 traceroute \u67e5\u627e\u5f53\u524d\u4e3b\u673a\u4e0e\u76ee\u6807\u4e3b\u673a\u4e4b\u95f4\u7684\u6240\u6709\u7684\u7f51\u5173 traceroute \u4e3b\u673aip arp \u5730\u5740\u89e3\u6790\u534f\u8bae\uff0c\u6839\u636eip\u5730\u5740\u83b7\u53d6mac\u5730\u5740 arp -a \u67e5\u770b\u672c\u5730\u7f13\u5b58\u7684mac\u5730\u5740 arp -d ip\u5730\u5740 \u5220\u9664\u7f13\u5b58\u7684\u8be5ip\u4e0b\u7684mac\u5730\u5740 tcpdump \u6293\u5305 tcpdump \u534f\u8bae port \u7aef\u53e3 tcpdump \u534f\u8bae port \u7aef\u53e3 host \u5730\u5740 tcpdump -i \u7f51\u5361\u8bbe\u5907\u540d \u9879\u76ee\u4e0a\u7ebf \u7ebf\u4e0a\u670d\u52a1\u5668\u5fc5\u987b\u662f\u5916\u7f51\u670d\u52a1\u5668 - \u4e91\u670d\u52a1\u5668 - \u57df\u540d - \u57df\u540d\u8d2d\u4e70 - \u57df\u540d\u5907\u6848 - \u57df\u540d\u89e3\u6790 - \u89e3\u6790\uff1a\u5c06\u57df\u540d\u7ed1\u5b9a\u5230\u4e00\u4e2a\u670d\u52a1\u5668\u5730\u5740\u7684\u64cd\u4f5c - DNS\uff1a\u5c06\u57df\u540d\u8f6c\u5316\u4e3aip\u5730\u5740\u7684\u670d\u52a1\u5668 Shell Linux \u4e2d\u9ed8\u8ba4\u7684 shell \u662f /bin/bash \uff01\uff01\uff01 shell \u7684\u79cd\u7c7b\u975e\u5e38\u591a\uff0c\u76ee\u524d\u4ee5 bash \u4e3a\u4e3b \u7f16\u5199\u89c4\u8303 \u5728\u6587\u6863\u5f00\u5934\uff0c\u8981\u5199\u5165\u4ee5\u4e0b\u5185\u5bb9 !/bin/bash \u540e\u9762\u7684\u662f\u6ce8\u91ca \u544a\u77e5\u7cfb\u7edf\u5f53\u524d\u811a\u672c\u8981\u4f7f\u7528\u7684shell\u89e3\u91ca\u5668 \u6587\u4ef6\u547d\u540d \u6587\u4ef6\u540d.sh .sh \u662fbash\u9ed8\u8ba4\u540e\u7f00 \u6587\u4ef6\u8fd0\u884c bash \u6587\u4ef6\u8def\u5f84 or sh \u6587\u4ef6\u8def\u5f84 \u76f4\u63a5\u8f93\u5165\u8def\u5f84\uff08\u53ef\u80fd\u4f1a\u56e0\u4e3a\u6743\u9650\u65e0\u6cd5\u8fd0\u884c\uff09 \u4fee\u6539\u6743\u9650\uff1achmod a+x \u6587\u4ef6\u8def\u5f84 \u4f8b\u4e00\uff1a\u8f93\u51fa hello world shell #!/bin/bash echo \"hello world\" echo \u8868\u793a\u8f93\u51fa \u4f8b\u4e8c\uff1a\u521b\u5efa\u7528\u6237shelltest\uff0c\u5e76\u5728\u5176\u5bb6\u76ee\u5f55\u521b\u5efa\u6587\u4ef6try.html shell #!/bin/bash useradd shelltest touch /home/shelltest/try.html \u7b80\u5355\u7684 shell \u547d\u4ee4\u548c\u76f4\u63a5\u5728\u7ec8\u7aef\u8f93\u5165\u7684\u4e00\u6837 \u53d8\u91cf \u53d8\u91cf\u8981\u5148\u5b9a\u4e49\uff0c\u540e\u4f7f\u7528 - \u4f8b\u4e09\uff1a\u521b\u5efa\u5e76\u4f7f\u7528\u53d8\u91cf shell a=\"abc\" echo $a - \u5728\u4f7f\u7528\u53d8\u91cf\u7684\u65f6\u5019\uff0c\u4e00\u5b9a\u8981\u52a0\u4e0a \"$\" \uff01\uff01\uff01\uff01\uff01\uff01 - \u5728\u5b9a\u4e49\u53d8\u91cf\u65f6\uff0c\"=\" \u5de6\u53f3\u4e0d\u80fd\u6709\u7a7a\u683c \uff01\uff01\uff01\uff01\uff01\uff01 \u5f15\u53f7 \u53cc\u5f15\u53f7\u53ef\u4ee5\u8bd5\u522b\u91cc\u9762\u7684\u53d8\u91cf\uff0c\u5e76\u4e14\u53ef\u4ee5\u5b9e\u73b0\u8f6c\u4e49 \uff01\uff01\uff01 \u5355\u5f15\u53f7\u4e0d\u80fd\u8bd5\u522b\u53d8\u91cf\uff0c\u5373\u539f\u6837\u8f93\u51fa\uff0c\u4e5f\u4e0d\u80fd\u8f6c\u4e49 \uff01\uff01\uff01 \u53cd\u5f15\u53f7(`,esc\u4e0b\u9762)\uff0c\u5728\u811a\u672c\u4e2d\u9700\u8981\u5c06\u6267\u884c\u7684\u6307\u4ee4\u7684\u7ed3\u679c\u8d4b\u7ed9\u53d8\u91cf\u65f6\u4f7f\u7528 \uff01\uff01\uff01 \u4f8b\u56db\uff1a\u8f93\u51fa\u683c\u5f0f\u5316\u65f6\u95f4 shell #!/bin/bash dt=`date +\"%F %T\"` echo $dt \u6ce8\u610f\u53cd\u5f15\u53f7\u7684\u7528\u6cd5 \uff01\uff01\uff01 \u53ea\u8bfb\u53d8\u91cf readonly \u53d8\u91cf\u540d \uff08\u4e0d\u9700\u8981\u52a0$\uff09 \u5728\u5b9a\u4e49\u597d\u53d8\u91cf\u4e4b\u540e\uff0c\u4f7f\u7528readonly\u547d\u4ee4 \u5220\u9664\u53d8\u91cf unset \u53d8\u91cf\u540d \u6570\u7ec4 \u7528\u6cd5 arr=(1 2 3 4 5) \u8f93\u51fa echo $arr \u65f6\uff0c\u53ea\u4f1a\u8f93\u51fa\u7b2c\u4e00\u4e2a\u5143\u7d20 echo ${arr[1]} \u8f93\u51fa\u7b2c\u4e8c\u4e2a\u5143\u7d20 $,{ },[ ] \u90fd\u7f3a\u4e00\u4e0d\u53ef echo ${arr[@]} \u8f93\u51fa\u5168\u90e8\u5143\u7d20 @ \u7684\u4f5c\u7528\u662f\u5168\u90e8\u5143\u7d20 \u8f93\u51fa\u3001\u8f93\u5165 \u8f93\u51fa echo \u8f93\u51fa\u53d8\u91cf\u65f6\uff0c\u8981\u5728\u53d8\u91cf\u524d\u52a0\u4e0a$ \u8f93\u5165 read read -p \u63d0\u793a\u4fe1\u606f \u53d8\u91cf\u540d \u4f8b\u4e94\uff1a\u7528\u6237\u8f93\u5165\u8def\u5f84\uff0c\u4e3a\u7528\u6237\u521b\u5efa\u6587\u4ef6 shell #!/bin/bash read -p \"please input filepath :\" filepath touch $filepath echo \"file is done\" \u8def\u5f84\u5fc5\u987b\u5b58\u5728 \u6761\u4ef6\u5224\u65ad \u8bed\u6cd51 shell if [ condition ] then command1 command2 ... fi condition \u662f\u6761\u4ef6\uff0c\u6761\u4ef6\u8981\u62ff [ ] \u5305\u8d77\u6765\uff0c\u5e76\u4e14\u4e2d\u62ec\u53f7\u4e24\u8fb9\u90fd\u8981\u6709\u7a7a\u683c command \u662f\u6761\u4ef6\u6210\u7acb\u65f6\u6267\u884c\u7684\u8bed\u53e5 fi \u8868\u793a\u7ed3\u675f \u5355\u884c\u5199\u6cd5 shell if [condition];then command;fi \u8bed\u6cd52 shell if [ condition ] then command1 command2 ... else command fi \u8bed\u6cd53 shell if [ condition1 ] then command1 elif [ condition2 ] then command2 else command3 fi \u5faa\u73af for \u5faa\u73af \u8bed\u6cd51 shell for x in 1 2 3 do command done \u8bed\u6cd52 shell for i in {1..10} do command done \u8bed\u6cd53 shell for ((i=1;i<=10;i++)) do command done \u8bed\u6cd54 shell for i in `ls` `pwd` do echo $i done while \u5faa\u73af \u8bed\u6cd5 shell while [ condition ] do command done \u8fd0\u7b97\u7b26 \u8868\u8fbe\u5f0f\u548c\u8fd0\u7b97\u7b26\u4e4b\u95f4\uff0c\u9664\u4e86\u8d4b\u503c\uff0c\u5176\u5b83\u4e00\u5b9a\u8981\u6709\u7a7a\u683c\uff01\uff01\uff01\uff01\uff01\uff01 \u5b8c\u6574\u7684\u8fd0\u7b97\u8981\u62ff `(\u53cd\u62ec\u53f7) \u5305\u8d77\u6765 - \u7b97\u672f\u8fd0\u7b97\u7b26 \u5728 shell \u4e2d\u5e76\u4e0d\u652f\u6301\u7b80\u5355\u7684\u6570\u5b66\u8fd0\u7b97\uff0c\u56e0\u6b64\u9700\u8981\u7528 expr \u547d\u4ee4\u6765\u5b9e\u73b0 - \"+\" \u52a0\u6cd5 ```shell expr 2 + 3` ``` - \"-\" \u526a\u6cd5 ```shell `expr 3 - 2` ``` - \"*\" \u4e58\u6cd5 ```shell `expr 2 \\* 3` ``` - \u6b64\u65f6\u7684 * \u4e0e\u901a\u914d\u7b26\u51b2\u7a81\uff0c\u56e0\u6b64\u8981\u7528\u8f6c\u4e49\u5b57\u7b26 \\* - \"/\" \u9664\u6cd5\uff0c\u9ed8\u8ba4\u53d6\u6574 ```shell `expr 3 / 2` ``` - \"%\" \u53d6\u4f59 ```shell `expr 3 % 2` ``` - \"=\" \u8d4b\u503c ```shell a=$b ``` - \"==\" \u76f8\u7b49 ```shell [ $a == $b ] ``` - \u6ce8\u610f\u7a7a\u683c - \"!=\" \u4e0d\u76f8\u7b49 ```shell [ $a != $b ] ``` - \u6ce8\u610f\u7a7a\u683c \u5173\u7cfb\u8fd0\u7b97\u7b26 \u5173\u7cfb\u8fd0\u7b97\u7b26\u53ea\u652f\u6301\u6570\u5b57\u4e4b\u95f4\u7684\u5224\u65ad \"-eq\" \u68c0\u6d4b\u6570\u5b57\u662f\u5426\u76f8\u7b49,equal shell [ $a -eq $b ] \u6ce8\u610f\u7a7a\u683c \"-ne\" \u68c0\u6d4b\u6570\u5b57\u662f\u5426\u4e0d\u76f8\u7b49,not equal shell [ $a -ne $b ] \u6ce8\u610f\u7a7a\u683c \"-gt\" \u68c0\u6d4b\u5de6\u8fb9\u662f\u5426\u5927\u4e8e\u53f3\u8fb9,great than shell [ $a -gt $b ] \u6ce8\u610f\u7a7a\u683c \"-lt\" \u68c0\u6d4b\u5de6\u8fb9\u662f\u5426\u5c0f\u4e8e\u53f3\u8fb9,less than shell [ $a -lt $b ] \u6ce8\u610f\u7a7a\u683c \"-ge\" \u68c0\u6d4b\u5de6\u8fb9\u662f\u5426\u5927\u4e8e\u7b49\u4e8e\u53f3\u8fb9,great than or equal shell [ $a -ge $b ] \u6ce8\u610f\u7a7a\u683c \"-le\" \u68c0\u6d4b\u5de6\u8fb9\u662f\u5426\u5c0f\u4e8e\u7b49\u4e8e\u53f3\u8fb9,less than or equal shell [ $a -le $b ] \u6ce8\u610f\u7a7a\u683c \u903b\u8f91\u8fd0\u7b97\u7b26 \u5e03\u5c14\u8fd0\u7b97 \"!\" \u975e\u8fd0\u7b97 shell [ ! false ] \"-o\" \u6216\u8fd0\u7b97 shell [ a -o b ] \"-a\" \u4e0e\u8fd0\u7b97 shell [ a -a b ] \u5b57\u7b26\u4e32\u8fd0\u7b97\u7b26 \u53ea\u80fd\u7528\u4e8e\u5224\u65ad\u5b57\u7b26\u4e32\u4e4b\u95f4\u7684\u5173\u7cfb \"=\" \u5b57\u7b26\u4e32\u662f\u5426\u76f8\u7b49 shell [ $a = $b ] \"!=\" \u5b57\u7b26\u4e32\u662f\u5426\u4e0d\u76f8\u7b49 shell [ $a != $b ] \"-z\" \u5b57\u7b26\u4e32\u957f\u5ea6\u662f\u5426\u4e3a0 shell [ -z $a ] \"-n\" \u5b57\u7b26\u4e32\u957f\u5ea6\u662f\u5426\u4e0d\u4e3a0 shell [ -n $a ] \"\" \u5b57\u7b26\u4e32\u662f\u5426\u4e3a\u7a7a shell [ $a ] \u6587\u4ef6\u6d4b\u8bd5\u8fd0\u7b97\u7b26 \u7528\u4e8e\u68c0\u6d4b\u6587\u4ef6\u7684\u5c5e\u6027 \"-b\" \u68c0\u6d4b\u6587\u4ef6\u662f\u5426\u662f\u5757\u72b6\u8bbe\u5907\u6587\u4ef6\uff08u\u76d8\u7b49\uff09 shell [ -b $file ] \"-c\" \u68c0\u6d4b\u6587\u4ef6\u662f\u5426\u662f\u5b57\u7b26\u8bbe\u5907\u6587\u4ef6 shell [ -c $file ] \"-d\" \u68c0\u6d4b\u6587\u4ef6\u662f\u5426\u662f\u76ee\u5f55 shell [ -d $file ] \"-f\" \u68c0\u6d4b\u6587\u4ef6\u662f\u5426\u662f\u666e\u901a\u6587\u4ef6 shell [ -f $file ] \"-r\" / \"-w\" / \"-x\" \u68c0\u6d4b\u6587\u4ef6\u662f\u5426\u53ef\u8bfb\uff0c\u53ef\u5199\uff0c\u53ef\u6267\u884c shell [ -r $file ] \"-s\" \u68c0\u6d4b\u6587\u4ef6\u662f\u5426\u4e3a\u7a7a shell [ -s $file ] \"-e\" \u68c0\u6d4b\u6587\u4ef6\uff08\u76ee\u5f55\uff09\u662f\u5426\u5b58\u5728 shell [ -e $file ] \u53c2\u6570 \u5728 shell \u4e2d\uff0c\u53ef\u4ee5\u7528 $ \u52a0\u6570\u5b57\u7684\u65b9\u6cd5\u4f20\u9012\u53c2\u6570 - $0 \u8868\u793a\u6587\u4ef6\u81ea\u8eab - $n n\u8868\u793a\u6570\u5b57\uff0c\u4ee3\u8868\u4f20\u9012\u7684\u7b2c\u51e0\u4e2a\u53c2\u6570 - \u5728 shell \u4e2d $n \u5c31\u4ee3\u8868\u4e86\u4f20\u9012\u8fdb\u6765\u7684\u53c2\u6570\uff08\u53d8\u91cf\uff09 \u6570\u636e\u5e93 \u5b89\u88c5 yum install mysql-server \u5b89\u88c5\u670d\u52a1\u5668\u7aefMySQL \u6570\u636e\u5e93\u50a8\u5b58\u4f4d\u7f6e /var/lib/mysql \u914d\u7f6e\u6587\u4ef6 /etc/my.cnf \u521d\u59cb\u5316 service mysqld start \u5148\u542f\u52a8 mysql_secure_installation \u5148\u8f93\u5165\u6570\u636e\u5e93\u5bc6\u7801\uff08\u6ca1\u6709\u76f4\u63a5\u56de\u8f66\uff09 \u82e5\u6ca1\u6709\u5bc6\u7801\uff0c\u5219\u8bbe\u7f6e\u5bc6\u7801 \u79fb\u9664\u533f\u540d\u7528\u6237 \u5141\u8bb8\u8fdc\u7a0b\u767b\u5f55\uff08\u8f93\u5165n\uff09 \u4e0d\u79fb\u9664\u6d4b\u8bd5\u6570\u636e\u5e93 \u91cd\u65b0\u52a0\u8f7d\u6743\u9650\u8868 \u542f\u52a8 service mysqld start \u542f\u52a8\u670d\u52a1 mysql -u \u7528\u6237\u540d -p \u8f93\u5165\u5bc6\u7801 \u57fa\u7840\u64cd\u4f5c MySQL\u4e2d\uff0c\u4ee5 ; \u505a\u4e3a\u7ed3\u675f\uff01\uff01\uff01 - \u5e93\u64cd\u4f5c - SHOW DATABASES; - \u663e\u793a - CREATE DATABASE \u5e93\u540d; - \u521b\u5efa - DROP DATABASE \u5e93\u540d; - \u5220\u9664 - USE \u5e93\u540d; - \u5207\u6362 \u8868\u64cd\u4f5c SHOW TABLES; \u663e\u793a CREATE TABLE \u8868\u540d; CREATE TABLE \u8868\u540d ( \u5217\u540d\u79f01 \u6570\u636e\u7c7b\u578b [NOT NULL AUTO_INCREMENT], \u5217\u540d\u79f02 \u6570\u636e\u7c7b\u578b, ..., PRIMARY KEY(\u4e3b\u952e) ); \u6570\u636e\u7c7b\u578b\uff1a int() \u6574\u578b\uff0c( )\u91cc\u586b\u957f\u5ea6 char() \u5b9a\u957f\u5b57\u7b26 varchar() \u4e0d\u5b9a\u957f\u5b57\u7b26 \u53ef\u9009\u53c2\u6570\uff1a NOT NULL \u975e\u7a7a AUTO_INCREMENT \u9012\u589e DESC \u8868\u540d; \u67e5\u770b\u8868\u7ed3\u6784 DROP TABLE [IF EXISTS] \u8868\u540d; \u5220\u9664\u8868 \u589e\u5220\u67e5\u6539 \u589e INSERT INTO \u8868\u540d VALUES (\u503c1\uff0c\u503c2...); INSERT INTO \u8868\u540d (\u52171\uff0c\u52172...) VALUES (\u503c1\uff0c\u503c2...); \u6539\uff08\u66f4\u65b0\uff09 UPDATE \u8868\u540d SET \u52171 = \u503c1 , \u52172 = \u503c2 WHERE \u5217\u540d\u79f0 = \u4e4b\u524d\u7684\u503c; WHERE \u4e00\u5b9a\u4e0d\u80fd\u5c11\uff01\uff01\uff01 \u67e5 SELECT \u5217\u540d FORM \u8868\u540d WHERE \u6761\u4ef6; \u5220\u9664 DELETE FROM \u8868\u540d WHERE \u5217 = \u503c ; WHERE \u4e00\u5b9a\u4e0d\u80fd\u5c11\uff01\uff01\uff01 \u5907\u4efd\u4e0e\u8fd8\u539f \u5907\u4efd \u5168\u91cf\u5907\u4efd mysqldump -u root -p 123456 -A > \u5907\u4efd\u6587\u4ef6\u8def\u5f84 -A \u5168\u90e8\u6570\u636e\u5e93 \u6307\u5b9a\u5e93\u5907\u4efd mysqldump -u root -p 123456 \u5e93\u540d > \u5907\u4efd\u6587\u4ef6\u8def\u5f84 \u6700\u5e38\u7528 \u5907\u4efd\u65f6\uff0c\u6587\u4ef6\u540e\u7f00\u4e3a .sql \u591a\u5e93\u5907\u4efd mysqldump -u root -p 123456 --databases db1 db2 > \u5907\u4efd\u6587\u4ef6\u8def\u5f84 \u6848\u4f8b\uff1a\u6bcf\u4e00\u5206\u949f\u81ea\u52a8\u5907\u4efd\u4e00\u6b21\u6570\u636e\u5e93 \u5148\u521b\u5efashell\u547d\u4ee4 shell #!/bin/bash filename=\"sql_\"`date +'%Y%m%d%H%M%S'`\".sql\" mysqldump -u root -p 123456 test > /root/$filename \u521b\u5efa\u8ba1\u5212\u4efb\u52a1 crontab -e ```shell /root/save_sql.sh ``` \u8fd8\u539f \u8fd8\u539f\u5168\u90e8\u6570\u636e\u5e93 mysql \u547d\u4ee4\u884c\uff1a source \u5907\u4efd\u6587\u4ef6\u8def\u5f84; shell \u547d\u4ee4\uff1a mysql -u root -p 123456 < \u5907\u4efd\u6587\u4ef6\u8def\u5f84 \u8fd8\u539f\u5355\u4e2a\u6570\u636e\u5e93 mysql \u547d\u4ee4\u884c\uff0c\uff08\u9700\u8981\u5148\u6307\u5b9a\u5e93\uff09 use \u5e93\u540d; source \u5907\u4efd\u6587\u4ef6\u8def\u5f84; shell \u547d\u4ee4 mysql -u root -p 123456 \u5e93\u540d < \u5907\u4efd\u6587\u4ef6\u8def\u5f84 \u8fdc\u7a0b\u8fde\u63a5 \u6b65\u9aa4 \u5148\u767b\u5f55mysql\uff0c\u9009\u62e9mysql\u5e93 \u6267\u884c \uff1aselect host,user from user; \u5c06\u5176\u4e2d\u4e00\u4e2a\u8bb0\u5f55\u7684host\u6539\u4e3a\u7684\u503c \"%\" ,\u8868\u793a\u5141\u8bb8\u4efb\u4f55\u5730\u65b9\u767b\u5f55 \u5237\u65b0\u6743\u9650\u8868\uff0c\u6216\u8005\u91cd\u542f\u6570\u636e\u5e93 \u5237\u65b0\u6743\u9650 \uff1aflush privileges; \u963f\u91cc\u9879\u76ee\u5b9e\u6218 nginx \u5b89\u88c5\uff08\u7f16\u8bd1\u5b89\u88c5\uff09 \u4e0b\u8f7d \u627e\u5230\u4e0b\u8f7d\u5730\u5740\uff0c\u590d\u5236\u4e0b\u8f7d\u94fe\u63a5 wget \u4e0b\u8f7d\u94fe\u63a5 \u76f4\u63a5\u4e0b\u8f7d\u5230\u5f53\u524d\u76ee\u5f55 \u89e3\u538b tar -zxvf \u8def\u5f84 \u5bb9\u6613\u62a5\u9519\uff0c\u5efa\u8bae\u76f4\u63a5yum\u5b89\u88c5\uff0c\u6216\u8005\u767e\u5ea6 \u8fd0\u884c nginx \u9ed8\u8ba4\u4e5f\u662f80\u7aef\u53e3\uff0c\u4e0eapache\u4e00\u6837 \u5148\u5173\u95edapache\u670d\u52a1 \u8fd0\u884c nginx/sbin/nginx nginx \u4e0d\u80fd\u50cfapache\u4e00\u6837\u670d\u52a1\u542f\u52a8\uff0c\u53ea\u80fd\u901a\u8fc7\u6587\u4ef6\u542f\u52a8 \u91cd\u542f nginx/sbin/nginx -s reload \u5173\u95ed\uff0c\u53ea\u80fd\u7528kill\u547d\u4ee4 \u5378\u8f7d\uff08\u5378\u8f7d\u7f16\u8bd1\u5b89\u88c5\u7684\u8f6f\u4ef6\uff09 \u5148\u5173\u95ed\u8f6f\u4ef6 rm -rf \u8f6f\u4ef6\u5b89\u88c5\u76ee\u5f55","title":"Linux_Centos"},{"location":"Linux/#linux","text":"","title":"Linux"},{"location":"Linux/#linux_1","text":"","title":"Linux \u57fa\u7840\u64cd\u4f5c"},{"location":"Linux/#-","text":"ls \u663e\u793a\u6587\u4ef6\u5217\u8868\uff08list\uff09 \u989c\u8272\uff1a\u9ed1\u8272\u8868\u793a\u6587\u4ef6\uff0c\u84dd\u8272\u8868\u793a\u6587\u4ef6\u5939\uff0c\u7eff\u8272\u8868\u793a\u5176\u6743\u9650\u4e3a\u6240\u6709\u6743\u9650\u3002 ls /root \u5217\u51fa\u8def\u5f84\u4e0b\u7684\u6587\u4ef6\u5217\u8868 /root\uff1a\u7edd\u5bf9\u8def\u5f84\uff0c\u8868\u793a\u4ece\u6839\u76ee\u5f55\u4e0b\u5f00\u59cb\u5bfb\u627e root\uff1a\u76f8\u5bf9\u8def\u5f84\uff0c./\u8fd9\u4e00\u7ea7\uff08\u53ef\u52a0\u53ef\u4e0d\u52a0\uff09 ../\u4e0a\u4e00\u7ea7 ls -l root -l\uff1a\u4ee5\u5217\u8868\uff0c\u5217\u51fa\u8be6\u7ec6\u4fe1\u606f -la\uff1a\u663e\u793a\u9690\u85cf\u6587\u4ef6\u4fe1\u606f -lh\uff1a\u663e\u793a\u5217\u8868\uff0c\u6587\u4ef6\u5927\u5c0f\u5355\u4f4d\u81ea\u8c03\u8282 -lah\uff1a\u663e\u793a\u9690\u85cf\uff0c\u6587\u4ef6\u5927\u5c0f\u5355\u4f4d\u81ea\u8c03\u8282 -rw-------. 1 root root 1960 7\u6708 6 21:58 anaconda-ks.cfg >> - -rw--- \uff1a\u6743\u9650\uff08\u7b2c\u4e00\u4e2a\u662f-\u8868\u793a\u6587\u4ef6\uff0c\u662fd\u8868\u793a\u6587\u4ef6\u5939\uff0cl\u662f\u5feb\u6377\u65b9\u5f0f\uff09 >> - 1 \uff1a\u6587\u4ef6\u786c\u94fe\u63a5\u6570 >> - root \uff1a\u7528\u6237\u540d >> - root \uff1a\u7528\u6237\u7ec4 >> - 1960 \uff1a\u6587\u4ef6\u5927\u5c0f\uff0c\u5b57\u8282 >> - 7\u6708 6 21:58 \uff1a\u8868\u793a\u65f6\u95f4 >> - anaconda-ks.cfg \uff1a\u8868\u793a\u6587\u4ef6\u540d\uff08\u9690\u85cf\u6587\u4ef6\u4e00\u822c\u4ee5.\u5f00\u5934\uff09 pwd \u6253\u5370\u5f53\u524d\u5de5\u4f5c\u8def\u5f84 cd /root \u5230root\u76ee\u5f55\u4e0b\uff0c\u6ce8\u610fcd\u540e\u9762\u6ca1\u6709\uff1a cd ~ \uff1a\u5207\u6362\u5230\u5f53\u524d\u7528\u6237\u7684\u5bb6\u76ee\u5f55 cd / \uff1a\u5207\u6362\u5230\u6839\u76ee\u5f55 mkdir \u521b\u5efa\u6587\u4ef6\u5939 mkdir hello \uff1a\u5728\u5f53\u524d\u6587\u4ef6\u5939\u4e0b\u521b\u5efa\u6587\u4ef6\u5939 mkdir ~/hello \uff1a\u5728\u7528\u6237\u5bb6\u76ee\u5f55\u4e0b\u521b\u5efa mkdir /root/hello \uff1a\u5728\u6307\u5b9a\u6587\u4ef6\u5939\u4e0b\u521b\u5efa mkdir -p /root/a/b/c \u5f53\u4e0d\u5b58\u5728a/b\u76ee\u5f55\u65f6 -p \u4ee3\u8868\u5047\u5982\u6ca1\u6709\u4e4b\u524d\u7684\u76ee\u5f55\uff0c\u5219\u521b\u5efa\u4e4b\u524d\u7684\u76ee\u5f55 mkdir a b c \uff1a\u8868\u793a\u4e00\u6b21\u6027\u521b\u5efa\u591a\u4e2a\u6587\u4ef6\u5939 touch \u65b0\u5efa\u6587\u4ef6\uff08\u540cmkdir\u4f7f\u7528\u4e00\u6837\uff0c\u53ea\u662f\u6ca1\u6709-p\u9009\u9879\uff09 ln \u65b0\u5efa\u5feb\u6377\u65b9\u5f0f ln -s \u539f\u59cb\u8def\u5f84 \u5feb\u6377\u65b9\u5f0f\u8def\u5f84 cp \u590d\u5236\u6587\u6863\uff08\u53ef\u6587\u4ef6\uff0c\u53ef\u6587\u4ef6\u5939\uff09\u5230\u6307\u5b9a\u8def\u5f84 cp /root/a/1.txt /root/b/ \u7b2c\u4e00\u4e2a\u8def\u5f84\uff1a\u6587\u4ef6\u8def\u5f84 \u7b2c\u4e8c\u4e2a\u8def\u5f84\uff1a\u590d\u5236\u76ee\u6807\u8def\u5f84 cp /root/a/1.txt /root/b/2.txt Linux\u5728\u590d\u5236\u8fc7\u7a0b\u4e2d\u53ef\u4ee5\u6539\u540d \u7b2c\u4e8c\u4e2a\u8def\u5f84\uff1a\u590d\u5236\u76ee\u6807\u8def\u5f84\u53ca\u590d\u5236\u4e4b\u540e\u7684\u540d\u5b57 cp -r /root/a/ /root/b/ \u590d\u5236\u6587\u4ef6\u5939\uff0c\u4e00\u5b9a\u8981\u52a0 -r \uff01\uff01\uff01 -r \uff1a\u8868\u793a\u9012\u5f52 mv \u526a\u5207\uff08\u540ccp\u7c7b\u4f3c\uff0c\u4e5f\u53ef\u4ee5\u6539\u540d\u5b57\uff0c\u4e5f\u53ef\u4ee5\u526a\u5207\u6587\u4ef6\u5939\uff09 mv /root/a /root/b \u91cd\u547d\u540d\u7684\u4e00\u79cd\u65b9\u6cd5 rm \u5220\u9664 rm /root/1.txt \u5220\u9664\u6587\u4ef6 rm -r /root/a \u5220\u9664\u6587\u4ef6\u5939 -r\u5220\u9664\u6587\u4ef6\u5939\u65f6\uff0c\u9700\u8981\u6dfb\u52a0\uff08\u6b64\u65f6\u4f1a\u6709\u63d0\u793a\uff09 rm -f /root/1.txt \u5f3a\u5236\u5220\u9664\uff0c\u4e0d\u4f1a\u5f39\u51fa\u63d0\u793a -f\u5f3a\u5236\u5220\u9664 -rf \u53ef\u4ee5\u5f3a\u5236\u5220\u9664\u6587\u4ef6\u5939\uff0c\u6ca1\u6709\u63d0\u793a rm -rf /root/a /root/1.txt \u5220\u9664\u591a\u4e2a\u6587\u6863 rm -f /root/linux \u5220\u9664\u6240\u6709\u4ee5linux\u5f00\u5934\u7684\u6587\u6863\uff08 \u901a\u914d\u7b26\uff09 vim \u4f7f\u7528vim\u6253\u5f00\u6587\u4ef6\uff08\u6587\u672c\u7f16\u8f91\u5668\uff09 vim /root/1.txt \u7528vim\u6253\u5f00\u6587\u4ef6\uff0c\u6587\u4ef6\u53ef\u4ee5\u5b58\u5728\uff0c\u4e5f\u53ef\u4ee5\u4e0d\u5b58\u5728\uff08\u521b\u5efa\uff09 \u5728vim\u4e0b\uff0c\"shift\"+\":\" \u8fdb\u5165\u547d\u4ee4\u8f93\u5165\uff0c\u8f93\u5165\"q\"\u9000\u51fa\uff0c\u8f93\u5165\"q\uff01\"\u4e0d\u4fdd\u5b58\u5f3a\u5236\u9000\u51fa cat \u76f4\u63a5\u6253\u5f00\u6587\u4ef6\uff08\u4e0d\u9700\u8981\u50cfvim\u4e00\u6837\u9000\u51fa\uff09 cat /root/1.txt \u6253\u5f00\u6587\u4ef6 cat 1.txt 2.txt > 3.txt \u5408\u5e76\u6587\u4ef6\uff08\u914d\u5408\u8f93\u51fa\u91cd\u5b9a\u5411\uff09","title":"\u57fa\u7840\u547d\u4ee4 \uff08\u547d\u4ee4 -\u9009\u9879 \u8def\u5f84/\u6587\u4ef6\uff09"},{"location":"Linux/#_1","text":"\u4e00\u822c\u547d\u4ee4\u90fd\u662f\u5728\u7ec8\u7aef\u663e\u793a\u8f93\u51fa\uff0c\u5c06\u8f93\u51fa\u4fdd\u5b58\u5230\u6587\u4ef6\uff0c\u5c31\u53eb\u8f93\u51fa\u91cd\u5b9a\u5411 \">\" \u8986\u76d6\u8f93\u51fa \">>\" \u8ffd\u52a0\u8f93\u51fa ls -la /root > /root/1.txt \u5c06\u8f93\u51fa\u4fdd\u5b58\u5230\u6587\u4ef6","title":"\u8f93\u51fa\u91cd\u5b9a\u5411"},{"location":"Linux/#_2","text":"df \u67e5\u770b\u78c1\u76d8\u7a7a\u95f4 df -h \u67e5\u770b\u78c1\u76d8\u7a7a\u95f4\uff0c\u5927\u5c0f\u5e26\u5355\u4f4d free \u67e5\u770b\u5185\u5b58\u4f7f\u7528\u60c5\u51b5 free -h \u5927\u5c0f\u5e26\u5355\u4f4d free -m \u5355\u4f4d\u4e3amb head \u67e5\u770b\u6587\u4ef6\u524dn\u884c\uff0c\u9ed8\u8ba4\u524d10\u884c head -5 \u524d5\u884c tail \u67e5\u770b\u6587\u4ef6\u540en\u884c\uff08\u7528\u6cd5\u4e0ehead\u4e00\u6837\uff09 tail -F \u6587\u4ef6\u8def\u5f84 \uff1a\u67e5\u770b\u6587\u4ef6\u52a8\u6001\u53d8\u5316\uff08\u6ce8\u610fF\u8981\u5927\u5199\uff09 less \u67e5\u770b\u6587\u4ef6\uff0c\u4ee5\u8f83\u5c11\u7684\u5185\u5bb9\u8fdb\u884c\u8f93\u51fa \u53ef\u4ee5\u901a\u8fc7\u4e0b\u7aef\u8f93\u5165\u6570\u5b57\uff0c\u63a7\u5236\u663e\u793a\u7684\u5f00\u59cb\u884c\u6570 \u6309\u7a7a\u683c\u4e00\u9875\u4e00\u9875\u7ffb\u9875 \u65b9\u5411\u952e\u4e0a\u4e0b\u53ca\u56de\u8f66\u952e\u53ef\u4ee5\u4e00\u884c\u4e00\u884c\u67e5\u770b \u6309q\u9000\u51fa wc \u7edf\u8ba1\u6587\u4ef6\u5185\u5bb9\u4fe1\u606f wc -lwc \u6587\u4ef6\u8def\u5f84\uff08\u4e0d\u52a0lwc\uff0c\u9ed8\u8ba4\u4e5f\u663e\u793alwc\u5185\u5bb9\uff09 -l \uff1a\u884c\u6570 -w \uff1a\u5b57\u6570 -c \uff1a\u5b57\u8282 date \u64cd\u4f5c\u65f6\u95f4\u65e5\u671f date \u663e\u793a\u65f6\u95f4\u65e5\u671f date +%F \u8f93\u51fa\u683c\u5f0f\u5316\u65e5\u671f date +%F%T \u8f93\u51fa\u65e5\u671f\u65f6\u95f4\uff08\u6b64\u65f6\u65e5\u671f\u65f6\u95f4\u8fde\u5728\u4e00\u8d77\uff09 date \"+%F %T\" \u8f93\u51fa\u65e5\u671f\u65f6\u95f4\uff0c\u7a7a\u683c\u9694\u5f00\uff08\"\"\u91cc\u9762\u7684\u4e3a\u4e00\u4e2a\u547d\u4ee4\uff09 date -d \"-1 day\" \"+%F %T\" \u8f93\u51fa\u4e00\u5929\u524d\u7684\u65e5\u671f\u65f6\u95f4 date -d \"-1 year\" \"+%F %T\" \u8f93\u51fa\u4e00\u5e74\u524d\u7684\u65e5\u671f\u65f6\u95f4 date -d \"+1 year\" \"+%F %T\" \u8f93\u51fa\u4e00\u5e74\u540e\u7684\u65e5\u671f\u65f6\u95f4 \u4e2d\u95f4\u53ef\u4ee5\u662f day \uff0c month \uff0c year cal \u64cd\u4f5c\u65e5\u5386 cal \u663e\u793a\u65e5\u5386\uff08\u4ee5\u5468\u65e5\u5f00\u59cb\uff09 cal -3 \u663e\u793a\u65e5\u5386\uff08\u5305\u542b\u4e0a\u4e00\u6708\u548c\u4e0b\u4e00\u6708\uff09 cal -y 2008 \u663e\u793a2008\u90a3\u4e00\u5e74\u7684\u65e5\u5386 cal -m \u663e\u793a\u65e5\u5386\uff0c\u4ee5\u5468\u4e00\u5f00\u59cb clear \u6e05\u5c4f ctrl + L \u5feb\u6377\u952e\u4e5f\u53ef\u4ee5","title":"\u8fdb\u9636\u6307\u4ee4"},{"location":"Linux/#_3","text":"\u7ba1\u9053\u7b26\u7684\u5de6\u8fb9\u7684\u8f93\u51fa\uff0c\u4f1a\u4f5c\u4e3a\u53f3\u8fb9\u7684\u8f93\u5165\uff0c\u6700\u540e\u663e\u793a\u53f3\u8fb9\u7684\u8f93\u51fa\u3002 \u4e3b\u8981\u7528\u6cd5\u6709\u201c\u8fc7\u6ee4\u201d\uff0c\u201c\u7279\u6b8a\u201d\uff0c\u201c\u6269\u5c55\u5904\u7406\u201d - \u8fc7\u6ee4 - ls /root | grep y \u8f93\u51fa\u76ee\u5f55\u4e0b\u542b\u201cy\u201d\u7684\u6587\u4ef6\u540d\uff08grep \u7528\u4e8e\u8fc7\u6ee4\u7684\u51fd\u6570\uff09 - grep \u8fd8\u53ef\u4ee5\u76f4\u63a5\u7528\u6765\u505a\u6b63\u5219\u641c\u7d22 - grep l+ 1.txt - l+ \u90e8\u5206\u662f\u6b63\u5219\u8868\u8fbe\u5f0f - 1.txt \u662f\u8981\u641c\u7d22\u7684\u6587\u4ef6 \u7279\u6b8a\u7528\u6cd5 cat \u8def\u5f84 | less \u7b49\u4ef7\u4e8e less \u8def\u5f84 \u62d3\u5c55\u7528\u6cd5 ls /root | wc -l \u7edf\u8ba1\u6587\u4ef6\u5939\u4e0b\u6587\u4ef6\u4e2a\u6570 wc \u4e5f\u53ef\u4ee5\u76f4\u63a5\u7528\uff0c\u4e5f\u662f\u7edf\u8ba1\u7684\u529f\u80fd","title":"\u7ba1\u9053\u7b26 |"},{"location":"Linux/#_4","text":"hostname \u64cd\u4f5c\u670d\u52a1\u5668\u4e3b\u673a\u540d hostname \u8f93\u51fa\u5b8c\u6574\u4e3b\u673a\u540d hostname -f \u8f93\u51fa\u5f53\u524d\u4e3b\u673a\u7684\u5168\u9650\u5b9a\u57df\u540d \u4e34\u65f6\u4fee\u6539\u4e3b\u673a\u540d hostname \u4e3b\u673a\u540d su \u5207\u6362\u7528\u6237\u751f\u6548 \u5173\u673a\u4e4b\u540e\u5931\u6548 \u6c38\u4e45\u4fee\u6539\u4e3b\u673a\u540d \u914d\u7f6e\u6587\u4ef6\uff1a/etc/sysconfig/network vim\u4fee\u6539\u4e4b\u540e\uff0c\u91cd\u542f\u5373\u53ef\uff08\u8fd8\u9700\u8981\u4fee\u6539hosts\uff0c\u6bd4\u8f83\u9ebb\u70e6\uff09 id \u663e\u793a\u7528\u6237id id \u663e\u793a\u5f53\u524d\u7528\u6237\u57fa\u672c\u4fe1\u606f id \u7528\u6237\u540d \u663e\u793a\u8be5\u7528\u6237\u540d\u7684\u4fe1\u606f \u7528\u6237\u4fe1\u606f\u5b58\u653e\u4f4d\u7f6e\uff1a/etc/passwd \u7528\u6237\u7ec4\u4fe1\u606f\u5b58\u653e\u4f4d\u7f6e\uff1a/etc/group whoami \u663e\u793a\u5f53\u524d\u767b\u5f55\u7684\u7528\u6237\u540d ps \u67e5\u770b\u670d\u52a1\u5668\u8fdb\u7a0b \u9009\u9879 \uff1a -e \u7b49\u4ef7\u4e8e -A \u5217\u51fa\u5168\u90e8\u8fdb\u7a0b -f \u663e\u793a\u5168\u90e8\u7684\u5217 top \u67e5\u770b\u670d\u52a1\u5668\u8fdb\u7a0b\u7684\u8d44\u6e90\u5360\u7528\u60c5\u51b5\uff08\u52a8\u6001\u663e\u793a\uff09\uff08\u6309q\u9000\u51fa\uff09 \u663e\u793a\u5185\u5bb9\uff1a PR \u4f18\u5148\u7ea7 VIRT \u865a\u62df\u5185\u5b58\uff08\u7533\u8bf7\u7684\u5185\u5b58\uff09 RES \u5e38\u9a7b\u5185\u5bb9\uff08\u7528\u4e86\u591a\u5c11\uff09 SHR \u5171\u4eab\u5185\u5b58\uff08\u5176\u4ed6\u8fdb\u7a0b\u8c03\u7528\u7684\u8be5\u8fdb\u7a0b\u7684\u5185\u5bb9\uff09 \u4e00\u4e2a\u8fdb\u7a0b\u5b9e\u9645\u7684\u5185\u5b58\u5360\u7528 = RES - SHR S \u662f\u5426\u5728\u7761\u7720\uff0c\u7761\u7720\u663e\u793a S \uff0c\u8fd0\u884c\u663e\u793a R COMMAND \u8fdb\u7a0b\u7684\u540d\u79f0\u6216\u8005\u8def\u5f84 \u6309\u4e0b\u5927\u5199M\uff0c\u4ee5\u5185\u5b58\u8fdb\u884c\u6392\u5e8f \u6309\u4e0b\u5927\u5199P\uff0c\u4ee5cpu\u8fdb\u884c\u6392\u5e8f \u6309\u4e0b\u6570\u5b571\uff0c\u67e5\u770b\u591a\u4e2acpu\u7684\u60c5\u51b5 du \u67e5\u770b\u76ee\u5f55\u771f\u5b9e\u5927\u5c0f \u9009\u9879\uff1a -s \u53ea\u663e\u793a\u6c47\u603b\u7684\u5927\u5c0f -h \u8868\u793a\u4ee5\u9ad8\u53ef\u8bfb\u6027\u663e\u793a find \u67e5\u627e\u6587\u4ef6 find \u8def\u5f84 \u9009\u9879 \u9009\u9879\u7684\u503c \uff08\u6587\u4ef6\u8def\u5f84\u5c3d\u91cf\u7cbe\u786e\uff09 \u9009\u9879\uff1a -name \u67e5\u627e\u7684\u6587\u4ef6\u540d\u5b57\uff0c\u652f\u6301\u6a21\u7cca\u641c\u7d22 -type \u67e5\u627e\u7684\u7c7b\u578b f \u6587\u4ef6 d \u6587\u4ef6\u5939 service \u63a7\u5236\u8f6f\u4ef6\u670d\u52a1\u7684\u542f\u52a8/\u505c\u6b62/\u91cd\u542f service \u670d\u52a1\u540d start/stop/restart service httpd start \u542f\u52a8\u670d\u52a1\u5668Apache\uff08\u7f51\u7ad9\u670d\u52a1\u5668\u8f6f\u4ef6\uff09\uff0c\u5176\u670d\u52a1\u540d\u4e3ahttpd Centos 7 \u4e4b\u540e\u8fd9\u6837\uff01\uff01\uff01\uff01\uff01\uff01 systemctl start httpd.service kill \u7ed3\u675f\u8fdb\u7a0b kill \u8fdb\u7a0bid\uff08PID\uff09 \u7ed3\u675f\u8fdb\u7a0b killall \u7ed3\u675f\u8fdb\u7a0b killall \u8fdb\u7a0b\u540d\u79f0 \u7ed3\u675f\u8fdb\u7a0b ifconfig \u64cd\u4f5c\u7f51\u5361 reboot \u91cd\u542f reboot -w \u6a21\u62df\u91cd\u542f\uff08\u4e0d\u91cd\u542f\uff09\uff0c\u53ea\u5199\u5f00\u673a\u65e5\u5fd7\uff0c\u4f46\u4e0d\u91cd\u542f uptime \u8ba1\u7b97\u673a\u5728\u7ebf\u65f6\u95f4 uname \u83b7\u53d6\u8ba1\u7b97\u673a\u4fe1\u606f uname \u83b7\u53d6\u8ba1\u7b97\u673a\u7cfb\u7edf\u540d uname -a \u83b7\u53d6\u8ba1\u7b97\u673a\u7cfb\u7edf\u5168\u90e8\u4fe1\u606f netstat \u67e5\u770b\u7f51\u7edc\u72b6\u6001 netstat -tnlp \u9009\u9879 \uff1a -t \u53ea\u5217\u51fatcp\u534f\u8bae\u7684\u8fde\u63a5 -n \u5c06\u5730\u5740\u8f6c\u5316\u4e3aip\uff0c\u5c06\u534f\u8bae\u8f6c\u5316\u4e3a\u7aef\u53e3\u53f7 -l \u8fc7\u6ee4\u72b6\u6001\uff08state\uff09\u4e3a\u76d1\u542c\uff08LISTEN\uff09\u7684 -p \u8868\u793a\u53ea\u663e\u793a\u53d1\u8d77\u8fde\u63a5\u7684\u8fdb\u7a0b\u7684pid \u548c\u8fdb\u7a0b\u540d\u79f0 man \u67e5\u770b\u547d\u4ee4\u7684\u624b\u518c man \u547d\u4ee4 \u9000\u51fa\u6309q","title":"\u9ad8\u7ea7\u6307\u4ee4"},{"location":"Linux/#_5","text":"shutdown \u5173\u673a shutdown -h now \u7acb\u9a6c\u5173\u673a shutdown -h 15:30 \u5b9a\u65f6\u5173\u673a shutdown -h 15:30 \"\u673a\u5668\u5373\u5c06\u5173\u673a\" \u5b9a\u65f6\u5173\u673a\uff0c\u5e76\u4e14\u63d0\u793a \u6309\u4e0b CTRL + \"C\" \u53d6\u6d88\uff0ccentos 7 \u4e4b\u524d\u7684 shutdown -c \u53d6\u6d88\u5173\u673a\uff0ccentos 7 \u4e4b\u540e\u7684 init 0 halt poweroff","title":"\u5173\u673a\u547d\u4ee4"},{"location":"Linux/#_6","text":"","title":"\u8ba1\u7b97\u673a\u76ee\u5f55\u4ecb\u7ecd"},{"location":"Linux/#_7","text":"bin\uff1a\u50a8\u5b58\u4e8c\u8fdb\u5236\u53ef\u6267\u884c\u6587\u4ef6\u3002 dev\uff1a\u5b58\u653e\u5916\u63a5\u8bbe\u5907\uff0c\u5728\u5176\u4e2d\u7684\u8bbe\u5907\u4e0d\u80fd\u76f4\u63a5\u8fd0\u884c\uff0c\u9700\u8981\u6302\u8f7d\uff08mnt\u76ee\u5f55\u4e0b\uff09\u3002 mnt\uff1a\u5916\u63a5\u8bbe\u5907\u7684\u6302\u8f7d\u6587\u4ef6\u5939\u3002 etc\uff1a\u50a8\u5b58\u914d\u7f6e\u6587\u4ef6\u3002 home\uff1a\u9664root\u4e4b\u5916\u7684\u7528\u6237\u7684\u76ee\u5f55\u6587\u4ef6\u3002 proc\uff1a\u50a8\u5b58\u8fdb\u7a0b\u6587\u4ef6\u3002 root\uff1aroot\u7528\u6237\u7684\u76ee\u5f55\u6587\u4ef6\u3002 sbin\uff1a\u6709super\u6743\u9650\u7684\u7528\u6237\u624d\u80fd\u6267\u884c\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u3002 tmp\uff1a\u76f8\u5f53\u4e8etemp\u6587\u4ef6\uff0c\u4e34\u65f6\u6587\u4ef6\u3002 usr\uff1a\u5b58\u653e\u7528\u6237\u81ea\u5df1\u5b89\u88c5\u7684\u8f6f\u4ef6\uff0c\u7c7b\u4f3c\u4e8ewin\u4e0b\u7684program files\u3002 var\uff1a\u5b58\u653e\u7a0b\u5e8f\u6216\u7cfb\u7edf\u7684\u65e5\u5fd7\u6587\u4ef6\u3002","title":"\u6587\u4ef6\u5939"},{"location":"Linux/#_8","text":"CTRL + c \u5173\u95ed\u5f53\u524d\u8fdb\u7a0b\uff08\u5728\u4e00\u4e9b\u60c5\u51b5\u4e0b\u9700\u8981CTRL + D\uff09 CTRL + Z \u5c06\u5f53\u524d\u8fdb\u7a0b\u6302\u8d77\u5728\u540e\u53f0 \u6309\u4e0b jobs \u67e5\u770b\u540e\u53f0 fg %\u6570\u5b57 \u5207\u6362\u4efb\u52a1\u5230\u524d\u53f0 CTRL + u \u5220\u9664\u5149\u6807\u4e4b\u524d\u5185\u5bb9 CTRL + k \u5220\u9664\u5149\u6807\u4e4b\u540e\u5185\u5bb9 CTRL + w \u5220\u9664\u5149\u6807\u524d\u4e00\u4e2a\u5355\u8bcd CTRL + L \u6e05\u5c4f","title":"\u5feb\u6377\u952e"},{"location":"Linux/#vim","text":"","title":"Vim"},{"location":"Linux/#_9","text":"vim \u6587\u4ef6\u8def\u5f84 \uff1a\u76f4\u63a5\u6253\u5f00 vim +\u6570\u5b57 \u6587\u4ef6\u8def\u5f84 \uff1a\u6253\u5f00\u6587\u4ef6\uff0c\u8df3\u5230\u6307\u5b9a\u884c vim +/\u5173\u952e\u8bcd \u6587\u4ef6\u8def\u5f84 \uff1a\u6253\u5f00\u6587\u4ef6\uff0c\u9ad8\u4eae\u663e\u793a\u5173\u952e\u8bcd vim \u6587\u4ef61 \u6587\u4ef62 \uff1a\u540c\u65f6\u6253\u5f00\u591a\u4e2a\u6587\u4ef6","title":"\u6253\u5f00\u65b9\u5f0f"},{"location":"Linux/#_10","text":"\u3010\u6253\u5f00\u6587\u4ef6\u4e4b\u540e\u9ed8\u8ba4\u8fdb\u5165\u7684\u6a21\u5f0f\u3011 \u8be5\u6a21\u5f0f\u4e0b\u4e0d\u80fd\u5bf9\u6587\u4ef6\u8fdb\u884c\u76f4\u63a5\u7f16\u8f91\uff0c\u53ef\u4ee5\u8f93\u5165\u5feb\u6377\u952e\u6765\u8fdb\u884c\u90e8\u5206\u64cd\u4f5c\uff08\u5220\u9664\u884c\uff0c\u590d\u5236\u884c\uff0c\u79fb\u52a8\u5149\u6807\uff0c\u7c98\u8d34\u7b49\uff09 - vim /root/1.txt \u7528vim\u6253\u5f00\u6587\u4ef6\uff0c\u6587\u4ef6\u53ef\u4ee5\u5b58\u5728\uff0c\u4e5f\u53ef\u4ee5\u4e0d\u5b58\u5728\uff08\u521b\u5efa\uff09 - \u5728vim\u4e0b\uff0c\"shift\"+\":\" \u8fdb\u5165\u547d\u4ee4\u8f93\u5165 - \u8f93\u5165\"q\"\u9000\u51fa - \u8f93\u5165\"q\uff01\"\u4e0d\u4fdd\u5b58\u5f3a\u5236\u9000\u51fa - \u8f93\u5165 \"wq\" \u4fdd\u5b58\u9000\u51fa - \u8f93\u5165 \"x\" \u667a\u80fd\u9000\u51fa\uff0c\u6709\u4fee\u6539\u5219\u4fdd\u5b58 \u5149\u6807\u64cd\u4f5c \u6309\u4e0b\"^\"\uff08shift + 6\uff09\uff0c\u6216\u8005home\u952e \uff0c\u79fb\u52a8\u5149\u6807\u5230\u884c\u9996 \u6309\u4e0b\"$\"\uff08shift + 4\uff09\uff0c\u6216\u8005end\u952e \uff0c\u79fb\u52a8\u5149\u6807\u5230\u884c\u5c3e \u6309\u4e0b\"gg\" \uff0c\u5149\u6807\u79fb\u52a8\u5230\u9996\u884c\u5f00\u5934 \u6309\u4e0b\"G\" \uff0c\u5149\u6807\u79fb\u52a8\u5230\u672b\u884c\u5f00\u5934 \u6309\u4e0b\"W\" \uff0c\u5149\u6807\u5411\u540e\u79fb\u52a8\u4e00\u4e2a\u5355\u8bcd \u6309\u4e0b\"B\" \uff0c\u5149\u6807\u5f80\u524d\u79fb\u52a8\u4e00\u4e2a\u5355\u8bcd \u6309\u4e0bpgup\u6216\u8005(ctrl b)\uff0cpgdn\u6216\u8005(ctrl f)\uff0c\u5411\u4e0a\u6216\u5411\u4e0b\u7ffb\u9875 \u6309\u4e0b (\u6570\u5b57 G) \u6216\u8005 ( \u6570\u5b57 gg )\uff0c\u5c06\u5149\u6807\u79fb\u52a8\u5230\u7b2cn\u884c (\u6570\u5b57 \u65b9\u5411\u952e) \u6216\u8005(HJKL) \uff0c\u5411\u4e0a\u4e0b\u5de6\u53f3\u79fb\u52a8\u5149\u6807 (\u6570\u5b57 j/k) \u5f80\u4e0b\u6216\u5f80\u4e0an\u884c shift \uff1a \u8f93\u5165 \u6570\u5b57 \u56de\u8f66 \uff0c\u79fb\u52a8\u5230\u7b2cn\u884c \u590d\u5236\u7c98\u8d34 \u6309\u4e0byy\u590d\u5236\u884c \u6309\u4e0b \u6570\u5b57yy \uff0c\u590d\u5236\u5149\u6807\u6240\u5728\u884c\u53ca\u5411\u4e0b\u7684\u591a\u884c \u6309\u4e0b ctrl v \uff0c\u518d\u6309\u65b9\u5411\u952e\u63a7\u5236\u5149\u6807\uff0c\u518d\u6309\u4e0byy \uff0c\u53ef\u590d\u5236\u4e00\u5757\u533a\u57df\u5185\u7684\u5185\u5bb9 \u6309\u4e0b v \uff0c\u518d\u6309\u65b9\u5411\u952e\u63a7\u5236\u5149\u6807 \uff0c\u6b63\u5e38\u5149\u6807\u9009\u4e2d\u7684\u6548\u679c \u6309\u4e0bp \uff0c\u5728\u4e0b\u4e00\u884c\u7c98\u8d34 \u526a\u5207\u5220\u9664 \u6309\u4e0b dd \u5220\u9664\u4e00\u884c \u6309\u4e0b d \u65b9\u5411\u952e\u5de6\uff0c\u5220\u9664\u5149\u6807\u524d\u4e00\u4e2a \u6309\u4e0b d \u65b9\u5411\u952e\u53f3\uff0c\u5220\u9664\u5149\u6807\u9009\u4e2d\u7684 \u6309\u4e0b d \u65b9\u5411\u952e\u4e0a\u6216\u4e0b\uff0c\u5220\u9664\u9009\u4e2d\u884c\u548c\u4e0a\u6216\u4e0b\u7684\u4e00\u884c \u6309\u4e0b d \u6570\u5b57 \u65b9\u5411\u952e\uff0c\u5220\u9664\u6240\u9009\u884c\u53ca\u4e0a\u4e0bn\u884c \u6309\u4e0b \u6570\u5b57\u952e dd \uff0c\u5220\u9664\u5149\u6807\u6240\u5728\u884c\u53ca\u5411\u4e0b\u7684\u591a\u884c \u6309\u4e0b D \uff0c\u5220\u9664\u6240\u5728\u884c\uff0c\u4e0b\u4e00\u884c\u4e0d\u4e0a\u79fb \u64a4\u9500 \u6309\u4e0b u \u64a4\u9500\u4e0a\u4e00\u6b65\u64cd\u4f5c\uff0c\u53ef\u8fde\u7eed\u64a4\u9500 \u6062\u590d ctrl r \u6062\u590d\uff08\u53d6\u6d88\uff09\u4e4b\u524d\u7684\u64a4\u9500","title":"\u547d\u4ee4\u6a21\u5f0f"},{"location":"Linux/#_11","text":"\u8be5\u6a21\u5f0f\u4e0b\u53ef\u4ee5\u5bf9\u6587\u4ef6\u5185\u5bb9\u8fdb\u884c\u76f4\u63a5\u7f16\u8f91 - \u8fdb\u5165 - \u5728\u547d\u4ee4\u6a21\u5f0f\u4e0b\uff0c\u6309i\uff0c\u5728\u5149\u6807\u6240\u5728\u524d\u63d2\u5165 - \u6309\u65b9\u5411\u952e\u6539\u53d8\u5149\u6807\u4f4d\u7f6e \u9000\u51fa \u6309\u4e0b esc","title":"\u7f16\u8f91\u6a21\u5f0f"},{"location":"Linux/#_12","text":"\u5728\u8be5\u6a21\u5f0f\u4e0b\uff0c\u53ef\u4ee5\u5728\u672b\u884c\u8f93\u5165\u4e00\u4e9b\u547d\u4ee4\u5bf9\u6587\u4ef6\u8fdb\u884c\u64cd\u4f5c\uff08\u641c\u7d22\uff0c\u66ff\u6362\uff0c\u4fdd\u5b58\uff0c\u9000\u51fa\uff0c\u64a4\u9500\uff0c\u9ad8\u4eae\uff09 - \u8fdb\u5165 - \u5728\u547d\u4ee4\u6a21\u5f0f\u4e0b\uff0c\u6309\uff1a\uff08\u5373shift \uff1a\uff09 \u6216 \"/\"\uff08\u4ec5\u7528\u4e8e\u641c\u7d22\uff09 \u8fdb\u5165\u672b\u884c\u6a21\u5f0f - \u9000\u51fa\u672b\u884c\u6a21\u5f0f - \u6309esc \u4e00\u4e0b \uff08\u6162\uff09 - \u6309\u4e24\u4e0besc \uff08\u5feb\uff09 - \u5220\u9664\u5185\u5bb9\u53ca\"\uff1a\" \u4fdd\u5b58 \u8f93\u5165 w \u4fdd\u5b58 \u8f93\u5165 w \u8def\u5f84 \u53e6\u5b58\u4e3a \u9000\u51fa \u8f93\u5165 q \u9000\u51fa \u8f93\u5165 wq \u4fdd\u5b58\u5e76\u9000\u51fa \u8f93\u5165 q! \u5f3a\u5236\u9000\u51fa\uff0c\u4e0d\u4fdd\u5b58 \u8f93\u5165 x \u667a\u80fd\u9000\u51fa\uff0c\u6709\u4fee\u6539\u5219\u4fdd\u5b58 \u4e0d\u9000\u51fa\u6267\u884c\u7ec8\u7aef\u547d\u4ee4 \u8f93\u5165 ! \u5916\u90e8\u547d\u4ee4 \u6267\u884c\u5916\u90e8\u547d\u4ee4\uff08\u5207\u6362\u5230\u7ec8\u7aef\u663e\u793a\uff09 \u6309\u4e0benter\u53ef\u7ee7\u7eed\u5207\u6362\u5230vim\u5185 \u641c\u7d22 \u6309\u4e0b / \u8fdb\u5165\u672b\u884c\u6a21\u5f0f /\u8981\u641c\u7d22\u7684\u8bcd\u8bed \uff08\u4e2d\u95f4\u6ca1\u6709\u7a7a\u683c\uff09 \u641c\u7d22\u7ed3\u679c\u7684\u5207\u6362 \u6309 N \u5207\u5230\u4e0a\u4e00\u4e2a\u7ed3\u679c \u6309 n \u5207\u5230\u4e0b\u4e00\u4e2a\u7ed3\u679c \u53d6\u6d88\u9ad8\u4eae \uff1a\u8f93\u5165nohl \u6216\u8005 noh \uff08no highlight\uff09 \u66ff\u6362 \uff1as/\u641c\u7d22\u5185\u5bb9/\u66ff\u6362\u5185\u5bb9 \u66ff\u6362\u5149\u6807\u6240\u5728\u884c\u7684\u7b2c\u4e00\u5904\u7b26\u5408\u7684\u5185\u5bb9 \uff1as/\u641c\u7d22\u5185\u5bb9/\u66ff\u6362\u5185\u5bb9/g \u66ff\u6362\u5149\u6807\u6240\u5728\u884c\u7684\u6240\u6709\u7b26\u5408\u7684\u5185\u5bb9 \uff1a%s/\u641c\u7d22\u5185\u5bb9/\u66ff\u6362\u5185\u5bb9 \u66ff\u6362\u6574\u4e2a\u6587\u6863\u6bcf\u4e00\u884c\u7b2c\u4e00\u4e2a\u7b26\u5408\u7684 \uff1a%s/\u641c\u7d22\u5185\u5bb9/\u66ff\u6362\u5185\u5bb9/g \u66ff\u6362\u5168\u90e8\u7b26\u5408\u7684 % \u8868\u793a\u6574\u4e2a\u6587\u6863 g \u8868\u793a\u5168\u5c40\uff08\u884c\uff09 \u663e\u793a\u884c\u53f7 \uff1aset nu \uff08number\uff09 \u663e\u793a\u884c\u53f7 \uff1aset nonu \u4e0d\u663e\u793a\u884c\u53f7 \u591a\u6587\u6863\u5207\u6362\uff08\u5728\u6253\u5f00\u7528\u4e00\u4e2avim\u6253\u5f00\u591a\u4e2a\u6587\u4ef6\u7684\u524d\u63d0\u4e0b\uff0c\u4e0d\u80fd\u662f\u6253\u5f00\u591a\u4e2avim\uff01\uff01\uff01\uff09 \u67e5\u770b\u5f53\u524d\u5df2\u6253\u5f00\u7684\u6587\u4ef6 \uff1afiles \"%a\" \u8868\u793a\u6253\u5f00\u7684\u6587\u4ef6 \"#\"\u8868\u793a\u4e0a\u4e00\u4e2a\u6253\u5f00\u7684\u6587\u4ef6 \u5207\u6362\u6587\u4ef6 \uff1aopen \u6587\u4ef6\u540d \uff1abn \u5207\u6362\u5230\u4e0b\u4e00\u4e2a\u6587\u4ef6\uff08next\uff09 \uff1abp \u5207\u6362\u5230\u4e0a\u4e00\u4e2a\u6587\u4ef6\uff08previous\uff09","title":"\u672b\u884c\u6a21\u5f0f"},{"location":"Linux/#_13","text":"","title":"\u5176\u5b83\u529f\u80fd"},{"location":"Linux/#_14","text":"code\u6a21\u5f0f\u4e0b\u81ea\u52a8\u4f5c\u8272 \uff1asyntax on \u663e\u793a\u4f5c\u8272\uff08syntax\uff1a\u8bed\u6cd5\uff09 \uff1asyntax off \u4e0d\u663e\u793a","title":"\u4ee3\u7801\u4f5c\u8272"},{"location":"Linux/#vim_1","text":"\u6b65\u9aa4 \u5148\u8fdb\u5165\u7f16\u8f91\u6a21\u5f0f \u6309\u4e0b ctrl+r \uff0c\u7136\u540e\u8f93\u5165 = \uff0c\u6b64\u65f6\u5149\u6807\u4f1a\u53d8\u5230\u6700\u540e\u4e00\u884c \u8f93\u5165\u9700\u8981\u8ba1\u7b97\u7684\u5185\u5bb9\uff0c\u6309\u4e0b\u56de\u8f66","title":"vim\u4e2d\u7684\u8ba1\u7b97\u5668"},{"location":"Linux/#_15","text":"","title":"\u62d3\u5c55\u5185\u5bb9"},{"location":"Linux/#vim_2","text":"\u914d\u7f6e\u7684\u4e09\u79cd\u60c5\u51b5 \u4e34\u65f6\u914d\u7f6e\uff0c\u5373\u5728\u547d\u4ee4\u6a21\u5f0f\u4e0b\u8f93\u5165\u7684\u914d\u7f6e \u4e2a\u4eba\u914d\u7f6e\u6587\u4ef6\uff08~/.vimrc \u9690\u85cf\u6587\u4ef6\uff0c\u5982\u679c\u6ca1\u6709\uff0c\u53ef\u81ea\u884c\u65b0\u5efa\uff09 \u5168\u5c40\u914d\u7f6e\u6587\u4ef6\uff08vim\u81ea\u5e26\uff0c/etc/vimrc\uff09 \u914d\u7f6e\u6b65\u9aa4 \u65b0\u5efa\u4e2a\u4eba\u914d\u7f6e\u6587\u4ef6 vim \u6253\u5f00 \uff0c\u8fdb\u5165\u7f16\u8f91\u6a21\u5f0f \u5199\u5165\u914d\u7f6e\u5185\u5bb9 set nu \u663e\u793a\u884c\u53f7 \u5f53\u4e2a\u4eba\u914d\u7f6e\u4e0e\u5168\u5c40\u914d\u7f6e\u6709\u51b2\u7a81\u65f6\uff0c\u4ee5\u4e2a\u4eba\u914d\u7f6e\u4e3a\u51c6\uff01\uff01\uff01","title":"vim \u914d\u7f6e"},{"location":"Linux/#_16","text":"\u8bbe\u7f6e\u6620\u5c04 \u6620\u5c04\u6587\u4ef6\uff1a~/.bashrc vim\u7f16\u8f91\u5373\u53ef \u91cd\u65b0\u767b\u5f55\u5f53\u524d\u8d26\u53f7\u751f\u6548","title":"\u522b\u540d\u673a\u5236"},{"location":"Linux/#_17","text":"\u8bbe\u7f6e\u5bc6\u7801 vim\u547d\u4ee4\u6a21\u5f0f\u4e0b\uff0c\u8f93\u5165\u5927\u5199\u7684 X \u8f93\u5165\u5bc6\u7801 \u4fdd\u6301\u9000\u51fa\uff0c\u4e00\u5b9a\u8981\u4fdd\u5b58\u624d\u751f\u6548","title":"\u6587\u4ef6\u52a0\u5bc6"},{"location":"Linux/#linux_2","text":"","title":"Linux \u81ea\u6709\u670d\u52a1\uff08\u5185\u7f6e\u670d\u52a1\uff09"},{"location":"Linux/#_18","text":"\u4ee5\u4e0b\u5185\u5bb9 centos 7 \u5df2\u7ecf\u4e0d\u9002\u7528 \u5728Linux\u4e2d\u5b58\u5728\u4e00\u4e2a\u8fdb\u7a0b\uff1ainit \uff08initialize\uff0c\u521d\u59cb\u5316\uff09\uff0c\u8fdb\u7a0bid\u662f1\u3002 \u67e5\u770b\u8be5\u8fdb\u7a0b\uff1aps -ef | grep init \u914d\u7f6e\u6587\u4ef6 inittab \u5728\uff1a/etc/inittab \u547d\u4ee4\uff08\u5207\u6362\u6a21\u5f0f\uff09 init 0 \u5173\u673a init 3 \u5207\u6362\u5230\u4e0d\u5e26\u684c\u9762\u6a21\u5f0f init 5 \u5207\u6362\u5230\u56fe\u5f62\u754c\u9762 init 6 \u91cd\u542f \u5207\u8bb0\u4e0d\u53ef\u7528\u9519\u6570\u5b57\uff01\uff01\uff01","title":"\u8fd0\u884c\u6a21\u5f0f"},{"location":"Linux/#_19","text":"\u914d\u7f6e\u6587\u4ef6\u4f4d\u7f6e /etc/passwd \u50a8\u5b58\u7528\u6237\u4fe1\u606f /etc/group \u50a8\u5b58\u7528\u6237\u7ec4\u4fe1\u606f /etc/shadow \u50a8\u5b58\u5bc6\u7801\u4fe1\u606f","title":"\u7528\u6237\u4e0e\u7528\u6237\u7ec4"},{"location":"Linux/#_20","text":"\u6dfb\u52a0\u7528\u6237 useradd -\u9009\u9879 \uff08\u9009\u9879\u5185\u5bb9\uff09 \u7528\u6237\u540d \uff1a\u6dfb\u52a0\u7528\u6237 e.g. useradd -g 501 -G 500 -u 666 test \u9009\u9879 -g \u6307\u5b9a\u7528\u6237\u7684\u7528\u6237\u4e3b\u7ec4 \u53ef\u4ee5\u662f\u7528\u6237\u7ec4\u7684id\u6216\u8005\u7ec4\u540d -G \u6307\u5b9a\u7528\u6237\u7684\u7528\u6237\u9644\u52a0\u7ec4 -u uid\uff0c\u7528\u6237id\uff08\u7528\u6237\u53ef\u81ea\u5b9a\u4e49\u7528\u6237id\uff09 -c \u6dfb\u52a0\u7528\u6237\u7684\u6ce8\u91ca \u9a8c\u8bc1\u662f\u5426\u6dfb\u52a0\u6210\u529f \u67e5\u770b /etc/passwd \uff08\u91cc\u9762\u4f1a\u663e\u793a\u4e3b\u7ec4\u7684id\uff09 \u67e5\u770b /home/ \u91cc\u9762\u6709\u6ca1\u6709\u65b0\u6587\u4ef6\u5939 \u67e5\u770b /etc/group \uff0c\u91cc\u9762\u53ef\u67e5\u770b\u9644\u52a0\u7ec4\u7684\u4fe1\u606f \u4fee\u6539\u7528\u6237 usermod -\u9009\u9879 \uff08\u5185\u5bb9\uff09 \u7528\u6237\u540d \u9009\u9879 -g \u6307\u5b9a\u7528\u6237\u7684\u7528\u6237\u4e3b\u7ec4 \u53ef\u4ee5\u662f\u7528\u6237\u7ec4\u7684id\u6216\u8005\u7ec4\u540d -G \u6307\u5b9a\u7528\u6237\u7684\u7528\u6237\u9644\u52a0\u7ec4 -u uid\uff0c\u7528\u6237id\uff08\u7528\u6237\u53ef\u81ea\u5b9a\u4e49\u7528\u6237id\uff09 -c \u6dfb\u52a0\u7528\u6237\u7684\u6ce8\u91ca -l \u4fee\u6539\u540e\u7684\u7528\u6237\u540d\uff08\u4fee\u6539\u7528\u6237\u540d\uff0c\u5bb6\u76ee\u5f55\u4e0d\u53d8\uff09 \u8bbe\u7f6e\u5bc6\u7801 passwd \u7528\u6237\u540d \u547d\u4ee4\u884c\u7ee7\u7eed\u8f93\u5165\u5bc6\u7801\u5373\u53ef \u5207\u6362\u7528\u6237 su \u7528\u6237\u540d \u5207\u6362\u5230\u7528\u6237 su \u5207\u6362\u5230root \u5220\u9664\u7528\u6237 userdel \u7528\u6237\u540d\uff08\u7528\u6237\u9700\u8981\u9000\u51fa\u767b\u5f55\uff09 \u9009\u9879 -r \u5220\u9664\u7528\u6237\u7684\u540c\u65f6\uff0c\u5220\u9664\u5176\u5bb6\u76ee\u5f55 \u5df2\u7ecf\u767b\u5f55\u7684\u7528\u6237 \u5148\u67e5\u770b\u5176\u7528\u6237\u8fdb\u7a0b ps -ef | grep \u7528\u6237\u540d \u5173\u95ed\u7528\u6237\u8fdb\u7a0b kill \u7528\u6237\u8fdb\u7a0bid","title":"\u7528\u6237\u7ba1\u7406"},{"location":"Linux/#_21","text":"\u521b\u5efa\u7528\u6237\u65f6\uff0c\u8981\u662f\u6ca1\u6709\u6307\u5b9a\u7528\u6237\u7ec4\uff0c\u7cfb\u7edf\u4f1a\u81ea\u52a8\u6dfb\u52a0\u5bf9\u5e94\u7528\u6237\u7ec4 \u7528\u6237\u5fc5\u987b\u8981\u6709\u7528\u6237\u7ec4 - \u7528\u6237\u7ec4\u6dfb\u52a0 - groupadd -\u9009\u9879 \u7528\u6237\u7ec4\u540d - \u9009\u9879 - -g \u8bbe\u7f6e\u7528\u6237\u7ec4id \u7528\u6237\u7ec4\u7f16\u8f91 groupmod -\u9009\u9879 \u7528\u6237\u7ec4\u540d \u9009\u9879 -g \u8bbe\u7f6e\u7528\u6237\u7ec4id -n \u4fee\u6539\u65b0\u540d\u5b57 \u7528\u6237\u7ec4\u5220\u9664 groupdel \u7528\u6237\u7ec4\uff08\u7528\u6237\u7ec4\u5185\u4e0d\u80fd\u6709\u7528\u6237\uff09 \u9700\u8981\u5148\u5220\u9664\u7ec4\u5185\u7528\u6237\uff0c\u6216\u79fb\u8d70\u7528\u6237","title":"\u7528\u6237\u7ec4\u7ba1\u7406"},{"location":"Linux/#_22","text":"","title":"\u7f51\u7edc\u8bbe\u7f6e\u53ca\u670d\u52a1"},{"location":"Linux/#_23","text":"\u7f51\u5361\u914d\u7f6e\u6587\u4ef6\u4f4d\u7f6e \u76ee\u5f55\uff1a/etc/sysconfig/network-scripts \uff08\u7cfb\u7edf\u914d\u7f6e\uff0c\u7f51\u7edc\u5217\u8868\uff09 \u914d\u7f6e\u6587\u4ef6\u547d\u540d\u683c\u5f0f\uff1aifcfg-\u7f51\u5361\u540d\u79f0 \u6587\u4ef6\u5185\u5bb9\uff1a ONBOOT\uff1a\u5f00\u673a\u542f\u52a8 BOOTPROTO\uff1aip\u5730\u5740\u5206\u914d\u65b9\u5f0f\uff0cDHCP\u8868\u793a\u52a8\u6001\u5206\u914d\u534f\u8bae HWADDR\uff1a\u786c\u4ef6\u5730\u5740\uff0c\u5373MAC\u5730\u5740 \u7f51\u5361\u64cd\u4f5c \u91cd\u542f\u7f51\u5361 service network restart \u91cd\u542f\u7f51\u7edc\u670d\u52a1 /etc/init.d/network restart \u540c\u4e0a \u505c\u6b62\u67d0\u7f51\u5361 ifdown \u7f51\u5361\u540d \u6253\u5f00\u67d0\u7f51\u5361 ifup \u7f51\u5361\u540d","title":"\u7f51\u5361\u914d\u7f6e"},{"location":"Linux/#ssh-secure-shell","text":"\u4e3b\u8981\u529f\u80fd\uff1a\u8fdc\u7a0b\u8fde\u63a5\u534f\u8bae\uff0c\u8fdc\u7a0b\u4f20\u8f93\u534f\u8bae \u534f\u8bae\u7aef\u53e3\uff1a22 \u670d\u52a1\u542f\u52a8/\u505c\u6b62/\u91cd\u542f service sshd start/stop/restart /etc/init.d/sshd start/stop/restart","title":"SSH \u670d\u52a1\uff08secure shell\uff0c\u5b89\u5168\u534f\u8bae\uff09"},{"location":"Linux/#_24","text":"\u7ec8\u7aef\u5de5\u5177 \uff1aXshell\uff0csecureCRT\uff0cPutty\u7b49 \u4ee5\u4e0b\u4ee5Putty\u4e3a\u4f8b \u64cd\u4f5c\u6b65\u9aa4 \u5148\u83b7\u53d6\u670d\u52a1\u5668ip\u5730\u5740 \u5728win\u4e0b\u5c1d\u8bd5ping\u901a \u5728putty\u4e2d\u8fdb\u884c\u6253\u5f00","title":"\u8fdc\u7a0b\u7ec8\u7aef\u8fde\u63a5"},{"location":"Linux/#_25","text":"\u6587\u4ef6\uff1afilezilla \u5b89\u88c5\u597d\u4e4b\u540e\uff0c\u65b0\u5efa\u7ad9\u70b9\uff0c\u9009\u62e9SFTP\uff0c\u8fde\u63a5 \u53ef\u5c06\u672c\u5730\u6587\u4ef6\u4f20\u5230\u670d\u52a1\u5668\uff0c\u4e5f\u53ef\u4ee5\u5c06\u670d\u52a1\u5668\u4e0b\u8f7d\u5230\u672c\u5730 \u6587\u4ef6\uff1aPSCP\uff08\u4e0ePutty\u4e00\u4e2a\u516c\u53f8\u7684\uff09 \u9700\u8981\u7528CMD\u6253\u5f00 pscp -\u9009\u9879 \u7528\u6237\u540d@\u4e3b\u673a\u5730\u5740\uff1a\u8d44\u6e90\u5730\u5740 \u672c\u5730\u5730\u5740\uff08\u4e0b\u8f7d\uff09 pscp -\u9009\u9879 \u672c\u5730\u5730\u5740 \u7528\u6237\u540d@\u4e3b\u673a\u5730\u5740\uff1a\u8fdc\u7a0b\u5730\u5740\uff08\u4e0a\u4f20\uff09","title":"\u8fdc\u7a0b\u6587\u4ef6\u4f20\u8f93"},{"location":"Linux/#chkconfig","text":"\u5f00\u673a\u542f\u52a8\u9879\u7ba1\u7406 centos 7 \u4e4b\u540e\u5df2\u5f03\u7528\uff0c\u8be6\u60c5\u641c\u7d22\u767e\u5ea6 \u8bbe\u7f6e\u81ea\u542f\u52a8\uff1asystemctl enable httpd.service","title":"chkconfig"},{"location":"Linux/#ntp","text":"\u540c\u6b65\u65f6\u95f4 - \u4e00\u6b21\u6027\u624b\u52a8\u64cd\u4f5c\uff1a - ntpdate \u65f6\u95f4\u670d\u52a1\u5668ip - e.g. ntpdate 120.25.108.11 \uff08\u963f\u91cc\u4e91\uff09 \u542f\u52a8 ntpd \u670d\u52a1\uff0c\u81ea\u52a8\u6821\u51c6\u65f6\u95f4","title":"ntp \u670d\u52a1"},{"location":"Linux/#_26","text":"centos 7 \u4e4b\u540e\u9632\u706b\u5899\u662f firewall\uff08firewalld\uff09 \u6253\u5f00\u5173\u95ed\u4e0e\u5176\u4ed6\u670d\u52a1\u4e00\u6837 \u5173\u95ed\u670d\u52a1\u4e4b\u540e\uff0c\u5728win\u4e0b\u4e5f\u53ef\u4ee5\u8fdb\u5165ip\u9875\u9762 \u8bbe\u7f6e\u9632\u706b\u5899\u652f\u630180\u7aef\u53e3\u901a\u8fc7\uff1a\u81ea\u5df1\u770b\u767e\u5ea6","title":"\u9632\u706b\u5899"},{"location":"Linux/#rpm","text":"\u4f5c\u7528\uff1a\u7ba1\u7406linux\u8f6f\u4ef6 - \u67e5\u8be2\u5df2\u5b89\u88c5\u8f6f\u4ef6 - rpm -qa \u67e5\u8be2\u7ed3\u679c\u975e\u5e38\u591a\uff0c\u4e00\u822c\u8fdb\u884cgrep\u8fc7\u6ee4 - -q \u67e5\u8be2 - -a all\u5168\u90e8 \u5378\u8f7d\u5df2\u88c5\u7684\u8f6f\u4ef6 rpm -e \u8f6f\u4ef6\u540d -e \u5378\u8f7d rpm -e \u8f6f\u4ef6\u540d --nodeps --nodeps \u5b58\u5728\u4f9d\u8d56\u5173\u7cfb\u65f6\uff0c\u5ffd\u7565\u4f9d\u8d56\u5173\u7cfb \u5b89\u88c5\u8f6f\u4ef6 \u65b9\u5f0f1\uff1a\u4e0d\u4ecb\u610f\u7248\u672c\uff0c\u53ef\u4ee5\u4ece\u5149\u76d8\u4e2d\u8bfb\u53d6 lsblk \uff08list block devices\uff09 \u67e5\u770b\u8bbe\u5907\uff08\u5149\u76d8\uff09 \u5728\u5149\u76d8\u6587\u4ef6\u7684packages\u76ee\u5f55\u4e0b \u5b89\u88c5 rpm -ivh \u8f6f\u4ef6\u5305\u5b8c\u6574\u540d\u79f0 -i \u5b89\u88c5 -v \u663e\u793a\u8fdb\u5ea6\u6761 -h \u4ee5\"#\"\u65b9\u5f0f\u663e\u793a\u8fdb\u5ea6\u6761 \u65b9\u5f0f2\uff1a\u81ea\u5df1\u4e0a\u7f51\u4e0b\u8f7d","title":"rpm \u7ba1\u7406"},{"location":"Linux/#cron","text":"crontab -\u9009\u9879 -l list\u663e\u793a -e edit\u7f16\u8f91 -u user \u6307\u5b9a\u7528\u6237 -r \u8f93\u51fa\u7528\u6237\u8ba1\u5212\u5217\u8868 \u7f16\u8f91\u8ba1\u5212 crontab -e \u8bed\u6cd5\uff1a \u4ee5\u884c\u4e3a\u5355\u4f4d\uff0c\u4e00\u884c\u4e3a\u4e00\u4e2a\u8ba1\u5212 \u5206 \u65f6 \u65e5 \u6708 \u5468 \u547d\u4ee4 \u5468\u65e5\u4e3a 0 \u6216 7 \" \"\uff0c\u5168\u90e8\u3002\u6bcf\u5c0f\u65f6\u5219\u5728\u65f6\u7684\u4f4d\u7f6e\u8f93\u5165 \uff08\u661f\u53f7\uff09\u3002\u6bcf\u5e74\u6708\u65e5\u4ee5\u6b64\u7c7b\u63a8 \"-\"\uff0c\u533a\u95f4\u3002\u533a\u95f41\u52307\u70b9\uff0c\u5219\u5728\u65f6\u7684\u4f4d\u7f6e\u8f93\u5165 1-7 / \u8868\u793a\u6bcf\u591a\u5c11\u4e2a\u3002\u6bcf\u5341\u5206\u949f */10 \uff0c \u8868\u793a\u591a\u70b9\u53d6\u503c\u30021\uff0c2\uff0c3 e.g. \u6bcf\u59290\u70b9\u91cd\u542f 0 0 * * * reboot cron\u6743\u9650 \u9ed8\u8ba4\u6240\u6709\u4eba\u90fd\u53ef\u4ee5\u6dfb\u52a0cron \u9650\u5236\u6743\u9650 \u5728 /etc/cron.deny \u91cc\u9762\u5199\u7528\u6237\u540d\uff0c\u4e00\u884c\u4e00\u4e2a","title":"cron \u8ba1\u5212\u4efb\u52a1"},{"location":"Linux/#linux_3","text":"","title":"Linux \u6743\u9650"},{"location":"Linux/#_27","text":"\u4e09\u79cd\u8eab\u4efd owner \u6587\u4ef6\u6240\u6709\u8005\uff0c\u4e00\u822c\u4e3a\u521b\u5efa\u8005 Group \u6587\u4ef6\u6240\u5c5e\u7528\u6237\u7ec4 others \u5176\u4ed6\u4eba \u4e09\u79cd\u6743\u9650\u7531\u9ad8\u5230\u4f4e \u6587\u4ef6\u6743\u9650 \u5206\u7c7b r\uff1a\u8bfb w\uff1a\u5199 x/e\uff1a\u6267\u884c ls -l \u6216\u8005 ll \u7b2c\u4e00\u4e2a\u662f\u6587\u4ef6/\u6587\u4ef6\u5939/\u5feb\u6377\u65b9\u5f0f\uff1a-/d/l 2-4\uff1aowner\u6743\u9650 5-7\uff1agroup\u6743\u9650 8-10\uff1aothers\u6743\u9650 e.g. drwxr-x--- \u6743\u9650\u8bbe\u7f6e chmod -\u9009\u9879 \u6743\u9650\u6a21\u5f0f \u6587\u6863 -R\uff1a\u9012\u5f52\uff0c\u7528\u4e8e\u6587\u4ef6\u5939 \u53ea\u6709 root \u548c owner \u53ef\u4ee5\u8bbe\u7f6e\u6743\u9650 \u8be6\u7ec6\u4fee\u6539\u89c4\u5219\u89c1\u767e\u5ea6 \u5c5e\u4e3b\u548c\u5c5e\u7ec4\u6743\u9650 \u5c5e\u4e3b\uff1a\u6587\u4ef6\u6240\u5c5e\u7684\u7528\u6237 \u5c5e\u7ec4\uff1a\u6240\u5c5e\u7684\u7528\u6237\u7ec4 ls -l \u67e5\u770b\u65f6\uff0c\u7b2c\u4e00\u4e2a\u540d\u5b57\u662f\u5c5e\u4e3b\uff0c\u7b2c\u4e8c\u4e2a\u662f\u5c5e\u7ec4 chown \u66f4\u6539\u6587\u6863\u7684\u5c5e\u4e3b chown \uff08-R\uff09 username \u6587\u4ef6\u8def\u5f84 chgrp \u66f4\u6539\u6587\u6863\u7684\u5c5e\u7ec4 chgrp \uff08-R\uff09 groupname \u6587\u4ef6\u8def\u5f84 \u540c\u65f6\u66f4\u6539\u5c5e\u4e3b\u548c\u5c5e\u7ec4 chown \uff08-R\uff09 username:groupname \u6587\u4ef6\u8def\u5f84","title":"\u7528\u6237\u8eab\u4efd\u6743\u9650"},{"location":"Linux/#sudo","text":"sudo \u53ef\u4ee5\u8ba9 root \u4e8b\u5148\u5b9a\u4e49\u67d0\u4e9b\u7279\u6b8a\u6307\u4ee4\u8c01\u53ef\u4ee5\u6267\u884c \u9ed8\u8ba4 sudo \u91cc\u662f\u6ca1\u6709\u4efb\u4f55\u547d\u4ee4\u7684\uff0c\u9700\u8981 root \u63d0\u524d\u914d\u7f6e - \u6587\u4ef6\u914d\u7f6e\u5730\u5740 - /etc/sudoers \u6587\u4ef6 - \u4f46\u8be5\u6587\u4ef6\u65e0\u6cd5\u76f4\u63a5\u7f16\u8f91\uff01\uff01\uff01 \u914d\u7f6esudo","title":"sudo"},{"location":"Linux/#visudo-sudovim","text":"\u5176\u4e2d\u6709\u4e00\u4e2a\u4f8b\u5b50\uff1aroot ALL=(ALL) ALL root \u7528\u6237\u540d\uff0c\u7528\u6237\u7ec4\u53ef\u4ee5\u5199 \uff1a%\u7ec4\u540d ALL \u5730\u5740\u767d\u540d\u5355 (ALL) \u4ee5\u8c01\u7684\u8eab\u4efd\u6267\u884c\uff0cALL\u8868\u793aroot ALL \u53ef\u6267\u884c\u547d\u4ee4\uff0c\u591a\u547d\u4ee4\u7528\",\"\u5206\u9694 \u4e00\u822c\u662f \u7528\u6237\u540d \u548c \u547d\u4ee4 \u9700\u8981\u8bbe\u7f6e \u5728\u5199\u547d\u4ee4\u65f6\uff0c\u4e0d\u5efa\u8bae\u76f4\u63a5\u5199\u547d\u4ee4\u5185\u5bb9\uff0c\u800c\u662f\u5199\u5165\u547d\u4ee4\u7684\u5b8c\u6574\u8def\u5f84 \u67e5\u770b\u547d\u4ee4\u5b8c\u6574\u8def\u5f84\u7684\u65b9\u6cd5\uff1a#which \u547d\u4ee4 \u5bf9\u4e8e\u4e0d\u5e0c\u671b\u6267\u884c\u7684\u547d\u4ee4\uff1a!\u547d\u4ee4 sudo \u4f7f\u7528 \u5728\u4f7f\u7528sudo\u547d\u4ee4\u65f6\uff0c\u8981 $sudo \u547d\u4ee4 \u9700\u8981\u8f93\u5165\u5bc6\u7801\u7684\u8bdd\uff0c\u8f93\u5165\u5f53\u524d\u7528\u6237\u7684\u5bc6\u7801\uff0c\u5373\u9a8c\u8bc1\u5bc6\u7801 \u67e5\u770bsudo\u6743\u9650 sudo -l","title":"visudo \u7528\u7279\u6b8a\u7684\u65b9\u6cd5\u6253\u5f00sudo\uff0c\u64cd\u4f5c\u7c7b\u4f3cvim"},{"location":"Linux/#linux_4","text":"","title":"Linux \u7f51\u7edc"},{"location":"Linux/#_28","text":"ping ping ip \u68c0\u6d4b\u8fde\u901a\u6027 netstat \u67e5\u770b\u7f51\u7edc\u8fde\u63a5\u60c5\u51b5 netstat -ntpl ntestat -na -a \u5168\u90e8 -n \u5c06\u5b57\u6bcd\u8f6c\u5316\u4e3a\u6570\u5b57 traceroute \u67e5\u627e\u5f53\u524d\u4e3b\u673a\u4e0e\u76ee\u6807\u4e3b\u673a\u4e4b\u95f4\u7684\u6240\u6709\u7684\u7f51\u5173 traceroute \u4e3b\u673aip arp \u5730\u5740\u89e3\u6790\u534f\u8bae\uff0c\u6839\u636eip\u5730\u5740\u83b7\u53d6mac\u5730\u5740 arp -a \u67e5\u770b\u672c\u5730\u7f13\u5b58\u7684mac\u5730\u5740 arp -d ip\u5730\u5740 \u5220\u9664\u7f13\u5b58\u7684\u8be5ip\u4e0b\u7684mac\u5730\u5740 tcpdump \u6293\u5305 tcpdump \u534f\u8bae port \u7aef\u53e3 tcpdump \u534f\u8bae port \u7aef\u53e3 host \u5730\u5740 tcpdump -i \u7f51\u5361\u8bbe\u5907\u540d","title":"\u7f51\u7edc\u547d\u4ee4"},{"location":"Linux/#_29","text":"\u7ebf\u4e0a\u670d\u52a1\u5668\u5fc5\u987b\u662f\u5916\u7f51\u670d\u52a1\u5668 - \u4e91\u670d\u52a1\u5668 - \u57df\u540d - \u57df\u540d\u8d2d\u4e70 - \u57df\u540d\u5907\u6848 - \u57df\u540d\u89e3\u6790 - \u89e3\u6790\uff1a\u5c06\u57df\u540d\u7ed1\u5b9a\u5230\u4e00\u4e2a\u670d\u52a1\u5668\u5730\u5740\u7684\u64cd\u4f5c - DNS\uff1a\u5c06\u57df\u540d\u8f6c\u5316\u4e3aip\u5730\u5740\u7684\u670d\u52a1\u5668","title":"\u9879\u76ee\u4e0a\u7ebf"},{"location":"Linux/#shell","text":"Linux \u4e2d\u9ed8\u8ba4\u7684 shell \u662f /bin/bash \uff01\uff01\uff01 shell \u7684\u79cd\u7c7b\u975e\u5e38\u591a\uff0c\u76ee\u524d\u4ee5 bash \u4e3a\u4e3b","title":"Shell"},{"location":"Linux/#_30","text":"\u5728\u6587\u6863\u5f00\u5934\uff0c\u8981\u5199\u5165\u4ee5\u4e0b\u5185\u5bb9","title":"\u7f16\u5199\u89c4\u8303"},{"location":"Linux/#binbash","text":"","title":"!/bin/bash"},{"location":"Linux/#_31","text":"\u544a\u77e5\u7cfb\u7edf\u5f53\u524d\u811a\u672c\u8981\u4f7f\u7528\u7684shell\u89e3\u91ca\u5668 \u6587\u4ef6\u547d\u540d \u6587\u4ef6\u540d.sh .sh \u662fbash\u9ed8\u8ba4\u540e\u7f00 \u6587\u4ef6\u8fd0\u884c bash \u6587\u4ef6\u8def\u5f84 or sh \u6587\u4ef6\u8def\u5f84 \u76f4\u63a5\u8f93\u5165\u8def\u5f84\uff08\u53ef\u80fd\u4f1a\u56e0\u4e3a\u6743\u9650\u65e0\u6cd5\u8fd0\u884c\uff09 \u4fee\u6539\u6743\u9650\uff1achmod a+x \u6587\u4ef6\u8def\u5f84 \u4f8b\u4e00\uff1a\u8f93\u51fa hello world shell #!/bin/bash echo \"hello world\" echo \u8868\u793a\u8f93\u51fa \u4f8b\u4e8c\uff1a\u521b\u5efa\u7528\u6237shelltest\uff0c\u5e76\u5728\u5176\u5bb6\u76ee\u5f55\u521b\u5efa\u6587\u4ef6try.html shell #!/bin/bash useradd shelltest touch /home/shelltest/try.html \u7b80\u5355\u7684 shell \u547d\u4ee4\u548c\u76f4\u63a5\u5728\u7ec8\u7aef\u8f93\u5165\u7684\u4e00\u6837","title":"\u540e\u9762\u7684\u662f\u6ce8\u91ca"},{"location":"Linux/#_32","text":"\u53d8\u91cf\u8981\u5148\u5b9a\u4e49\uff0c\u540e\u4f7f\u7528 - \u4f8b\u4e09\uff1a\u521b\u5efa\u5e76\u4f7f\u7528\u53d8\u91cf shell a=\"abc\" echo $a - \u5728\u4f7f\u7528\u53d8\u91cf\u7684\u65f6\u5019\uff0c\u4e00\u5b9a\u8981\u52a0\u4e0a \"$\" \uff01\uff01\uff01\uff01\uff01\uff01 - \u5728\u5b9a\u4e49\u53d8\u91cf\u65f6\uff0c\"=\" \u5de6\u53f3\u4e0d\u80fd\u6709\u7a7a\u683c \uff01\uff01\uff01\uff01\uff01\uff01 \u5f15\u53f7 \u53cc\u5f15\u53f7\u53ef\u4ee5\u8bd5\u522b\u91cc\u9762\u7684\u53d8\u91cf\uff0c\u5e76\u4e14\u53ef\u4ee5\u5b9e\u73b0\u8f6c\u4e49 \uff01\uff01\uff01 \u5355\u5f15\u53f7\u4e0d\u80fd\u8bd5\u522b\u53d8\u91cf\uff0c\u5373\u539f\u6837\u8f93\u51fa\uff0c\u4e5f\u4e0d\u80fd\u8f6c\u4e49 \uff01\uff01\uff01 \u53cd\u5f15\u53f7(`,esc\u4e0b\u9762)\uff0c\u5728\u811a\u672c\u4e2d\u9700\u8981\u5c06\u6267\u884c\u7684\u6307\u4ee4\u7684\u7ed3\u679c\u8d4b\u7ed9\u53d8\u91cf\u65f6\u4f7f\u7528 \uff01\uff01\uff01 \u4f8b\u56db\uff1a\u8f93\u51fa\u683c\u5f0f\u5316\u65f6\u95f4 shell #!/bin/bash dt=`date +\"%F %T\"` echo $dt \u6ce8\u610f\u53cd\u5f15\u53f7\u7684\u7528\u6cd5 \uff01\uff01\uff01 \u53ea\u8bfb\u53d8\u91cf readonly \u53d8\u91cf\u540d \uff08\u4e0d\u9700\u8981\u52a0$\uff09 \u5728\u5b9a\u4e49\u597d\u53d8\u91cf\u4e4b\u540e\uff0c\u4f7f\u7528readonly\u547d\u4ee4 \u5220\u9664\u53d8\u91cf unset \u53d8\u91cf\u540d","title":"\u53d8\u91cf"},{"location":"Linux/#_33","text":"\u7528\u6cd5 arr=(1 2 3 4 5) \u8f93\u51fa echo $arr \u65f6\uff0c\u53ea\u4f1a\u8f93\u51fa\u7b2c\u4e00\u4e2a\u5143\u7d20 echo ${arr[1]} \u8f93\u51fa\u7b2c\u4e8c\u4e2a\u5143\u7d20 $,{ },[ ] \u90fd\u7f3a\u4e00\u4e0d\u53ef echo ${arr[@]} \u8f93\u51fa\u5168\u90e8\u5143\u7d20 @ \u7684\u4f5c\u7528\u662f\u5168\u90e8\u5143\u7d20","title":"\u6570\u7ec4"},{"location":"Linux/#_34","text":"\u8f93\u51fa echo \u8f93\u51fa\u53d8\u91cf\u65f6\uff0c\u8981\u5728\u53d8\u91cf\u524d\u52a0\u4e0a$ \u8f93\u5165 read read -p \u63d0\u793a\u4fe1\u606f \u53d8\u91cf\u540d \u4f8b\u4e94\uff1a\u7528\u6237\u8f93\u5165\u8def\u5f84\uff0c\u4e3a\u7528\u6237\u521b\u5efa\u6587\u4ef6 shell #!/bin/bash read -p \"please input filepath :\" filepath touch $filepath echo \"file is done\" \u8def\u5f84\u5fc5\u987b\u5b58\u5728","title":"\u8f93\u51fa\u3001\u8f93\u5165"},{"location":"Linux/#_35","text":"\u8bed\u6cd51 shell if [ condition ] then command1 command2 ... fi condition \u662f\u6761\u4ef6\uff0c\u6761\u4ef6\u8981\u62ff [ ] \u5305\u8d77\u6765\uff0c\u5e76\u4e14\u4e2d\u62ec\u53f7\u4e24\u8fb9\u90fd\u8981\u6709\u7a7a\u683c command \u662f\u6761\u4ef6\u6210\u7acb\u65f6\u6267\u884c\u7684\u8bed\u53e5 fi \u8868\u793a\u7ed3\u675f \u5355\u884c\u5199\u6cd5 shell if [condition];then command;fi \u8bed\u6cd52 shell if [ condition ] then command1 command2 ... else command fi \u8bed\u6cd53 shell if [ condition1 ] then command1 elif [ condition2 ] then command2 else command3 fi","title":"\u6761\u4ef6\u5224\u65ad"},{"location":"Linux/#_36","text":"for \u5faa\u73af \u8bed\u6cd51 shell for x in 1 2 3 do command done \u8bed\u6cd52 shell for i in {1..10} do command done \u8bed\u6cd53 shell for ((i=1;i<=10;i++)) do command done \u8bed\u6cd54 shell for i in `ls` `pwd` do echo $i done while \u5faa\u73af \u8bed\u6cd5 shell while [ condition ] do command done","title":"\u5faa\u73af"},{"location":"Linux/#_37","text":"\u8868\u8fbe\u5f0f\u548c\u8fd0\u7b97\u7b26\u4e4b\u95f4\uff0c\u9664\u4e86\u8d4b\u503c\uff0c\u5176\u5b83\u4e00\u5b9a\u8981\u6709\u7a7a\u683c\uff01\uff01\uff01\uff01\uff01\uff01 \u5b8c\u6574\u7684\u8fd0\u7b97\u8981\u62ff `(\u53cd\u62ec\u53f7) \u5305\u8d77\u6765 - \u7b97\u672f\u8fd0\u7b97\u7b26 \u5728 shell \u4e2d\u5e76\u4e0d\u652f\u6301\u7b80\u5355\u7684\u6570\u5b66\u8fd0\u7b97\uff0c\u56e0\u6b64\u9700\u8981\u7528 expr \u547d\u4ee4\u6765\u5b9e\u73b0 - \"+\" \u52a0\u6cd5 ```shell expr 2 + 3` ``` - \"-\" \u526a\u6cd5 ```shell `expr 3 - 2` ``` - \"*\" \u4e58\u6cd5 ```shell `expr 2 \\* 3` ``` - \u6b64\u65f6\u7684 * \u4e0e\u901a\u914d\u7b26\u51b2\u7a81\uff0c\u56e0\u6b64\u8981\u7528\u8f6c\u4e49\u5b57\u7b26 \\* - \"/\" \u9664\u6cd5\uff0c\u9ed8\u8ba4\u53d6\u6574 ```shell `expr 3 / 2` ``` - \"%\" \u53d6\u4f59 ```shell `expr 3 % 2` ``` - \"=\" \u8d4b\u503c ```shell a=$b ``` - \"==\" \u76f8\u7b49 ```shell [ $a == $b ] ``` - \u6ce8\u610f\u7a7a\u683c - \"!=\" \u4e0d\u76f8\u7b49 ```shell [ $a != $b ] ``` - \u6ce8\u610f\u7a7a\u683c \u5173\u7cfb\u8fd0\u7b97\u7b26 \u5173\u7cfb\u8fd0\u7b97\u7b26\u53ea\u652f\u6301\u6570\u5b57\u4e4b\u95f4\u7684\u5224\u65ad \"-eq\" \u68c0\u6d4b\u6570\u5b57\u662f\u5426\u76f8\u7b49,equal shell [ $a -eq $b ] \u6ce8\u610f\u7a7a\u683c \"-ne\" \u68c0\u6d4b\u6570\u5b57\u662f\u5426\u4e0d\u76f8\u7b49,not equal shell [ $a -ne $b ] \u6ce8\u610f\u7a7a\u683c \"-gt\" \u68c0\u6d4b\u5de6\u8fb9\u662f\u5426\u5927\u4e8e\u53f3\u8fb9,great than shell [ $a -gt $b ] \u6ce8\u610f\u7a7a\u683c \"-lt\" \u68c0\u6d4b\u5de6\u8fb9\u662f\u5426\u5c0f\u4e8e\u53f3\u8fb9,less than shell [ $a -lt $b ] \u6ce8\u610f\u7a7a\u683c \"-ge\" \u68c0\u6d4b\u5de6\u8fb9\u662f\u5426\u5927\u4e8e\u7b49\u4e8e\u53f3\u8fb9,great than or equal shell [ $a -ge $b ] \u6ce8\u610f\u7a7a\u683c \"-le\" \u68c0\u6d4b\u5de6\u8fb9\u662f\u5426\u5c0f\u4e8e\u7b49\u4e8e\u53f3\u8fb9,less than or equal shell [ $a -le $b ] \u6ce8\u610f\u7a7a\u683c \u903b\u8f91\u8fd0\u7b97\u7b26 \u5e03\u5c14\u8fd0\u7b97 \"!\" \u975e\u8fd0\u7b97 shell [ ! false ] \"-o\" \u6216\u8fd0\u7b97 shell [ a -o b ] \"-a\" \u4e0e\u8fd0\u7b97 shell [ a -a b ] \u5b57\u7b26\u4e32\u8fd0\u7b97\u7b26 \u53ea\u80fd\u7528\u4e8e\u5224\u65ad\u5b57\u7b26\u4e32\u4e4b\u95f4\u7684\u5173\u7cfb \"=\" \u5b57\u7b26\u4e32\u662f\u5426\u76f8\u7b49 shell [ $a = $b ] \"!=\" \u5b57\u7b26\u4e32\u662f\u5426\u4e0d\u76f8\u7b49 shell [ $a != $b ] \"-z\" \u5b57\u7b26\u4e32\u957f\u5ea6\u662f\u5426\u4e3a0 shell [ -z $a ] \"-n\" \u5b57\u7b26\u4e32\u957f\u5ea6\u662f\u5426\u4e0d\u4e3a0 shell [ -n $a ] \"\" \u5b57\u7b26\u4e32\u662f\u5426\u4e3a\u7a7a shell [ $a ] \u6587\u4ef6\u6d4b\u8bd5\u8fd0\u7b97\u7b26 \u7528\u4e8e\u68c0\u6d4b\u6587\u4ef6\u7684\u5c5e\u6027 \"-b\" \u68c0\u6d4b\u6587\u4ef6\u662f\u5426\u662f\u5757\u72b6\u8bbe\u5907\u6587\u4ef6\uff08u\u76d8\u7b49\uff09 shell [ -b $file ] \"-c\" \u68c0\u6d4b\u6587\u4ef6\u662f\u5426\u662f\u5b57\u7b26\u8bbe\u5907\u6587\u4ef6 shell [ -c $file ] \"-d\" \u68c0\u6d4b\u6587\u4ef6\u662f\u5426\u662f\u76ee\u5f55 shell [ -d $file ] \"-f\" \u68c0\u6d4b\u6587\u4ef6\u662f\u5426\u662f\u666e\u901a\u6587\u4ef6 shell [ -f $file ] \"-r\" / \"-w\" / \"-x\" \u68c0\u6d4b\u6587\u4ef6\u662f\u5426\u53ef\u8bfb\uff0c\u53ef\u5199\uff0c\u53ef\u6267\u884c shell [ -r $file ] \"-s\" \u68c0\u6d4b\u6587\u4ef6\u662f\u5426\u4e3a\u7a7a shell [ -s $file ] \"-e\" \u68c0\u6d4b\u6587\u4ef6\uff08\u76ee\u5f55\uff09\u662f\u5426\u5b58\u5728 shell [ -e $file ]","title":"\u8fd0\u7b97\u7b26"},{"location":"Linux/#_38","text":"\u5728 shell \u4e2d\uff0c\u53ef\u4ee5\u7528 $ \u52a0\u6570\u5b57\u7684\u65b9\u6cd5\u4f20\u9012\u53c2\u6570 - $0 \u8868\u793a\u6587\u4ef6\u81ea\u8eab - $n n\u8868\u793a\u6570\u5b57\uff0c\u4ee3\u8868\u4f20\u9012\u7684\u7b2c\u51e0\u4e2a\u53c2\u6570 - \u5728 shell \u4e2d $n \u5c31\u4ee3\u8868\u4e86\u4f20\u9012\u8fdb\u6765\u7684\u53c2\u6570\uff08\u53d8\u91cf\uff09","title":"\u53c2\u6570"},{"location":"Linux/#_39","text":"","title":"\u6570\u636e\u5e93"},{"location":"Linux/#_40","text":"yum install mysql-server \u5b89\u88c5\u670d\u52a1\u5668\u7aefMySQL \u6570\u636e\u5e93\u50a8\u5b58\u4f4d\u7f6e /var/lib/mysql \u914d\u7f6e\u6587\u4ef6 /etc/my.cnf","title":"\u5b89\u88c5"},{"location":"Linux/#_41","text":"service mysqld start \u5148\u542f\u52a8 mysql_secure_installation \u5148\u8f93\u5165\u6570\u636e\u5e93\u5bc6\u7801\uff08\u6ca1\u6709\u76f4\u63a5\u56de\u8f66\uff09 \u82e5\u6ca1\u6709\u5bc6\u7801\uff0c\u5219\u8bbe\u7f6e\u5bc6\u7801 \u79fb\u9664\u533f\u540d\u7528\u6237 \u5141\u8bb8\u8fdc\u7a0b\u767b\u5f55\uff08\u8f93\u5165n\uff09 \u4e0d\u79fb\u9664\u6d4b\u8bd5\u6570\u636e\u5e93 \u91cd\u65b0\u52a0\u8f7d\u6743\u9650\u8868","title":"\u521d\u59cb\u5316"},{"location":"Linux/#_42","text":"service mysqld start \u542f\u52a8\u670d\u52a1 mysql -u \u7528\u6237\u540d -p \u8f93\u5165\u5bc6\u7801","title":"\u542f\u52a8"},{"location":"Linux/#_43","text":"MySQL\u4e2d\uff0c\u4ee5 ; \u505a\u4e3a\u7ed3\u675f\uff01\uff01\uff01 - \u5e93\u64cd\u4f5c - SHOW DATABASES; - \u663e\u793a - CREATE DATABASE \u5e93\u540d; - \u521b\u5efa - DROP DATABASE \u5e93\u540d; - \u5220\u9664 - USE \u5e93\u540d; - \u5207\u6362 \u8868\u64cd\u4f5c SHOW TABLES; \u663e\u793a CREATE TABLE \u8868\u540d; CREATE TABLE \u8868\u540d ( \u5217\u540d\u79f01 \u6570\u636e\u7c7b\u578b [NOT NULL AUTO_INCREMENT], \u5217\u540d\u79f02 \u6570\u636e\u7c7b\u578b, ..., PRIMARY KEY(\u4e3b\u952e) ); \u6570\u636e\u7c7b\u578b\uff1a int() \u6574\u578b\uff0c( )\u91cc\u586b\u957f\u5ea6 char() \u5b9a\u957f\u5b57\u7b26 varchar() \u4e0d\u5b9a\u957f\u5b57\u7b26 \u53ef\u9009\u53c2\u6570\uff1a NOT NULL \u975e\u7a7a AUTO_INCREMENT \u9012\u589e DESC \u8868\u540d; \u67e5\u770b\u8868\u7ed3\u6784 DROP TABLE [IF EXISTS] \u8868\u540d; \u5220\u9664\u8868","title":"\u57fa\u7840\u64cd\u4f5c"},{"location":"Linux/#_44","text":"\u589e INSERT INTO \u8868\u540d VALUES (\u503c1\uff0c\u503c2...); INSERT INTO \u8868\u540d (\u52171\uff0c\u52172...) VALUES (\u503c1\uff0c\u503c2...); \u6539\uff08\u66f4\u65b0\uff09 UPDATE \u8868\u540d SET \u52171 = \u503c1 , \u52172 = \u503c2 WHERE \u5217\u540d\u79f0 = \u4e4b\u524d\u7684\u503c; WHERE \u4e00\u5b9a\u4e0d\u80fd\u5c11\uff01\uff01\uff01 \u67e5 SELECT \u5217\u540d FORM \u8868\u540d WHERE \u6761\u4ef6; \u5220\u9664 DELETE FROM \u8868\u540d WHERE \u5217 = \u503c ; WHERE \u4e00\u5b9a\u4e0d\u80fd\u5c11\uff01\uff01\uff01","title":"\u589e\u5220\u67e5\u6539"},{"location":"Linux/#_45","text":"","title":"\u5907\u4efd\u4e0e\u8fd8\u539f"},{"location":"Linux/#_46","text":"\u5168\u91cf\u5907\u4efd","title":"\u5907\u4efd"},{"location":"Linux/#mysqldump-u-root-p-123456-a","text":"-A \u5168\u90e8\u6570\u636e\u5e93 \u6307\u5b9a\u5e93\u5907\u4efd","title":"mysqldump -u root -p 123456 -A &gt; \u5907\u4efd\u6587\u4ef6\u8def\u5f84"},{"location":"Linux/#mysqldump-u-root-p-123456","text":"\u6700\u5e38\u7528 \u5907\u4efd\u65f6\uff0c\u6587\u4ef6\u540e\u7f00\u4e3a .sql \u591a\u5e93\u5907\u4efd","title":"mysqldump -u root -p 123456 \u5e93\u540d &gt; \u5907\u4efd\u6587\u4ef6\u8def\u5f84"},{"location":"Linux/#mysqldump-u-root-p-123456-databases-db1-db2","text":"\u6848\u4f8b\uff1a\u6bcf\u4e00\u5206\u949f\u81ea\u52a8\u5907\u4efd\u4e00\u6b21\u6570\u636e\u5e93 \u5148\u521b\u5efashell\u547d\u4ee4 shell #!/bin/bash filename=\"sql_\"`date +'%Y%m%d%H%M%S'`\".sql\" mysqldump -u root -p 123456 test > /root/$filename \u521b\u5efa\u8ba1\u5212\u4efb\u52a1","title":"mysqldump -u root -p 123456 --databases db1 db2 &gt; \u5907\u4efd\u6587\u4ef6\u8def\u5f84"},{"location":"Linux/#crontab-e","text":"```shell /root/save_sql.sh ```","title":"crontab -e"},{"location":"Linux/#_47","text":"\u8fd8\u539f\u5168\u90e8\u6570\u636e\u5e93 mysql \u547d\u4ee4\u884c\uff1a source \u5907\u4efd\u6587\u4ef6\u8def\u5f84; shell \u547d\u4ee4\uff1a","title":"\u8fd8\u539f"},{"location":"Linux/#mysql-u-root-p-123456","text":"\u8fd8\u539f\u5355\u4e2a\u6570\u636e\u5e93 mysql \u547d\u4ee4\u884c\uff0c\uff08\u9700\u8981\u5148\u6307\u5b9a\u5e93\uff09 use \u5e93\u540d; source \u5907\u4efd\u6587\u4ef6\u8def\u5f84; shell \u547d\u4ee4","title":"mysql -u root -p 123456 &lt; \u5907\u4efd\u6587\u4ef6\u8def\u5f84"},{"location":"Linux/#mysql-u-root-p-123456_1","text":"","title":"mysql -u root -p 123456 \u5e93\u540d &lt; \u5907\u4efd\u6587\u4ef6\u8def\u5f84"},{"location":"Linux/#_48","text":"\u6b65\u9aa4 \u5148\u767b\u5f55mysql\uff0c\u9009\u62e9mysql\u5e93 \u6267\u884c \uff1aselect host,user from user; \u5c06\u5176\u4e2d\u4e00\u4e2a\u8bb0\u5f55\u7684host\u6539\u4e3a\u7684\u503c \"%\" ,\u8868\u793a\u5141\u8bb8\u4efb\u4f55\u5730\u65b9\u767b\u5f55 \u5237\u65b0\u6743\u9650\u8868\uff0c\u6216\u8005\u91cd\u542f\u6570\u636e\u5e93 \u5237\u65b0\u6743\u9650 \uff1aflush privileges;","title":"\u8fdc\u7a0b\u8fde\u63a5"},{"location":"Linux/#_49","text":"","title":"\u963f\u91cc\u9879\u76ee\u5b9e\u6218"},{"location":"Linux/#nginx","text":"\u5b89\u88c5\uff08\u7f16\u8bd1\u5b89\u88c5\uff09 \u4e0b\u8f7d \u627e\u5230\u4e0b\u8f7d\u5730\u5740\uff0c\u590d\u5236\u4e0b\u8f7d\u94fe\u63a5","title":"nginx"},{"location":"Linux/#wget","text":"\u76f4\u63a5\u4e0b\u8f7d\u5230\u5f53\u524d\u76ee\u5f55 \u89e3\u538b","title":"wget \u4e0b\u8f7d\u94fe\u63a5"},{"location":"Linux/#tar-zxvf","text":"\u5bb9\u6613\u62a5\u9519\uff0c\u5efa\u8bae\u76f4\u63a5yum\u5b89\u88c5\uff0c\u6216\u8005\u767e\u5ea6 \u8fd0\u884c nginx \u9ed8\u8ba4\u4e5f\u662f80\u7aef\u53e3\uff0c\u4e0eapache\u4e00\u6837 \u5148\u5173\u95edapache\u670d\u52a1 \u8fd0\u884c nginx/sbin/nginx nginx \u4e0d\u80fd\u50cfapache\u4e00\u6837\u670d\u52a1\u542f\u52a8\uff0c\u53ea\u80fd\u901a\u8fc7\u6587\u4ef6\u542f\u52a8 \u91cd\u542f nginx/sbin/nginx -s reload \u5173\u95ed\uff0c\u53ea\u80fd\u7528kill\u547d\u4ee4 \u5378\u8f7d\uff08\u5378\u8f7d\u7f16\u8bd1\u5b89\u88c5\u7684\u8f6f\u4ef6\uff09 \u5148\u5173\u95ed\u8f6f\u4ef6","title":"tar -zxvf \u8def\u5f84"},{"location":"Linux/#rm-rf","text":"","title":"rm -rf \u8f6f\u4ef6\u5b89\u88c5\u76ee\u5f55"},{"location":"SQL/","text":"SQL\u8bed\u53e5\uff08ORACLE\uff09 \u547d\u4ee4\u7ec4\u6210 DDL \u6570\u636e\u5b9a\u4e49\u8bed\u8a00 \u9488\u5bf9\u5bf9\u8c61\u7ed3\u6784\u7684\u64cd\u4f5c - CREATE - \u521b\u5efa - ALTER - \u4fee\u6539 - DROP - \u5220\u9664 - TRUNCATE - \u6e05\u7a7a\u6570\u636e DML \u6570\u636e\u64cd\u4f5c\u8bed\u8a00 INSERT \u63d2\u5165\u6570\u636e DELETE \u5220\u9664\u6570\u636e UPDATE \u66f4\u65b0\u6570\u636e DQL \u6570\u636e\u67e5\u8be2\u8bed\u53e5 SELECT ... FROM ... WHERE ... GROUP BY ... HAVING ... ORDER BY TCL \u4e8b\u52a1\u63a7\u5236\u8bed\u53e5 COMMIT \u63d0\u4ea4 ROLLBACK \u64a4\u56de DCL \u6570\u636e\u63a7\u5236\u8bed\u53e5 GRANT \u6388\u6743 GRANT \u6743\u9650 TO \u7528\u6237 REVOKE \u64a4\u9500\u6388\u6743 REVOKE \u6743\u9650 FROM \u7528\u6237 \u6570\u636e\u7c7b\u578b \u6570\u5b57\u7c7b\u578b NUMBER NUMBER(10) \u6700\u957f\u4e3a10\u7684\u6574\u6570 NUMBER(10,2) \u6574\u65708\u4f4d\uff0c\u5c0f\u65702\u4f4d\uff0c\u517110\u4f4d \u4e5f\u53ef\u4ee5\u4e0d\u52a0\u6570\u636e\u957f\u5ea6\uff0c\u5219\u4f7f\u7528\u9ed8\u8ba4\u957f\u5ea6 \u5b57\u7b26\u7c7b\u578b CHAR \u56fa\u5b9a\u957f\u5ea6\uff0c\u4e0d\u591f\u7528\u7a7a\u683c\u8865\u9f50 VARCHAR2 \u53ef\u53d8\u957f\u5ea6 VARCHAR2(1 CHAR) \u53ef\u52a0\u4e2d\u6587\uff0c\u4e14\u6b64\u65f6\u4e2d\u6587\u7b49\u4ef7\u4e8e\u5360\u4e00\u4e2a\u5b57\u8282 \u65e5\u671f\u7c7b\u578b DATE DATE'2020-08-10' \u63d2\u5165\u7684\u65f6\u5019\u8981\u8fd9\u6837\uff01\uff01\uff01 TO_DATE('2020-08-10','YYYY-MM-DD') \u5efa\u8868 \u76f4\u63a5\u5efa\u8868\u6cd5 CREATE TABLE STU ( SNAME VARCHAR2(20), ... ); \u95f4\u63a5\u5efa\u8868\u6cd5 CREATE TABLE STU_COPY AS SELECT * FROM STU WHERE 1=2; \u53ea\u590d\u5236\u8868\u7ed3\u6784\uff08\u540e\u9762\u52a0\u4e0a\u603b\u662f\u4e0d\u6210\u7acb\u7684\u6761\u4ef6\uff09 \u6ce8\u91ca \u76f4\u63a5\u6ce8\u91ca COMMENT ON TABLE STU IS 'STUDY TABLE' COMMENT ON COLUMN STU.SNAME IS 'STUDY NAME' \u95f4\u63a5\u6ce8\u91ca \u76f4\u63a5\u901a\u8fc7\u8f6f\u4ef6\u201cedit\u201d \u4fee\u6539\u8868\u7ed3\u6784 \u4fee\u6539\u5b57\u6bb5\u540d\u79f0 ALTER TABLE STU RENAME COLUMN SNAME TO NAME; \u4fee\u6539\u8868\u540d ALTER TABLE STU RENAME TO SSTU; \u4fee\u6539\u5b57\u6bb5\u6570\u636e\u7c7b\u578b ALTER TABLE STU MODIFY SNAME VARCHAR2(10); \u589e\u52a0\u5b57\u6bb5 ALTER TABLE STU ADD ID NUMBER(10); \u5220\u9664\u5b57\u6bb5 ALTER TABLE STU DROP COLUMN ID; \u63d2\u5165\u6570\u636e \u76f4\u63a5\u63d2\u5165 INSERT INTO STU(SNAME,ID) VALUES ('lily',1001); COMMIT; \u95f4\u63a5\u63d2\u5165 INSERT INTO STU(SNAME,ID) SELECT SANME,ID FROM STU_COPY; COMMIT; INSERT ALL insert all into emp_1 into emp_2 select * from emp; \u5c06emp\u4e2d\u6570\u636e\u590d\u5236\u7ed9emp1\u548cemp2. e.g. \u5c06\u6210\u7ee9\u662f10\u7684\u63d2\u5165emp1\u4e2d\uff0c\u5c06\u6210\u7ee9\u5c0f\u4e8e40\u7684\u63d2\u5165emp2\u4e2d insert all when score=10 then into emp_1 when score<40 then into emp_2 select * from emp; INSERT FIRST \u5728\u63d2\u5165\u7684\u65f6\u5019\u8003\u8651\u5148\u540e\u987a\u5e8f\uff0c\u524d\u9762\u5df2\u7ecf\u63d2\u5165\u8fc7\u7684\u4e4b\u540e\u5c31\u4e0d\u4f1a\u63d2\u5165\u4e86 e.g. \u90e8\u95e810\u7684\u6570\u636e\u63d2\u5165\u5230EMP_1\u4e2d\uff0c\u628a\u90e8\u95e820\uff0c30\u6570\u636e\u90fd\u63d2\u5165\u5230EMP_2 INSERT FIRST WHEN DEPTNO=10 THEN INTO EMP_1 WHEN DEPTNO<40 THEN INTO EMP_2 SELECT * FROM EMP; \u7528\u5de5\u5177\u63d2\u5165 SELECT * FROM STU FOR UPDATE; \u66f4\u65b0\u6570\u636e UPDATE STU SET SNAME='tom' WHERE SNAME='lily'; COMMIT; \u5b50\u67e5\u8be2\u66f4\u65b0(\u8981\u6570\u636e\u7c7b\u578b\u4e00\u6837) update emp_1 set score=(select score from emp where emp.id=emp_1.id); \u5220\u9664\u6570\u636e DELETE FROM STU WHERE SNAME='lily'; COMMIT; \u589e\u5220\u6539\u6ce8\u610f \u589e\u5220\u6539\u64cd\u4f5c\u4e4b\u540e\u4e00\u5b9a\u8981 COMMIT !!!!!!!!! \u7ea6\u675f \u4e3b\u952e \u4e0d\u80fd\u91cd\u590d\uff0c\u4e0d\u80fd\u4e3a\u7a7a - PRIMARY KEY \u5916\u952e \u53e6\u4e00\u5f20\u8868\u7684\u4e3b\u952e - FOREIGN KEY - REFERENCES \u53e6\u4e00\u4e2a\u8868(PRI KEY) \u975e\u7a7a\u7ea6\u675f \u4e0d\u80fd\u4e3a\u7a7a - NOT NULL \u552f\u4e00\u7ea6\u675f \u53ef\u4ee5\u4e3a\u7a7a\uff0c\u4f46\u4e0d\u80fd\u91cd\u590d - UNIQUE \u68c0\u67e5\u7ea6\u675f \u53ef\u4ee5\u89c4\u5b9a\u5b57\u6bb5\u7684\u957f\u5ea6\uff0c\u6216\u8005\u5185\u5bb9 - CHECK - CHECK(SEX='M' OR SEX='F') \u5efa\u8868\u65f6\uff0c\u5728\u5b57\u6bb5\u540e\u8bbe\u7f6e\u7ea6\u675f CONSTRAINT \u7ea6\u675f\u540d \u7ea6\u675f CONSTRAINT PRK PRIMARY KEY(ID) CONSTRAINT FRK FOREIGN KEY(CLASS) REFERENCES \u53e6\u4e00\u4e2a\u8868(PRI KEY) CONSTRAINT CHK CHECK(SEX='M' OR SEX='F') \u589e\u52a0\u7ea6\u675f ALTER TABLE STU ADD CONSTRAINT PRK PRIMARY KEY(ID) \u5220\u9664\u7ea6\u675f ALTER TABLE STU DROP CONSTRAINT PRK \u4fee\u6539\u7ea6\u675f ALTER TABLE STU MODIFY ID NOT NULL \u6ce8\u610f\u4e8b\u9879 DROP \u5220\u9664\u6574\u4e2a\u8868\u7ed3\u6784 TRUNCATE \u5220\u9664\u8868\u5185\u6570\u636e DELETE \u5220\u9664\u6307\u5b9a\u6570\u636e \u67e5\u8be2 SELECT ... +\u5b57\u6bb5 + \u8868\u8fbe\u5f0f+\u5e26\u51fa\u6765\u7684\u5b57\u6bb5 FROM ... WHERE ... +\u8868\u8fbe\u5f0f GROUP BY ... +\u5b57\u6bb5\uff08\u591a\u4e2a\u5b57\u6bb5\u4e5f\u53ef\u4ee5\uff09+\u8868\u8fbe\u5f0f HAVING ... ORDER BY... \u987a\u5e8f\uff1a512346 \u67e5\u8be2\u7ed3\u6784 SELECT \u53ef\u4ee5\u8ddf \u5b57\u6bb5\u3001\u8868\u8fbe\u5f0f SELECT E.ID,E.NAME FROM EMP E; \u8868\u540d\u540e\u9762\u53ef\u4ee5\u52a0\u522b\u540d E.G. SQL SELECT ENAME||'\u7684\u804c\u4f4d\u662f '||JOB \u804c\u4f4d FROM EMP || \u8fde\u63a5\u7b26\uff0c\u8fde\u63a5\u7b26\u5185\u53ef\u4ee5\u52a0\u5b57\u7b26 E.G. SQL SELECT ENAME ,SAL ,COMM ,SAL+ NVL(COMM,0) \u85aa\u6c34 FROM EMP NULL NULL\u4e0d\u53c2\u4e0e\u8ba1\u7b97 NVL(\u5b57\u6bb5 ,\u7a7a\u503c\u65f6\u7684\u9ed8\u8ba4\u503c ) NVL2(\u5b57\u6bb5 ,\u4e0d\u4e3a\u7a7a\u65f6\u7684\u9ed8\u8ba4\u503c ,\u7a7a\u503c\u65f6\u7684\u9ed8\u8ba4\u503c ) WHERE \u8868\u6761\u4ef6\uff0c\u53ef\u4ee5\u7528AND / OR \u8fde\u63a5 E.G. SQL SELECT * FROM EMP WHERE SAL > 1500 AND COMM IS NOT NULL; IN SQL SELECT * FROM EMP WHERE JOB IN('MANAGER','SALEMAN'); GROUP BY E.G. \u6839\u636e\u73ed\u7ea7\u8ba1\u7b97\u5e73\u5747\u503c SQL SELECT CLASS ,AVG(SCORE) FROM STU GROUP BY CLASS; E.G. SQL SELECT TO_CHAR(DATE,'YYYY'),COUNT(1) FROM EMP GROUP BY TO_CHAR(DATE,'YYYY'); GROUP BY \u540e\u9762\u53ef\u4ee5\u63a5\u4e24\u4e2a\u53c2\u6570\uff0c\u8868\u793a\u6309\u987a\u5e8f\u5206\u7ec4 ROLLUP \u6c42\u548c \u540e\u9762\u52a0\u4e0a ROLLUP() GROUP BY ROLLUP(SAL) ROLLUP \u53ef\u4ee5\u63a5\u4e24\u4e2a\u53c2\u6570\uff0c\u6309\u7b2c\u4e00\u4e2a\u53c2\u6570\u6c42\u548c CUBE \u591a\u7ef4\u5ea6\u6c42\u548c \u4f7f\u7528\u65b9\u6cd5\u4e0e ROLLUP \u4e00\u6837 \u5f53 CUBE \u540e\u9762\u63a5\u4e24\u4e2a\u53c2\u6570\u65f6\uff0c\u5206\u7ec4\u6c42\u548c\u7684\u65f6\u5019\u4f1a\u6309\u6bcf\u4e2a\u53c2\u6570\u90fd\u6c42\u548c GROUPING \u5224\u65ad\u662f\u5426\u4e3a\u603b\u8ba1 GROUPING(\u5b57\u6bb5) \u5224\u65ad\u8be5\u5b57\u6bb5\u7684\u8be5\u503c\u662f\u5426\u662f\u603b\u8ba1 \u603b\u8ba1\u8fd4\u56de 1 \uff1b\u975e\u603b\u8ba1\u8fd4\u56de 0 \u7ed3\u5408 CASE WHEN \u8865\u5168\u67e5\u8be2\u7ed3\u679c\u8868 HAVING E.G. SQL SELECT CLASS , COUNT(1) FROM STU GROUP BY CLASS HAVING COUNT(1)>3; ORDER BY E.G. SQL SELECT CLASS , SCORE FROM STU ORDER BY SCORE ASC ,CLASS DESC; ASC \u5347\u5e8f\uff0c\u9ed8\u8ba4 DESC \u964d\u5e8f \u5c06 NULL \u653e\u5728\u6700\u524d\u9762 / \u6700\u540e\u9762 ORDER BY SAL NULLS FIRST / LAST ; \u805a\u5408\u51fd\u6570 max/min avg sum count COUNT(1) = COUNT(*) = COUNT(ID) \u8fde\u63a5\u67e5\u8be2 \u5185\u8fde\u63a5 \u4ea4\u96c6 - \u6807\u51c6\u5199\u6cd5 SQL SELECT E.* ,D.* FROM EMP E INNER JOIN DEPT D ON E.DEPTNO = D.DEPTNO ORACLE \u5199\u6cd5 SQL SELECT E.* ,D.* FROM EMP E ,DEPT D WHERE E.DEPTNO = D.DEPTNO \u5916\u8fde\u63a5 \u5de6\u5916\u8fde\u63a5 LEFT JOIN SQL SELECT E.* ,D.* FROM EMP E LEFT JOIN DEPT D ON E.DEPTNO = D.DEPTNO ORACLE \u5199\u6cd5 SQL SELECT E.* ,D.* FROM DEPT D ,EMP E WHERE D.DEPTNO = E.DEPTNO(+) \u5e26 + \u7684\u662f\u4ece\u8868 \u53f3\u5916\u8fde\u63a5 \u5168\u5916\u8fde\u63a5 FULL JOIN SQL SELECT D.* ,E.* FROM DEPT D FULL JOIN EMP E ON D.DNAME = E.ENAME \u96c6\u5408\u67e5\u8be2 \u5e76\u96c6 - UNION ALL \u5e38\u7528 - UNION \u53bb\u91cd\uff0c\u6548\u7387\u4f4e\uff0c\u4e0d\u5e38\u7528 - E.G. SELECT DEPTNO FROM EMP UNION SELECT DEPTNO FROM DEPT; \u5b50\u67e5\u8be2 \u628a\u67e5\u8be2\u7684\u7ed3\u679c\u5f53\u6761\u4ef6 - SELECT UPDATE DELETE - \u540e\u9762\u90fd\u53ef\u4ee5\u63a5\u5b50\u67e5\u8be2 \u5355\u884c\u5b50\u67e5\u8be2 \u53ef\u4ee5\u76f4\u63a5\u7528\u7b49\u53f7\uff08\u6570\u636e\u7c7b\u578b\u8981\u76f8\u7b49\uff09 SELECT * FROM EMP WHERE (SAL,JOB)=(SELECT SAL,JOB FROM EMP WHERE EMPNO=7782) \u591a\u884c\u5b50\u67e5\u8be2 \u7528 in \uff0c\u8868\u793a\u5728\u5176\u4e2d\u4e4b\u4e00 \u6570\u636e\u91cf\u5927\u7684\u65f6\u5019\uff0c\u7528 exists EXISTS EXISTS \u7528\u4e8e\u68c0\u67e5\u5b50\u67e5\u8be2\u662f\u5426\u81f3\u5c11\u4f1a\u8fd4\u56de\u4e00\u884c\u6570\u636e\uff0c\u8be5\u5b50\u67e5\u8be2\u5b9e\u9645\u4e0a\u5e76\u4e0d\u8fd4\u56de\u4efb\u4f55\u6570\u636e\uff0c\u800c\u662f\u8fd4\u56de\u503cTrue\u6216False. EXISTS \u6307\u5b9a\u4e00\u4e2a\u5b50\u67e5\u8be2\uff0c\u68c0\u6d4b \u884c \u7684\u5b58\u5728 EXISTS \u5b9e\u9645\u4e0a\u5c31\u662f\u5173\u8054\u5b50\u67e5\u8be2\uff08\u6307\u5b50\u67e5\u8be2\u90e8\u5206\u4e0d\u80fd\u5355\u72ec\u8fd0\u884c\uff09 E.G. SQL SELECT D.DNAME FROM DEPT D WHERE EXISTS (SELECT 1 FROM EMP E WHERE E.DEPTNO=D.DEPTNO); EXISTS \u8fd9\u91cc\u8d77\u5224\u65ad\u7684\u4f5c\u7528 \u5728\u5b50\u67e5\u8be2\u4e2d\u4f7f\u7528 NULL \u4ecd\u7136\u8fd4\u56de\u7ed3\u679c\u96c6 E.G. SQL select * from TableIn where exists(select null); \u6bd4\u8f83\u4f7f\u7528 EXISTS \u548c IN \u7684\u67e5\u8be2\u3002\u6ce8\u610f\u4e24\u4e2a\u67e5\u8be2\u8fd4\u56de\u76f8\u540c\u7684\u7ed3\u679c\u3002 E.G. SQL select * from TableIn where exists(select BID from TableEx where BNAME=TableIn.ANAME); select * from TableIn where ANAME in(select BNAME from TableEx); EXISTS \u53bb\u91cd E.G. \u5728\u6bcf\u4e2a\u90e8\u95e8\u4e2d\uff0c\u9009\u53d6\u5165\u804c\u6700\u665a\u7684 SQL SELECT E.* FROM EMP E WHERE NOT EXISTS (SELECT * FROM EMP M WHERE E.DEPTNO=M.DEPTNO AND E.HIREDATE<M.HIREDATE); -- DEPTNO \u662f\u9009\u53d6\u7684\u6307\u6807 , HIREDATE \u662f\u53bb\u91cd\u6761\u4ef6 \u67e5\u8be2\u7528\u6237\u4e0b\u6240\u6709\u7684\u8868 SELECT TABLE_NAME FROM ALL_TABLES WHERE USER = 'SCOTT'; \u9012\u5f52\u67e5\u8be2 SELECT ... FROM ... [WHERE ...] START WITH ID=... [OR ID=...] -- \u53ef\u4ee5\u6307\u5b9a\u591a\u4e2a\u8282\u70b9 CONNECT BY PRIOR PID=ID; --PID \u5728\u524d\uff0c\u5219\u8868\u793a\u4ece\u5b50\u5411\u7236\u67e5\uff1bID\u5728\u524d\uff0c\u4ece\u7236\u5411\u5b50\u67e5 E.G. \u67e5\u8be27369\u7684\u9886\u5bfc\uff0c\u53ca\u5176\u9886\u5bfc\u7684\u9886\u5bfc\u3002\u3002\u3002 SELECT * FROM EMP START WITH EMPNO=7369 CONNECT BY PRIOR MGR=EMPNO; \u5224\u65ad DECODE \u5355\u503c\u5224\u65ad\u51fd\u6570 - E.G. SQL SELECT DECODE(N, 1\uff0c111\uff0c 2\uff0c222\uff0c 3\uff0c333\uff0c 0) FROM EMP; - N:\u88ab\u5224\u65ad\u7684\u5185\u5bb9 - 1\uff0c111\uff0c:\u82e5\u7b49\u4e8e1\uff0c\u5219\u7b49\u4e8e\u540e\u9762\u7684111 - 0\uff1a\u90fd\u4e0d\u76f8\u7b49\u7684\u9ed8\u8ba4\u503c CASE WHEN \u591a\u503c\u5224\u65ad\u51fd\u6570 CASE WHEN ... THEN ... WHEN ... THEN ... ... ELSE ... END \u884c\u5217\u8f6c\u6362 CASE WHEN \u65b9\u6cd5 E.G. SELECT Y , SUM(CASE WHEN Q=1 THEN AMT ELSE 0 END) Q1, SUM(CASE WHEN Q=2 THEN AMT ELSE 0 END) Q2, SUM(CASE WHEN Q=3 THEN AMT ELSE 0 END) Q3, SUM(CASE WHEN Q=4 THEN AMT ELSE 0 END) Q4 FROM S GROUP BY Y; \u5217\u884c\u8f6c\u6362 UNION \u65b9\u6cd5 E.G. SELECT Y,1 Q ,Q1 AMT FROM S_1 UNION ALL SELECT Y,2 Q ,Q2 AMT FROM S_1 UNION ALL SELECT Y,3 Q ,Q3 AMT FROM S_1 UNION ALL SELECT Y,4 Q ,Q4 AMT FROM S_1 ORDER BY Y,Q; E.G. SELECT NAME ,'\u8bed\u6587' SUB ,\u8bed\u6587 SCORE FROM STU_SCORE UNION ALL SELECT NAME ,'\u6570\u5b66' SUB ,\u6570\u5b66 SCORE FROM STU_SCORE ORDER BY NAME , SUB \u4f2a\u5217 \u5728\u8868\u4e2d\u5b58\u5728\uff0c\u4f46\u4e00\u822c\u770b\u4e0d\u5230 - ROWNUM - \u5e8f\u53f7\uff08\u4ece1\u5f00\u59cb\uff09\uff0c\u53ef\u7528\u4e8e\u5206\u9875\u67e5\u8be2 - E.G. \u67e5\u770b\u524d10\u884c SQL SELECT * FROM EMP WHERE ROWNUM<=10; - \u5206\u9875\u67e5\u8be2\uff0c\u8981\u7528\u5b50\u67e5\u8be2\u7684\u65b9\u6cd5\uff0c\u7ed9 ROWNUM \u53d6\u522b\u540d SQL SELECT * FROM (SELECT ROWNUM PN ,EMP.* FROM EMP) E WHERE E.PN BETWEEN 10 AND 20; - \u6309\u6392\u5e8f\u67e5\u8be2\u524d\u51e0\u540d\u7684\u65f6\u5019\uff0c\u4e5f\u8981\u7528\u5b50\u67e5\u8be2\uff0c\u5148\u6392\u5e8f\uff0c\u540e\u53d6\u524d\u51e0\u540d ROWID \u5b58\u653e\u7684\u5730\u5740\uff0c\u53ef\u7528\u4e8e\u5220\u9664\u91cd\u590d\u6570\u636e E.G. \u53bb\u91cd SQL DELETE FROM EMP WHERE ROWID NOT IN (SELECT MIN(ROWID) FROM EMP GROUP BY EMPNO); \u6a21\u7cca\u67e5\u8be2 LIKE _ \u4ee3\u8868\u4e00\u4e2a\u5b57\u7b26 % \u4ee3\u8868\u4efb\u610f\u5b57\u7b26 E.G. \u59d3\u540d S \u5f00\u5934\u7684\u5458\u5de5 SELECT * FROM EMP WHERE ENAME LIKE 'S%' \u5b57\u7b26\u51fd\u6570 REPLACE \u66ff\u6362 REPLACE(X,OLD,NEW) E.G. SQL REPLACE('I LIKE YOU' ,'LIKE' ,'HATE') TRIM \u622a\u53bb LTRIM(X [,FMT]) / RTRIM(X [,FMT]) \u4ece\u5de6\u8fb9 / \u53f3\u8fb9\u622a\u53bb\u67d0\u4e2a\u5b57\u7b26 FMT \u53ef\u7701\u7565 \uff0c\u7701\u7565\u9ed8\u8ba4\u622a\u53bb\u7a7a\u683c TRIM TRIM(X FROM STR) \u4ece\u4e24\u5934\u622a\u53bb LENGTH LENGTH(X) \u67e5\u8be2\u6240\u5360\u5b57\u8282 SUBSTR SUBSTR(X ,START ,N) \u5b57\u7b26\u622a\u53d6\uff0c\u628a\u5b57\u7b26 X \u4ece START \u5f00\u59cb\u622a\u53d6 N \u4f4d \u82e5 N \u7701\u7565\uff0c\u9ed8\u8ba4\u622a\u53d6\u5230\u6700\u540e INSTR INSTR(X,Y,START,N) \u5728\u5b57\u7b26 X \u4e2d\uff0c\u67e5\u627e\u5b57\u7b26 Y \uff0c\u4ece START \u5f00\u59cb\u627e\uff0c\u7b2c N \u6b21\u51fa\u73b0\u7684\u4f4d\u7f6e N \u7701\u7565\u65f6\u9ed8\u8ba4\u7b2c\u4e00\u6b21 CONCAT CONCAT(X,Y) \u5c06 X \uff0cY \u62fc\u63a5\u8d77\u6765 \u5b9e\u9645\u4f7f\u7528\u4e2d\uff0c\u5e38\u5e38\u7528 || \uff0c\u800c\u4e0d\u662f CONCAT WM_CONCAT E.G. SQL SELECT DEPTNO ,WM_CONCAT(ENAME) FROM EMP GROUP BY DEPTNO; \u6570\u5b57\u51fd\u6570 ABS \u6c42\u7edd\u5bf9\u503c MOD MOD(X,Y) \u6c42 X \u5bf9 Y \u7684\u4f59\u6570 ROUND ROUND(X [,FMT]) \u56db\u820d\u4e94\u5165\uff0c\u9ed8\u8ba4\u5230\u6574\u6570 TRUNC TRUNC(X [,FMT]) \u820d\u53bb\uff0c\u9ed8\u8ba4\u820d\u53bb\u5c0f\u6570 POWER POWER(x,y) x\u7684y\u6b21\u5e42 SQRT SQRT(X) \u6c42 X \u7684\u5e73\u65b9 CEIL ceil(n) \u53d6\u5927\u4e8e\u7b49\u4e8e\u6570\u503cn\u7684\u6700\u5c0f\u6574\u6570 FLOOR floor(n) \u53d6\u5c0f\u4e8e\u7b49\u4e8e\u6570\u503cn\u7684\u6700\u5927\u6574\u6570 \u65e5\u671f\u51fd\u6570 SYSDATE \u7cfb\u7edf\u65f6\u95f4 LAST_DAY LAST_DAY(DATE) \u6c42\u672c\u6708\u6700\u540e\u4e00\u5929 ADD_MONTHS ADD_MONTHS(DATE,N) \u5728\u5f53\u524d\u6708\u4efd\u52a0 N \u4e2a\u6708\uff0cN \u53ef\u4ee5\u662f\u8d1f\u6570 \u5f53\u6708\u4efd\u65e5\u671f\u4e3a\u6700\u540e\u7684\u4e00\u5929\u65f6\uff0c\u7ed3\u679c\u4e5f\u662f\u6700\u540e\u4e00\u5929 \u4f7f\u7528 \u5728\u5b9e\u9645\u4e2d\uff0c\u65e5\u671f\u5f80\u5f80\u4e0e TRUNC \u51fd\u6570\u4e00\u8d77\u4f7f\u7528 - e.g. SELECT SYSDATE , TRUNC(SYSDATE),--2020/8/12 TRUNC(SYSDATE,'YYYY'),--\u622a\u53d6\u5230\u5f53\u5e74\u7684\u7b2c\u4e00\u5929 2020/1/1 TRUNC(SYSDATE,'MM'),--\u622a\u53d6\u5230\u5f53\u6708\u7684\u7b2c\u4e00\u5929 2020/8/1 TRUNC(SYSDATE,'Q'),--\u622a\u53d6\u5230\u672c\u5b63\u5ea6\u7684\u7b2c\u4e00\u5929 2020/7/1 TRUNC(SYSDATE,'IW')--\u622a\u53d6\u5230\u672c\u5468\u7684\u7b2c\u4e00\u5929 FROM DUAL; \u65e5\u671f\u53ef\u4ee5\u4e0e\u6570\u5b57\u8fd0\u7b97\uff0c\u6b64\u65f6\u6570\u5b57\u662f\u5929\u6570 \u65e5\u671f\u4e5f\u53ef\u4ee5\u4e0e\u65e5\u671f\u8fd0\u7b97\uff0c\u6b64\u65f6\u7ed3\u679c\u662f\u5929\u6570 \u6570\u636e\u7c7b\u578b\u8f6c\u6362\u51fd\u6570 TO_NUMBER() \u65e5\u671f\u4e0d\u53ef\u4ee5\u76f4\u63a5\u8f6c\u6570\u5b57\uff0c\u8981\u5148\u8f6c\u5b57\u7b26\uff0c\u518d\u8f6c\u6570\u5b57 E.G. SQL SELECT TO_NUMBER(TO_CHAR(SYSDATE,'YYYYMMDD')) FROM DUAL; TO_CHAR() E.G. SQL SELECT TO_CHAR(SYSDATE), TO_CHAR(SYSDATE,'YYYY'),--2020 TO_CHAR(SYSDATE,'Q'),--3 \u5b63\u5ea6 TO_CHAR(SYSDATE,'MM'),--08 \u6708\u4efd TO_CHAR(SYSDATE,'IW'),--33 \u5f53\u5e74\u7684\u7b2c\u51e0\u5468 TO_CHAR(SYSDATE,'W'),--2 \u5f53\u6708\u7684\u7b2c\u51e0\u5468 TO_CHAR(SYSDATE,'DDD'),--225 \u5f53\u5e74\u7684\u7b2c\u51e0\u5929 TO_CHAR(SYSDATE,'DD'),--12 \u5f53\u6708\u7684\u7b2c\u51e0\u5929 TO_CHAR(SYSDATE,'D')--4 \u5f53\u5468\u7684\u7b2c\u51e0\u5929 FROM DUAL; TO_DATE() E.G. SQL SELECT TO_DATE('20200801','YYYYMMDD') FROM DUAL; \u7a7a\u503c\u8f6c\u6362\u51fd\u6570 NVL NVL(\u5217, \u9ed8\u8ba4\u503c) \u5982\u679c\u5217\u503c\u4e3anull,\u5219\u4f7f\u7528\u9ed8\u8ba4\u503c\u8868\u793a NVL2 NVL2(\u5217, \u8fd4\u56de\u503c1, \u8fd4\u56de\u503c2) \u5982\u679c\u5217\u503c\u4e0d\u4e3anull,\u8fd4\u56de\u7ed3\u679c1;\u5982\u679c\u5217\u503c\u4e3anull,\u8fd4\u56de\u7ed3\u679c2 \u5206\u6790\u51fd\u6570 \u6bcf\u4e00\u7ec4\u7684\u6bcf\u4e00\u884c\u90fd\u6709\u4e00\u4e2a\u8fd4\u56de\u503c FUNCTION_NAME(<\u53c2\u6570>,...) OVER ( <ORDER BY \u8868\u8fbe\u5f0f ) PARTITION BY \u4e0e GROUP BY \u4f5c\u7528\u4e00\u6837 ORDER BY \u4e0d\u4ec5\u4ec5\u662f\u6392\u5e8f\uff0c\u800c\u4e14\u7d2f\u8ba1\u6c42\u548c OVER \u91cc\u9762\u53ef\u4ee5\u4e0d\u5199\uff0c\u8868\u793a\u5bf9\u5168\u90e8\u6570\u636e \u548c\u805a\u5408\u51fd\u6570\u4e00\u8d77 E.G. \u6c42\u6bcf\u4e2a\u90e8\u95e8\u5e73\u5747\u5de5\u8d44 SELECT E.* ,AVG(SAL)OVER(PARTITION BY DEPTNO) FROM EMP E E.G. \u6bcf\u4e2a\u90e8\u95e8\u7684\u7d2f\u8ba1\u5de5\u8d44 SELECT E.*,SUM(SAL)OVER(PARTITION BY DEPTNO ORDER BY SAL ) FROM EMP E \u548c\u6392\u5e8f\u51fd\u6570\u4e00\u8d77\u7528 \u6392\u5e8f\u51fd\u6570 ROW_NUMBER() \u76f4\u63a5\u6392\u5e8f 1 2 3 4 5 DENSE_RANK() \u6709\u76f8\u540c\u7684\u7ee7\u7eed 1 2 2 2 3 RANK() \u6709\u76f8\u540c\u7684\u8df3\u8fc7 1 2 2 2 5 E.G. SELECT E.ENAME,E.SAL,ROW_NUMBER() OVER(PARTITION BY E.DEPTNO ORDER BY E.SAL) FROM EMP E \u548c\u4f4d\u79fb\u51fd\u6570\u4e00\u8d77\u7528 \u6c42\u540c\u6bd4\u3001\u73af\u6bd4 - \u4f4d\u79fb\u51fd\u6570 - LEAD() / LAG() - \u6c42\u4e4b\u524d / \u4e4b\u540e\u7684\u7b2c N \u884c - \u53c2\u6570(ARG1\uff0cARG2\uff0cARG3) - \u53c2\u65701 \uff1a\u5217\u540d - \u53c2\u65702 \uff1a\u504f\u79fb\u7684\u503c - \u53c2\u65703 \uff1a\u8d85\u51fa\u65f6\u7684\u9ed8\u8ba4\u503c E.G. SELECT E.ENAME,E.HIREDATE,LEAD(E.HIREDATE,1)OVER(ORDER BY E.HIREDATE) FROM EMP E; \u540c\u6b65\u6570\u636e \u589e\u91cf\u540c\u6b65 \u5728\u76ee\u6807\u8868\u4e2d\u5df2\u6709\u6570\u636e\uff0c\u5219\u66f4\u65b0\uff1b\u6ca1\u6709\u5219\u63d2\u5165 - MERGE INTO SQL MERGE INTO \u76ee\u6807\u8868 USING \u6e90\u8868 ON (...) -- \u4e00\u5b9a\u8981\u52a0\u62ec\u53f7 WHEN MATCHED THEN UPDATE SET ... WHEN NOT MATCHED THEN INSERT ... VALUES ... - E.G. ```SQL MERGE INTO DICTB B USING DICTA A ON (B.ID=A.ID) -- \u4e00\u5b9a\u8981\u52a0\u62ec\u53f7 WHEN MATCHED THEN UPDATE SET B.DESC=A.DESC -- \u8981\u66f4\u65b0\u7684\u5185\u5bb9 WHEN NOT MATCHED THEN INSERT (B.ID,B.DESC) VALUES (A.ID,A.DESC) -- \u8981\u63d2\u5165\u7684\u5185\u5bb9 ``` - \u8fd9\u91cc INSERT \u540e\u9762\u4e0d\u7528\u52a0 INTO - E.G. \u5c06 EMP \u7684\u6570\u636e\uff0c\u540c\u6b65\u5230 EMP_A ```SQL MERGE INTO EMP_A EZ USING EMP E ON (EZ.EMPNO=E.EMPNO) WHEN MATCHED THEN UPDATE SET EZ.ENAME=E.ENAME, EZ.JOB=E.JOB, EZ.MGR=E.MGR, EZ.HIREDATE=E.HIREDATE, EZ.SAL=E.SAL, EZ.COMM=E.COMM, EZ.DEPTNO=E.DEPTNO WHEN NOT MATCHED THEN INSERT (EZ.EMPNO,EZ.ENAME,EZ.JOB,EZ.MGR,EZ.HIREDATE,EZ.SAL,EZ.COMM,EZ.DEPTNO) VALUES (E.EMPNO,E.ENAME,E.JOB,E.MGR,E.HIREDATE,E.SAL,E.COMM,E.DEPTNO); ``` \u7ed3\u5408\u5b58\u50a8\u8fc7\u7a0b\u7684 MERGE INTO \u53ef\u4ee5\u4f20\u9012\u53c2\u6570 \u6e38\u6807 \u7528\u6e38\u6807\u9010\u884c\u5224\u65ad \u6e38\u6807\u9009\u62e9\u6e90\u8868 E.G. \u5c06 TEST_MERGE_XBB \u8868\u7684\u5185\u5bb9\uff0c\u540c\u6b65\u5230 TEST_MERGE_XB \u8868 SQL CREATE OR REPLACE PROCEDURE SP_CUR_UPDATE IS CURSOR C_XBB IS SELECT * FROM TEST_MERGE_XBB; V_CO NUMBER(5); BEGIN FOR X IN C_XBB LOOP SELECT COUNT(1) INTO V_CO FROM TEST_MERGE_XB XB WHERE XB.EMPNO=X.EMPNO; IF V_CO>0 THEN -- \u6570\u636e\u5b58\u5728 UPDATE TEST_MERGE_XB XB SET EMPNO=X.EMPNO, ENAME = X.ENAME, SAL=X.SAL WHERE XB.EMPNO=X.EMPNO; ELSE -- \u6570\u636e\u4e0d\u5b58\u5728 INSERT INTO TEST_MERGE_XB XB VALUES (X.EMPNO,X.ENAME,X.SAL); END IF; END LOOP; COMMIT; END; \u5168\u91cf\u540c\u6b65 \u65e7\u6570\u636e\u6e05\u7a7a\uff0c\u5c06\u65b0\u6570\u636e\u5168\u90e8\u63d2\u5165\u76ee\u6807\u8868 - DB_LINK CREATE PUBLIC DATABASE LINK DB_1 CONNECT TO \u7528\u6237\u540d IDENTIFIED BY ADMIN USING'IP\u5730\u5740:\u7aef\u53e3/\u5e93\u540d'; CREATE OR REPLACE PROCEDURE SP_DBLINK_1 IS BEGIN EXECUTE IMMEDIATE 'TRUNCATE TABLE EMP'; -- \u652f\u6301\u91cd\u8dd1 INSERT INTO EMP SELECT * FROM EMP@DB_1; COMMIT; END; \u6570\u636e\u5e93\u5bf9\u8c61 \u5e8f\u5217 \u5f53\u8868\u4e2d\u6ca1\u6709\u4e3b\u952e\uff0c\u4f46\u9700\u8981\u7c7b\u4f3cid\u65f6\uff0c\u53ef\u4ee5\u7528\u5e8f\u5217 ORACLE \u4e2d\u7684\u5e8f\u5217\uff0c\u4e0e MYSQL \u4e2d\u7684 auto_increment \u4f5c\u7528\u4e00\u6837 CREATE SEQUENCE sequence_name [START WITH NUM] -- \u9ed8\u8ba4\u503c\u662f 1 [INCREMENT BY increment] -- \u6b65\u957f\uff0c\u9ed8\u8ba4 1 SEQUENCE.CURRVAL \u5f53\u524d\u5e8f\u53f7 SEQUENCE.NEXTVAL \u4e0b\u4e00\u4e2a\u5e8f\u53f7 \u89c6\u56fe CREATE OR REPLACE VIEW EMPVIEW AS SELECT * FROM EMP ONLY READ; -- \u53ea\u8bfb \u7d22\u5f15 \u4e00\u4e2a\u8868\u53ea\u80fd\u6709\u4e00\u4e2a\u7d22\u5f15 CREATE [UNIQUE] INDEX index_name ON table_name(column_name,...) \u552f\u4e00\u7d22\u5f15 UNIQUE INDEX \u4e3b\u952e\u4e5f\u662f\u7d22\u5f15\uff08\u552f\u4e00\u7d22\u5f15\uff09 \u7ec4\u5408\u7d22\u5f15 \u5bf9\u591a\u5217\u5efa\u7acb\u7d22\u5f15\u65f6 \u4f4d\u56fe\u7d22\u5f15(BITMAP) \u901a\u8fc7start rowid\uff0cend rowid \u548c\u4e8c\u8fdb\u5236\u4f4d\u7684\u504f\u79fb\uff0c\u8ba1\u7b97\u51fa\u4e8c\u8fdb\u5236\u4f4d\u6240\u4ee3\u8868\u7684\u8868\u8bb0\u5f55\u7684 rowid SQL CREATE BITMAP INDEX index_emp ON EMP(ID); \u51fd\u6570\u7d22\u5f15 \u5728\u5efa\u7acb\u7d22\u5f15\u65f6\uff0c\u4f7f\u7528\u51fd\u6570 SQL CREATE INDEX index_ID ON EMP(ROUND(ID)); \u7d22\u5f15\u5931\u6548 \u9690\u5f0f\u8f6c\u6362\uff08\u6570\u5b57\u7c7b\u578b\u8f6c\u5316\u4e3a\u5b57\u7b26\u7c7b\u578b\uff09 \u7d22\u5f15\u8fd0\u7b97 \u4f7f\u7528\u51fd\u6570\uff08\u6b64\u65f6\u5e94\u5148\u5efa\u7acb\u51fd\u6570\u7d22\u5f15\uff09 \u4f7f\u7528\u4e0d\u7b49\u4e8e\u3001\u4e0d\u5728\u3001\u6a21\u7cca\u641c\u7d22\u65f6 \u8868\u5206\u533a \u53ea\u6709\u5728\u521b\u5efa\u8868\u7684\u65f6\u5019\u53ef\u4ee5\u5efa\u7acb\u8868\u5206\u533a\u3002\u5df2\u7ecf\u5efa\u7acb\u7684\u8868\u65e0\u6cd5\u521b\u5efa\u8868\u5206\u533a\u3002 - \u8303\u56f4\u5206\u533a - E.G. \u6309\u65e5\u671f\u8fdb\u884c\u5206\u533a SQL CREATE TABLE MYEMP ( ... ) PARTITION BY RANGE (HIREDATE) ( PARTITION part1 VALUES LESS THAN (TO_DATE('1981-1-1','YYYY/MM/DD')), PARTITION part2 VALUES LESS THAN (TO_DATE('1982-1-1','YYYY/MM/DD')), PARTITION part3 VALUES LESS THAN (TO_DATE('1983-1-1','YYYY/MM/DD')), PARTITION part4 VALUES LESS THAN (TO_DATE('1988-1-1','YYYY/MM/DD')), PARTITION part5 VALUES LESS THAN (MAXVALUE) ) \u5217\u8868\u5206\u533a E.G. SQL CREATE TABLE MYEMP2 ( ... ) PARTITION BY LIST (DEPTNO) ( PARTITION MYEMP_DEPTNO_10 VALUES (10), PARTITION MYEMP_DEPTNO_20 VALUES (20) , PARTITION MYEMP_DEPTNO_30 VALUES (30) , PARTITION MYEMP_DEPTNO_40 VALUES (40) ) \u6dfb\u52a0\u5206\u533a SQL ALTER TABLE SALES ADD PARTITION P3 VALUES LESS THAN(TO_DATE('2003-06-01','YYYY-MM-DD')); \u5220\u9664\u5206\u533a SQL ALTER TABLE SALES DROP PARTITION P3; \u67e5\u770b\u5206\u533a\u60c5\u51b5 SQL select * from user_tab_partitions where table_name ='tableName'; \u67e5\u770b\u5206\u533a\u6570\u636e SQL select * from tablename partiton(p1); HINTS \u5e38\u7528HINTS / + PARALLEL(\u8868\u540d1,\u5e76\u884c\u6570)[(\u8868\u540d2,\u5e76\u884c\u6570)\u2026\u2026] / --\u6307\u5b9a\u5f00\u542f\u591a\u5c11\u4e2a\u5e76\u884c|\u5e76\u53d1\uff08\u4e00\u822c\u4e3a2\u30014\u30018\u2026\u2026\uff09 / + INDEX(\u8868\u540d,\u7d22\u5f15\u540d) / --\u6307\u5b9a\u7d22\u5f15 / + FULL(\u8868\u540d) / --\u6307\u5b9a\u5168\u8868\u626b\u63cf / + USE_NL(\u8868\u540d1\uff0c\u8868\u540d2) / --\u6307\u5b9a\u7528NESTED LOOP\u8fde\u63a5 / + USE_HASH(\u8868\u540d1\uff0c\u8868\u540d2) / --\u6307\u5b9a\u7528HASH\u8fde\u63a5 / + USE_MERGE(\u8868\u540d1\uff0c\u8868\u540d2) / --\u6307\u5b9a\u7528SORT MERGE JOIN / + LEADING(\u8868\u540d1\uff0c\u8868\u540d2) / --\u6307\u5b9a\u88681\u4f5c\u4e3a\u9a71\u52a8\u8868 / + APPEND / --\u6570\u636e\u76f4\u63a5\u63d2\u5165\u5230\u9ad8\u6c34\u4f4d\u4e0a\u9762(\u4e0einsert\u8fde\u7528)\u76f4\u63a5\u5f80\u540e\u9762\u63d2\uff0c\u65e0\u89c6\u524d\u9762\u7684\u7a7a\u4f4d\u7f6e E.G. SQL SELECT * /*+ PARALLEL(E,2)(D,2)*/ FROM EMP E, DEPT D WHERE E.DEPTNO = D.DEPTNO \u5173\u8054\u673a\u5236 \u5d4c\u5957\u5faa\u73af\uff08NESTED LOOPS JOIN\uff08NL\uff09\uff09 \u4e0d\u7b49\u4e8e\u8fde\u63a5\u7684\u65f6\u5019 \u4f9d\u6b21\u4ece\u9a71\u52a8\u8868\u4e2d\u63d0\u53d6\u4e00\u6761\u8bb0\u5f55\uff0c\u904d\u5386\u88ab\u63a2\u67e5\u8868 \u4f18\u70b9\uff1a\u9002\u7528\u5e7f\uff0c\u5360\u7528\u5185\u5b58\u5c0f\uff0c\u5c55\u73b0\u5feb \u7f3a\u70b9\uff1a\u9700\u8981\u4e0d\u505c\u5730\u4ece\u786c\u76d8\u4e2d\u8bfb\u53d6\u626b\u63cf\u8868\uff0c\u6027\u80fd\u4e0d\u597d \u6ce8\u610f\uff1a\u4e24\u5f20\u8868\u9700\u8981\u5173\u8054\u65f6\uff0c\u5927\u8868\u9002\u5408\u505a\u88ab\u63a2\u67e5\u8868\uff0c\u53ef\u4ee5\u51cf\u5c11\u4ece\u786c\u76d8\u8bfb\u53d6\u6b21\u6570 \u54c8\u5e0c\u5173\u8054\uff08Hash Join\uff08HJ\uff09\uff09 \u6ca1\u6709\u7d22\u5f15\uff0c\u5e76\u4e14\u7b49\u503c\u5173\u8054\u7684\u65f6\u5019\uff0c\u4f7f\u7528\u54c8\u5e0c\u5173\u8054 \u7b49\u503c\u8fde\u63a5\uff1a\u6761\u4ef6\u8fde\u63a5\u5728\u8fde\u63a5\u8fd0\u7b97\u7b26\u4e3a\u201c=\u201d\u53f7 \uff01\uff01\uff01\uff01\uff01\uff01 \u8ba1\u7b97\u51fa\u6574\u5f20\u63a2\u67e5\u8868\u7684\u54c8\u5e0c\u503c\u3001\u5173\u8054\u5b57\u6bb5\u5bf9\u5e94\u7684\u54c8\u5e0c\u503c\uff0c\u8fdb\u884c\u5339\u914d \u4f18\u70b9\uff1a\u6027\u80fd\u597d\uff0c\u5339\u914d\u6b21\u6570\u5927\u5927\u51cf\u5c11 \u7f3a\u70b9\uff1a\u53ea\u9002\u7528\u4e8e\u7b49\u503c\u8fde\u63a5\uff0c\u5360\u7528\u5185\u5b58\u8f83\u5927 \u4e24\u5f20\u8868\u9700\u8981\u5173\u8054\u65f6\uff0c\u5c0f\u8868\u9002\u5408\u505a\u88ab\u63a2\u67e5\u8868\uff0c\u6015\u7f13\u5b58\u4e0d\u8db3 \u6392\u5e8f\u5408\u5e76(Sort Merge Join (SMJ) ) \u5927\u4e8e\u6216\u5c0f\u4e8e\u8fde\u63a5\u7684\u65f6\u5019 \u5c06\u5173\u8054\u7684\u4e24\u5f20\u8868\u5206\u522b\u8fdb\u884c\u6392\u5e8f\uff0c\u751f\u6210\u4e34\u65f6\u7684\u4e24\u5f20\u8868\u540e\uff0c\u968f\u673a\u53d6\u4e00\u5f20\u8868\u9010\u6761\u62bd\u53d6\u8bb0\u5f55\u4e0e\u53e6\u4e00\u5f20\u8868\u5339\u914d \u4f18\u70b9\uff1a\u9002\u5408\u6709\u7d22\u5f15\u7684\u4e24\u5f20\u8868\u6216\u8005\u4e0d\u7b49\u5173\u8054 \u7f3a\u70b9\uff1a\u6392\u5e8f\u6027\u80fd\u6d88\u8017\u5927\uff0c\u5360\u7528\u5185\u5b58\u5927 PL/SQL \u7a0b\u5e8f\u8bbe\u8ba1 \u57fa\u7840 [DECLARE] \u58f0\u660e\u53d8\u91cf\uff0c\u5e38\u91cf\uff0c\u6e38\u6807; BEGIN \u6267\u884c\u90e8\u5206; [EXCEPTION] \u5f02\u5e38\u5904\u7406; END; \u8f93\u51fa DBMS_OUTPUT.PUT_LINE \u4e00\u884c\u8f93\u51fa \u4e00\u6b21\u53ea\u80fd\u8f93\u51fa\u4e00\u4e2a\u53d8\u91cf\uff0c\u53ef\u4ee5\u7528||\u5c06\u591a\u4e2a\u53d8\u91cf\u8fde\u8d77\u6765 DBMS_OUTPUT.PUT \u5148\u4fdd\u5b58\u5230\u5185\u5b58\uff0c\u9047\u5230 PUTLINE \u518d\u8f93\u51fa BEGIN DBMS_OUTPUT.PUT_LINE('HELLO WORLD'); END; \u58f0\u660e\u53d8\u91cf DECLARE V VARCHAR2(100) := 'HELLO WORLD'; -- \u8d4b\u503c\u7528 := BEGIN DBMS_OUTPUT.PUT_LINE(V); END; \u53d8\u91cf\u8d4b\u503c DECLARE V EMP.ENAME%TYPE; --\u590d\u5236\u67d0\u5b57\u6bb5\u7684\u7c7b\u578b BEGIN SELECT ENAME INTO V FROM EMP WHERE EMPNO=7369; -- \u5c06\u67e5\u8be2\u7684\u7ed3\u679c\u8d4b\u503c\u7ed9\u53d8\u91cf\uff0c\u53ea\u80fd\u8fd4\u56de\u4e00\u884c DBMS_OUTPUT.PUT_LINE(V); END; DECLARE V EMP%ROWTYPE; --\u5c06\u6574\u4e2a\u8868\u7684\u5b57\u6bb5\u548c\u6570\u636e\u7c7b\u578b\u90fd\u8d4b\u7ed9\u53d8\u91cf BEGIN SELECT ENAME ,JOB INTO V.ENAME ,V.JOB FROM EMP WHERE EMPNO=7369; -- \u4f7f\u7528\u7684\u65f6\u5019\uff0c\u4f7f\u7528 V.ENAME \u4f7f\u7528\u7279\u5b9a\u5b57\u6bb5\u7684\u6570\u636e\u7c7b\u578b DBMS_OUTPUT.PUT_LINE(V.ENAME||V.JOB); END; \u8f93\u5165 &\u6ce8\u91ca \u8fdb\u884c\u8f93\u5165 DECLARE V EMP.ENAME%TYPE; BEGIN SELECT ENAME INTO V FROM EMP WHERE EMPNO= &\u8bf7\u8f93\u5165\u7f16\u53f7; DBMS_OUTPUT.PUT_LINE(V); END; \u5e38\u91cf DECLARE PI CONSTANT NUMBER(10\uff0c2) := 3.14; -- \u5e38\u91cf\u58f0\u660e R NUMBER(10); S NUMBER(10\uff0c2); BEGIN R := 10; S := PI*R*R; DBMS_OUTPUT.PUT_LINE(S); END; \u5224\u65ad IF ... THEN ... END IF; IF ... THEN ... ELSE ... END IF; IF ... THEN ... ELSIF ... THEN -- ELSIF \u7b49\u4ef7\u4e8e\u5176\u4ed6\u8bed\u8a00\u7684 else if ... ... END IF; \u5faa\u73af LOOP \u65e0\u6761\u4ef6\u5f00\u59cb\uff0c\u9700\u8981\u52a0\u8df3\u51fa\u6761\u4ef6 \u9000\u51fa\u6761\u4ef6\uff1aEXIT WHEN ...; / IF ... THEN EXIT; END IF; SQL LOOP ... EXIT WHEN ...; END LOOP; E.G. SQL DECLARE V_NUM NUMBER(10) := 0; V_I NUMBER(5) := 0; BEGIN LOOP V_I := V_I + 1; V_NUM := V_NUM + V_I; EXIT WHEN V_I >= 100; END LOOP; DBMS_OUTPUT.put_line(V_NUM); END; WHILE \u6ee1\u8db3\u6761\u4ef6\u65f6\u624d\u6267\u884c SQL WHILE ... LOOP ... END LOOP; \u4e5f\u53ef\u4ee5\u589e\u52a0\u9000\u51fa\u6761\u4ef6\uff0c\u5f3a\u5236\u9000\u51fa SQL WHILE ... LOOP ... EXIT WHEN ...; END LOOP; E.G. SQL DECLARE V_NUM NUMBER(10) := 0; V_I NUMBER(5) := 0; BEGIN WHILE V_I < 100 LOOP V_I := V_I + 1; V_NUM := V_NUM + V_I; END LOOP; DBMS_OUTPUT.put_line(V_NUM); END; FOR SQL FOR I IN 1..10 LOOP ... END LOOP; E.G. SQL DECLARE V_NUM NUMBER(10) := 0; BEGIN FOR I IN 1 .. 100 LOOP V_NUM := V_NUM + I; END LOOP; DBMS_OUTPUT.put_line(V_NUM); END; \u6e38\u6807 \u6e38\u6807\u662f\u6307\u5411\u67e5\u8be2\u7ed3\u679c\u96c6\u7684\u6307\u9488\uff0c\u901a\u8fc7\u6e38\u6807\u53ef\u4ee5\u5c06\u7ed3\u679c\u96c6\u7684\u8bb0\u5f55\u53d6\u51fa\u3002 \u5b9e\u9645\u4f7f\u7528\u65b9\u6cd5\u7c7b\u4f3c\u4e8ePython\u4e2d\u7684list\u3002 \u9690\u5f0f\u6e38\u6807 PL/SQL \u4e2d\u7684\u6570\u636e\u64cd\u4f5c\u4f1a\u81ea\u52a8\u58f0\u660e\u4e00\u4e2a\u9690\u5f0f\u6e38\u6807\uff08\u4e00\u884c\u6570\u636e\uff09 \u663e\u793a\u6e38\u6807 \u5bf9\u4e8e\u591a\u884c\u8fd4\u56de\u7684\u67e5\u8be2\u6570\u636e\uff0c\u5fc5\u987b\u81ea\u5df1\u521b\u5efa\u6e38\u6807\u3002 \u65b9\u6cd51\uff1a\u4f7f\u7528 OPEN , FETCH , CLOSE \u8bed\u53e5\u6765\u63a7\u5236\u3002 SQL DECLARE CURSOR \u6e38\u6807\u540d(C_\u6e38\u6807\u540d) IS SELECT \u7ed3\u679c\u96c6; BEGIN OPEN \u6e38\u6807\u540d[(\u53c2\u6570)]; -- \u6253\u5f00\u6e38\u6807 LOOP FETCH \u6e38\u6807\u540d INTO \u8bb0\u5f55\u53d8\u91cf; -- \u63d0\u53d6\u6570\u636e END LOOP; CLOSE \u6e38\u6807\u540d; -- \u5173\u95ed\u6e38\u6807\uff01\uff01\uff01 END; %FOUND %NOTFOUND \u63d0\u53d6\u4e0d\u5230\u7684\u6570\u636e\u65f6\u5019 %FOUND \u63d0\u53d6\u5230\u6570\u636e\u7684\u65f6\u5019 E.G. SQL DECLARE CURSOR C_EMP IS SELECT ENAME,SAL FROM EMP WHERE JOB='MANAGER'; V_ENAME EMP.ENAME%TYPE; V_SAL EMP.SAL%TYPE; BEGIN OPEN C_EMP; LOOP FETCH C_EMP INTO V_ENAME,V_SAL; EXIT WHEN C_EMP%NOTFOUND; DBMS_OUTPUT.put_line(V_ENAME||'---'||V_SAL); END LOOP; CLOSE C_EMP; END; \u65b9\u6cd52\uff1aFOR \u5faa\u73af\uff08\u4e0d\u7528\u6253\u5f00\u5173\u95ed\uff09 e.g. SQL DECLARE CURSOR C_EMP IS SELECT ENAME,SAL FROM EMP WHERE JOB='MANAGER'; BEGIN FOR X IN C_EMP LOOP DBMS_OUTPUT.put_line(X.ENAME||'---'||X.SAL); END LOOP; END; \u5e26\u53c2\u6570\u6e38\u6807 \u8bbe\u7f6e\u53c2\u6570\u7684\u65f6\u5019\u53ea\u80fd\u52a0\u6570\u636e\u7c7b\u578b\uff0c\u4e0d\u80fd\u52a0\u6570\u636e\u957f\u5ea6 E.G. SQL DECLARE CURSOR C_EMP(P_NUM1 EMP.DEPTNO%TYPE,P_NUM2 EMP.DEPTNO%TYPE) IS SELECT * FROM EMP WHERE DEPTNO IN (P_NUM1\uff0cP_NUM2); BEGIN FOR X IN C_EMP(10\uff0c20) LOOP DBMS_OUTPUT.PUT_LINE(X.ENAME||'---'||X.DEPTNO); END LOOP; END; \u52a8\u6001SQL \u5728 BEGIN \u91cc\u4e0d\u80fd\u76f4\u63a5\u6267\u884c DDL \uff08CREATE,ALTER,DROP,TRUNCATE\uff09\u3002 \u5c06 DDL \u8bed\u53e5\u8f6c\u5316\u4e3a\u5b57\u7b26\u4e32\u5728\u52a8\u6001 SQL \u8bed\u53e5\u4e2d\u6267\u884c\u3002 EXECUTE IMMEDIATE \u52a8\u6001\u8bed\u53e5\u5b57\u7b26\u4e32\uff08\u5b57\u7b26\u4e32\u91cc\u9762\u4e0d\u80fd\u6709\u5206\u53f7;!!!\uff09 [INTO \u53d8\u91cf\u5217\u8868] [USING \u53c2\u6570\u5217\u8868] \u5b57\u7b26\u4e32\u8bed\u53e5\u53ef\u4ee5\u901a\u8fc7 || \u8fdb\u884c\u62fc\u63a5 \u4e0d\u5e26\u53c2\u6570 E.G. SQL begin execute immediate 'create table test(name varchar2(8))'; -- \u5b57\u7b26\u4e32\u91cc\u9762\u4e0d\u80fd\u6709\u5206\u53f7;!!! end; \u5e26\u53c2\u6570\uff0c\u5e26\u8fd4\u56de\u503c \u53c2\u6570\u7528 :1 \u8fd9\u79cd\u65b9\u5f0f E.G. SQL DECLARE V_NUM NUMBER(10):=&EMPNO; V_NUMO NUMBER(10):=&DEPTNO; V_ENAME EMP.ENAME%TYPE; BEGIN EXECUTE IMMEDIATE 'SELECT ENAME FROM EMP WHERE EMPNO=:1 AND DEPTNO=:2' INTO V_ENAME -- \u8fd4\u56de\u503c USING V_NUM,V_NUMO; -- \u53c2\u6570 DBMS_OUTPUT.PUT_LINE(V_ENAME); END; \u5e26\u6e38\u6807 E.G. \u7edf\u8ba1 T \u5f00\u5934\u7684\u8868\u7684\u884c\u6570 SQL DECLARE CURSOR C_TABLE IS SELECT TABLE_NAME FROM ALL_TABLES WHERE USER='SCOTT' AND INSTR(TABLE_NAME,'T',1,1)=1; V_LINE NUMBER(10) := 0; BEGIN FOR T IN C_TABLE LOOP EXECUTE IMMEDIATE 'SELECT COUNT(1) FROM '||T.TABLE_NAME -- \u5b57\u7b26\u4e32\u62fc\u63a5 INTO V_LINE; DBMS_OUTPUT.PUT_LINE(T.TABLE_NAME||'-----'||V_LINE); END LOOP; END; \u5b58\u50a8\u8fc7\u7a0b CREATE [OR REPLACE] PROCEDURE SP_\u8fc7\u7a0b\u540d(\u53c2\u6570 [IN|OUT|IN OUT] \u6570\u636e\u7c7b\u578b \uff0c\u53c2\u65702...) IS|AS -- \u5199\u54ea\u4e2a\u90fd\u53ef\u4ee5 \u58f0\u660e\u90e8\u95e8 BEGIN ... [EXCEPTION] \u5f02\u5e38\u5904\u7406; END SP_\u8fc7\u7a0b\u540d; \u6ca1\u6709\u53c2\u6570\u7684\u65f6\u5019\uff0c\u4e0d\u7528\u52a0\u62ec\u53f7 IN \u8868\u793a\u4f20\u5165\u53c2\u6570\uff0c\u4e0d\u53ef\u4ee5\u5728\u8fc7\u7a0b\u4e2d\u88ab\u91cd\u65b0\u8d4b\u503c OUT \u8868\u793a\u4f20\u51fa\u53c2\u6570\uff0c\u53ef\u4ee5\u88ab\u8d4b\u503c IN OUT \u8868\u793a\u4f20\u5165\u4f20\u51fa\u53c2\u6570\uff0c\u53ef\u4ee5\u4f20\u5165\u503c\uff0c\u4e5f\u53ef\u4ee5\u88ab\u8d4b\u503c\uff0c\u4e5f\u53ef\u4ee5\u8fd4\u56de\u503c IN / OUT \u53ef\u4ee5\u4e0d\u5199\uff0c\u9ed8\u8ba4 IN \u89c4\u8303 \u8fc7\u7a0b\u540d : SP_\u8868\u540d \u4f20\u5165\u53c2\u6570\u547d\u540d : P_\u53c2\u6570\u540d (P_START_DATE) \u53d8\u91cf\u547d\u540d : V_\u53d8\u91cf (V_END_DATE) \u5b58\u50a8\u8fc7\u7a0b\u7f16\u5199\u7ed3\u675f\u65f6\uff0c\u8981 : END SP_\u8fc7\u7a0b\u540d; \u5b58\u50a8\u8fc7\u7a0b\u5fc5\u987b\u5728\u7a0b\u5e8f\u5757\u4e2d\u88ab\u8c03\u7528 SQL DECLARE BEGIN SP_\u5b58\u50a8\u8fc7\u7a0b(\u53c2\u6570); END; \u5220\u9664\u5b58\u50a8\u8fc7\u7a0b DROP PROCEDURE SP_\u8fc7\u7a0b; \u5e26\u53c2\u6570\u8fc7\u7a0b IN CREATE OR REPLACE PROCEDURE SP_DEPTNO(P_DEPTNO IN EMP.DEPTNO%TYPE) AS CURSOR C_DEPT IS SELECT ENAME,JOB,SAL FROM EMP WHERE DEPTNO=P_DEPTNO; BEGIN FOR X IN C_DEPT LOOP DBMS_OUTPUT.PUT_LINE(X.ENAME||'---'||X.JOB||'---'||X.SAL); END LOOP; END SP_DEPTNO; OUT CREATE OR REPLACE PROCEDURE SP_EMP_DEPTNO(P_EMPNO IN EMP.EMPNO%TYPE ,P_DEPTNO OUT EMP.DEPTNO%TYPE) IS BEGIN SELECT DEPTNO INTO P_DEPTNO FROM EMP WHERE EMPNO=P_EMPNO; END SP_EMP_DEPTNO; OUT \u7684\u8c03\u7528 DECLARE V_DEPTNO EMP.DEPTNO%TYPE; BEGIN SP_EMP_DEPTNO(7369\uff0cV_DEPTNO); -- V_DEPTNO \u63a5\u53d7\u5b58\u50a8\u8fc7\u7a0b OUT \u7684\u503c DBMS_OUTPUT.PUT_LINE(V_DEPTNO); SP_DEPTNO(V_DEPTNO); -- \u518d\u5c06 V_DEPTNO \u4f20\u9012\u7ed9\u53e6\u4e00\u4e2a\u5b58\u50a8\u8fc7\u7a0b END; IN OUT CREATE OR REPLACE PROCEDURE SP_DEPT_JOB (P_DEPTNO_EMPNO IN OUT NUMBER,P_JOB_ENAME IN OUT VARCHAR2) IS BEGIN SELECT EMPNO,ENAME INTO P_DEPTNO_EMPNO ,P_JOB_ENAME FROM EMP WHERE DEPTNO=P_DEPTNO_EMPNO AND JOB=P_JOB_ENAME; -- \u5148\u8c03\u7528\u53d8\u91cf\uff0c\u518d\u5c06\u7ed3\u679c\u8d4b\u503c\u7ed9\u53d8\u91cf DBMS_OUTPUT.PUT_LINE(P_DEPTNO_EMPNO||'---'||P_JOB_ENAME); END SP_DEPT_JOB; IN OUT \u8c03\u7528 DECLARE V_DEPTNO_EMPNO NUMBER(10):=10; V_JOB_ENAME VARCHAR2(20) := 'MANAGER'; BEGIN SP_DEPT_JOB(V_DEPTNO_EMPNO,V_JOB_ENAME); END; \u5e38\u89c1\u9519\u8bef NO_DATA_FOUND \u6ca1\u6709\u627e\u5230\u6570\u636e TOO_MANY_ROWS \u8fd4\u56de\u591a\u884c\u6570\u636e BEGIN --\u53ef\u6267\u884c\u90e8\u5206 EXCEPTION -- \u5f02\u5e38\u5904\u7406\u5f00\u59cb WHEN \u5f02\u5e38\u540d 1 THEN --\u5bf9\u5e94\u5f02\u5e38\u5904\u7406 WHEN \u5f02\u5e38\u540d 2 THEN --\u5bf9\u5e94\u5f02\u5e38\u5904\u7406 \u2026\u2026 WHEN OTHERS THEN --\u5176\u4ed6\u5f02\u5e38\u5904\u7406 END; \u81ea\u5b9a\u4e49\u51fd\u6570 CREATE OR REPLACE FUNCTION FUN_\u51fd\u6570\u540d(\u53c2\u6570 [IN|OUT|IN OUT] \u6570\u636e\u7c7b\u578b , \u53c2\u6570...) RETURN \u6570\u636e\u7c7b\u578b IS|AS BEGIN ... RETURN ...; END; \u51fd\u6570\u4e00\u5b9a\u8981\u6709\u8fd4\u56de\u503c RETURN \u5728\u4f7f\u7528\u51fd\u6570\u7684\u65f6\u5019\uff0c\u9700\u8981\u6709\u5bf9\u8c61\u6765\u63a5\u6536\u51fd\u6570\u7684\u8fd4\u56de\u503c RETURN \u51fd\u6570\u9664\u4e86 RETURN , \u4e5f\u53ef\u4ee5\u50cf\u5b58\u50a8\u8fc7\u7a0b\u4e00\u6837\u4f7f\u7528 OUT \u8fd4\u56de\u503c \u51fd\u6570\u6ca1\u6709\u53c2\u6570\u7684\u65f6\u5019\uff0c\u8c03\u7528\u4e0d\u7528\u52a0\u62ec\u53f7 () \u51fd\u6570\u53ef\u4ee5\u653e\u5728 SELECT \u540e\u9762 \u5b58\u50a8\u8fc7\u7a0b\u53ef\u4ee5\u5e26\u51fd\u6570\uff0c\u4f46\u51fd\u6570\u4e2d\u4e0d\u80fd\u6709\u5b58\u50a8\u8fc7\u7a0b \u5b9e\u4f8b E.G. \u6c42\u4e24\u4e2a\u6570\u7684\u6700\u5927\u503c CREATE OR REPLACE FUNCTION FUN_MAX(P_NUM1 NUMBER,P_NUM2 NUMBER) RETURN NUMBER IS BEGIN IF P_NUM1>P_NUM2 THEN RETURN P_NUM1; ELSE RETURN P_NUM2; END IF; END FUN_MAX; E.G. \u8f93\u5165\u4e24\u4e2a\u6570\uff081\u523020\u4e4b\u95f4\uff09\uff0c\u8f93\u51fa\u8fde\u4e58\u7684\u7ed3\u679c\u3002\u5982\u679c\u8f93\u5165\u7684\u6570\u5927\u4e8e20\uff0c\u5219\u8fd4\u56de\u9519\u8bef\u63d0\u793a\u3002 CREATE OR REPLACE FUNCTION FUN_MULTIPLY(P_NUM1 NUMBER,P_NUM2 NUMBER) RETURN VARCHAR IS V_MIN NUMBER(10); V_MAX NUMBER(10); V_ANS NUMBER(30) := 1; BEGIN IF P_NUM1 > 20 OR P_NUM2 > 20 THEN RETURN 'NOT IN 1..20!!!'; END IF; IF P_NUM1 > P_NUM2 THEN V_MAX := P_NUM1; V_MIN := P_NUM2; ELSE V_MAX := P_NUM2; V_MIN := P_NUM1; END IF; FOR I IN V_MIN..V_MAX LOOP V_ANS := V_ANS * I; END LOOP; RETURN V_ANS; END FUN_MULTIPLY; \u521b\u5efa\u5305 \u521b\u5efa\u5305\u5934 CREATE [OR REPLACE] PACKAGE PK_\u5305\u540d IS|AS \u53d8\u91cf\u3001\u5e38\u91cf \u6570\u636e\u7c7b\u578b\u5b9a\u4e49\uff1b \u6e38\u6807\u5b9a\u4e49\u5934\u90e8\uff1b \u51fd\u6570\u3001\u8fc7\u7a0b\u7684\u5b9a\u4e49\uff0c\u53c2\u6570\u5217\u8868\uff0c\u8fd4\u56de\u7c7b\u578b\uff1b END [\u5305\u540d]; E.G. CREATE OR REPLACE PACKAGE PK_MYPACKAGE IS PROCEDURE SP_DEPTNO(P_DEPTNO IN EMP.DEPTNO%TYPE); FUNCTION FUN_MAX(P_NUM1 IN NUMBER,P_NUM2 IN NUMBER) RETURN NUMBER; END; \u521b\u5efa\u5305\u4f53 CREATE [OR REPLACE] PACKAGE BODY PK_\u5305\u540d IS|AS PROCEDURE SP_NAME(\u53c2\u6570) IS|AS BEGIN ... END SP_NAME; FUNCTION FUN_NAME(\u53c2\u6570) RETURN \u7c7b\u578b IS|AS BEGIN ... END FUN_NAME; END ; \u8c03\u7528 SELECT PK_NAME.FUN_TEST FROM DUAL; BEGIN PK_NAME.SP_NAME(...); END; \u65e5\u5fd7 \u65e5\u5fd7\u5c31\u662f\u4e00\u5f20\u8bb0\u5f55\u64cd\u4f5c\u7684\u8868 - \u4f5c\u7528 - \u8ffd\u6eaf\u95ee\u9898\uff0c\u53ef\u4ee5\u627e\u5230\u51fa\u9519\u73af\u8282 - \u8bb0\u5f55\u82b1\u8d39\u65f6\u95f4\uff0c\u65b9\u4fbf\u5bf9\u6bcf\u4e00\u6b65\u8fdb\u884c\u4f18\u5316 - \u901a\u5e38\u62a5\u9519\u7684\u65f6\u5019\uff0c\u7b2c\u4e00\u6761\u65e5\u5fd7\u5f80\u5f80\u662f\u62a5\u9519\u7684\u539f\u56e0 \u521b\u5efa\u65e5\u5fd7\u8868\u53ca\u76f8\u5173\u64cd\u4f5c CREATE TABLE LOG_RECORD( LOG_ID NUMBER(10), -- \u5e8f\u5217 SP_NAME VARCHAR2(100), -- \u662f\u54ea\u4e2a\u5b58\u50a8\u8fc7\u7a0b CYCLE_ID NUMBER(10), -- \u7b2c\u51e0\u6b21\u8c03\u7528 STEP NUMBER(10), STEP_NAME VARCHAR2(100), REMARK_TIME DATE ); CREATE SEQUENCE SEQ_LOG_ID; CREATE SEQUENCE SEQ_CYCLE_ID; CREATE OR REPLACE PROCEDURE SP_LOG(P_SP_NAME VARCHAR2\uff0cP_STEP_NAME VARCHAR2) IS BEGIN INSERT INTO LOG_RECORD VALUES (SEQ_LOG_ID.NEXTVAL,P_SP_NAME,SEQ_CYCLE_ID.NEXTVAL,P_STEP_NAME,SYSDATE); COMMIT; END; \u4f7f\u7528\u65e5\u5fd7 CREATE OR REPLACE PROCEDURE SP_EMP() IS V_SEQ NUMBER := SEQ_CYCLE_ID.NEXTVAL; BEGIN SP_LOG(V_SEQ,'SP_EMP','START INSERT DATA'); INSERT INTO ...... COMMIT; SP_LOG(V_SEQ,'SP_EMP','END INSERT DATA'); END; BEGIN SP_EMP(); END; \u6982\u5ff5 BI \u6982\u5ff5 \u5546\u4e1a\u667a\u80fd\u7684\u5173\u952e\u662f\u4ece\u8bb8\u591a\u6765\u81ea\u4e0d\u540c\u7684\u4f01\u4e1a\u8fd0\u4f5c\u7cfb\u7edf\u7684\u6570\u636e\u4e2d\u63d0\u53d6\u51fa\u6709\u7528\u7684\u6570\u636e\u5e76\u8fdb\u884c\u6e05\u7406\uff0c\u4ee5\u4fdd\u8bc1\u6570\u636e\u7684\u6b63\u786e\u6027\uff0c\u7136\u540e\u7ecf\u8fc7\u62bd\u53d6\uff08Extraction\uff09\u3001\u8f6c\u6362\uff08Transformation\uff09\u548c\u88c5\u8f7d\uff08Load\uff09\uff0c\u5373ETL\u8fc7\u7a0b\uff0c\u5408\u5e76\u5230\u4e00\u4e2a\u4f01\u4e1a\u7ea7\u7684\u6570\u636e\u4ed3\u5e93\u91cc\uff0c\u4ece\u800c\u5f97\u5230\u4f01\u4e1a\u6570\u636e\u7684\u4e00\u4e2a\u5168\u5c40\u89c6\u56fe\uff0c\u5728\u6b64\u57fa\u7840\u4e0a\u5229\u7528\u5408\u9002\u7684\u67e5\u8be2\u548c\u5206\u6790\u5de5\u5177\u3001\u6570\u636e\u6316\u6398\u5de5\u5177\u3001OLAP\u5de5\u5177\u7b49\u5bf9\u5176\u8fdb\u884c\u5206\u6790\u548c\u5904\u7406\uff08\u8fd9\u65f6\u4fe1\u606f\u53d8\u4e3a\u8f85\u52a9\u51b3\u7b56\u7684\u77e5\u8bc6\uff09\uff0c\u6700\u540e\u5c06\u77e5\u8bc6\u5448\u73b0\u7ed9\u7ba1\u7406\u8005\uff0c\u4e3a\u7ba1\u7406\u8005\u7684\u51b3\u7b56\u8fc7\u7a0b\u63d0\u4f9b\u652f\u6301\u3002 \u6570\u636e\u4ed3\u5e93 \u662f\u4e00\u4e2a\u9762\u5411\u4e3b\u9898\u7684\u3001\u96c6\u6210\u7684\u3001\u76f8\u5bf9\u7a33\u5b9a\u7684\u3001\u53cd\u6620\u5386\u53f2\u53d8\u5316\u7684\u6570\u636e\u96c6\u5408\u3002 - \u9762\u5411\u4e3b\u9898\u7684 - \u7ecf\u8fc7 ETL \u62bd\u6570\u3001\u6e05\u6d17\u3001\u8f6c\u6362\u52a0\u8f7d\u540e\uff0c\u6570\u636e\u6309\u4e0d\u540c\u7684\u4e3b\u9898\u5b58\u653e\u5728\u540c\u4e00\u4e2a\u5e93\u4e2d\uff0c\u68b3\u7406\u5f52\u7c7b \u96c6\u6210\u7684 \u6765\u81ea\u4e0d\u540c\u7684\u6570\u636e\u6e90 \u76f8\u5bf9\u7a33\u5b9a\u7684 \u4e0d\u4f1a\u4eba\u4e3a\u7684\u6539\u53d8\u6570\u636e\uff0c\u53ea\u540c\u6b65 \u53cd\u6620\u5386\u53f2\u53d8\u5316 \u6e90\u7cfb\u7edf\u6570\u636e\u5e93\u4e00\u822c\u53ea\u4fdd\u5b58\u51e0\u4e2a\u6708\uff0c\u800c\u6570\u636e\u4ed3\u5e93\u6570\u636e\u4f1a\u4e00\u76f4\u4fdd\u5b58 ODS \u8d34\u6e90\u5c42 \u4e3b\u8981\u4f5c\u6570\u636e\u7684\u62bd\u53d6\uff0c\u8f6c\u6362\u548c\u540c\u6b65\uff08ETL\uff09 \u901a\u8fc7\u8c03\u5ea6\u5de5\u5177\uff0c\u5b9a\u671f\u5c06\u6e90\u7cfb\u7edf\u7684\u6570\u636e\u62bd\u53d6\u5230ODS\u4e2d\u3002 DW \u6570\u636e\u4ed3\u5e93 \u4e3b\u8981\u662f\u4eceODS\u5c42\u540c\u6b65\u5230\u6570\u636e\u5230\u6570\u636e\u4ed3\u5e93 \u4fdd\u5b58\u5386\u53f2\u6570\u636e \u6839\u636e\u4e1a\u52a1\u7684\u9700\u8981\u5bf9\u4e8b\u5b9e\u8868\u3001\u7ef4\u5ea6\u8868\u8fdb\u884c\u5efa\u6a21\uff08\u661f\u578b\u6a21\u578b\uff0c\u96ea\u82b1\u6a21\u578b\uff0c\u661f\u5ea7\u6a21\u578b\uff09 \u5efa\u6a21\u7684\u7ed3\u679c\u5728DM\u5c42\uff01\uff01\uff01 - \u661f\u578b\u6a21\u578b - \u4e00\u4e2a\u4e8b\u5b9e\u8868\uff0c\u591a\u4e2a\u7ef4\u5ea6\u8868 - \u6bcf\u4e2a\u7ef4\u5ea6\u8868\u90fd\u53ea\u4e0e\u4e8b\u5b9e\u8868\u8fde\u63a5 - \u5b58\u5728\u5197\u4f59\u6570\u636e - \u6027\u80fd\u5feb \u96ea\u82b1\u6a21\u578b \u4e00\u4e2a\u4e8b\u5b9e\u8868\uff0c\u591a\u4e2a\u7ef4\u5ea6\u8868 \u7ef4\u5ea6\u8868\u53ef\u4ee5\u4e0e\u7ef4\u5ea6\u8868\u8fde\u63a5 \u5197\u4f59\u6570\u636e\u8f83\u5c11 \u6027\u80fd\u4e0d\u5982\u661f\u578b\u6a21\u578b \u661f\u5ea7\u6a21\u578b \u661f\u578b\u6a21\u578b\u7684\u5347\u7ea7 \u53ef\u4ee5\u6709\u591a\u4e2a\u4e8b\u5b9e\u8868 DM \u6570\u636e\u96c6\u5e02 \u6570\u636e\u5e93\u8865\u5145 \u7f13\u6162\u53d8\u5316\u7ef4 TYPE1:\u4e0d\u4fdd\u5b58\u5386\u53f2\u6570\u636e\uff0c\u76f4\u63a5\u66f4\u65b0 TYPE2:\u4fdd\u5b58\u6240\u6709\u7684\u5386\u53f2\u6570\u636e(\u52a0\u884c) \u751f\u6548\u65f6\u95f4\u3001\u5931\u6548\u65f6\u95f4\uff08\u4e3a\u4e86\u53d6\u51fa\u6700\u65b0\u7684\u6570\u636e\uff09 \u589e\u52a0 flag \u5217\uff0c\u6807\u8bb0\u662f\u5426\u6709\u6548 TYPE3:\u4fdd\u5b58\u5f53\u524d\u6216\u8005\u4e0a\u4e00\u6b21\u7684\u5386\u53f2\u6570\u636e\uff08\u52a0\u5217\uff09 \u62c9\u94fe\u8868 \u62c9\u94fe\u8868\u5b9e\u9645\u4e0a\u7528\u7684\u5c31\u662f TYPE2 \u7684\u65b9\u6cd5 \u8865\u5145 \u52a8\u6001SQL\u811a\u672c E.G. \u5c06 S \u8868\u8fdb\u884c\u884c\u5217\u8f6c\u6362 SELECT 'SELECT Y'||','|| WM_CONCAT(DISTINCT('SUM(CASE WHEN Q='||Q||' THEN AMT ELSE 0 END) Q'||Q)) ||' FROM S GROUP BY Y' FROM S; \u67e5\u8be2\u751f\u6210\u7684\u7ed3\u679c\uff0c\u4e3a\u53ef\u6267\u884c\u7684 SQL \u8bed\u53e5 \u4e4b\u540e\u5f53 S \u8868\u8fdb\u884c\u53d8\u5316\u65f6\uff0c\u53ea\u9700\u8981\u91cd\u65b0\u8fd0\u884c\u8be5\u67e5\u8be2\uff0c\u5373\u53ef\u66f4\u65b0\u9700\u8981\u7684 SQL \u8bed\u53e5 \u7528 || \u7b26\u5408\u5c06\u56fa\u5b9a\u7684\u8bed\u53e5\u4e0e\u52a8\u6001\u8bed\u53e5\u5206\u9694 \u7528 WM_CONCAT \u5bf9\u53d8\u5316\u7684\u8bed\u53e5\u8fdb\u884c\u5408\u5e76\uff0c\u5e76\u4e14\u81ea\u52a8\u52a0\u4e0a\u9017\u53f7 , \u7528 DISTINCT \u5bf9\u8bed\u53e5\u8fdb\u884c\u53bb\u91cd WITH AS WITH AS \u53ef\u4ee5\u521b\u5efa\u4e34\u65f6\u8868\uff0c\u65b9\u4fbf\u67e5\u8be2 WITH TEMP_NAME AS (SELECT ...), -- \u521b\u5efa\u4e34\u65f6\u8868 TEMP2 AS (SELECT ...), ... SELECT ... SQL\u4f18\u5316 \u67e5\u770b\u6267\u884c\u8ba1\u5212\uff0c\u589e\u52a0\u7d22\u5f15 \u6570\u636e\u91cf\u592a\u5927\uff0c\u5185\u5b58\u4e0d\u591f\uff0c\u5efa\u7acb\u8868\u5206\u533a \u5efa\u65b0\u8868\uff0c\u8f6c\u79fb\u6570\u636e\u5230\u65b0\u8868 SQL\u89c4\u8303 \u7d22\u5f15\u5931\u6548 UNION IN/EXISTS HINTS \u5e76\u884c \u5f3a\u5236\u8d70\u7d22\u5f15 ETL KETTLE SQL \u8bed\u53e5\u5185\uff0c\u4e0d\u80fd\u52a0\u5206\u53f7;!!!!!!!!! Q&A \u5206\u6790\u51fd\u6570\u6709\u54ea\u4e9b \u5b58\u50a8\u8fc7\u7a0b\u662f\u4ec0\u4e48 UNION \u548c UNION ALL \u533a\u522b \u5173\u8054\u673a\u5236 \u6570\u636e\u4ed3\u5e93\u6709\u51e0\u5c42 ODS,DW,DM\u7684\u4f5c\u7528","title":"SQL_Oracle"},{"location":"SQL/#sqloracle","text":"","title":"SQL\u8bed\u53e5\uff08ORACLE\uff09"},{"location":"SQL/#_1","text":"","title":"\u547d\u4ee4\u7ec4\u6210"},{"location":"SQL/#ddl","text":"\u9488\u5bf9\u5bf9\u8c61\u7ed3\u6784\u7684\u64cd\u4f5c - CREATE - \u521b\u5efa - ALTER - \u4fee\u6539 - DROP - \u5220\u9664 - TRUNCATE - \u6e05\u7a7a\u6570\u636e","title":"DDL \u6570\u636e\u5b9a\u4e49\u8bed\u8a00"},{"location":"SQL/#dml","text":"INSERT \u63d2\u5165\u6570\u636e DELETE \u5220\u9664\u6570\u636e UPDATE \u66f4\u65b0\u6570\u636e","title":"DML \u6570\u636e\u64cd\u4f5c\u8bed\u8a00"},{"location":"SQL/#dql","text":"SELECT ... FROM ... WHERE ... GROUP BY ... HAVING ... ORDER BY","title":"DQL \u6570\u636e\u67e5\u8be2\u8bed\u53e5"},{"location":"SQL/#tcl","text":"COMMIT \u63d0\u4ea4 ROLLBACK \u64a4\u56de","title":"TCL \u4e8b\u52a1\u63a7\u5236\u8bed\u53e5"},{"location":"SQL/#dcl","text":"GRANT \u6388\u6743 GRANT \u6743\u9650 TO \u7528\u6237 REVOKE \u64a4\u9500\u6388\u6743 REVOKE \u6743\u9650 FROM \u7528\u6237","title":"DCL \u6570\u636e\u63a7\u5236\u8bed\u53e5"},{"location":"SQL/#_2","text":"","title":"\u6570\u636e\u7c7b\u578b"},{"location":"SQL/#_3","text":"NUMBER NUMBER(10) \u6700\u957f\u4e3a10\u7684\u6574\u6570 NUMBER(10,2) \u6574\u65708\u4f4d\uff0c\u5c0f\u65702\u4f4d\uff0c\u517110\u4f4d \u4e5f\u53ef\u4ee5\u4e0d\u52a0\u6570\u636e\u957f\u5ea6\uff0c\u5219\u4f7f\u7528\u9ed8\u8ba4\u957f\u5ea6","title":"\u6570\u5b57\u7c7b\u578b"},{"location":"SQL/#_4","text":"CHAR \u56fa\u5b9a\u957f\u5ea6\uff0c\u4e0d\u591f\u7528\u7a7a\u683c\u8865\u9f50 VARCHAR2 \u53ef\u53d8\u957f\u5ea6 VARCHAR2(1 CHAR) \u53ef\u52a0\u4e2d\u6587\uff0c\u4e14\u6b64\u65f6\u4e2d\u6587\u7b49\u4ef7\u4e8e\u5360\u4e00\u4e2a\u5b57\u8282","title":"\u5b57\u7b26\u7c7b\u578b"},{"location":"SQL/#_5","text":"DATE DATE'2020-08-10' \u63d2\u5165\u7684\u65f6\u5019\u8981\u8fd9\u6837\uff01\uff01\uff01 TO_DATE('2020-08-10','YYYY-MM-DD')","title":"\u65e5\u671f\u7c7b\u578b"},{"location":"SQL/#_6","text":"","title":"\u5efa\u8868"},{"location":"SQL/#_7","text":"CREATE TABLE STU ( SNAME VARCHAR2(20), ... );","title":"\u76f4\u63a5\u5efa\u8868\u6cd5"},{"location":"SQL/#_8","text":"CREATE TABLE STU_COPY AS SELECT * FROM STU WHERE 1=2; \u53ea\u590d\u5236\u8868\u7ed3\u6784\uff08\u540e\u9762\u52a0\u4e0a\u603b\u662f\u4e0d\u6210\u7acb\u7684\u6761\u4ef6\uff09","title":"\u95f4\u63a5\u5efa\u8868\u6cd5"},{"location":"SQL/#_9","text":"","title":"\u6ce8\u91ca"},{"location":"SQL/#_10","text":"COMMENT ON TABLE STU IS 'STUDY TABLE' COMMENT ON COLUMN STU.SNAME IS 'STUDY NAME'","title":"\u76f4\u63a5\u6ce8\u91ca"},{"location":"SQL/#_11","text":"\u76f4\u63a5\u901a\u8fc7\u8f6f\u4ef6\u201cedit\u201d","title":"\u95f4\u63a5\u6ce8\u91ca"},{"location":"SQL/#_12","text":"","title":"\u4fee\u6539\u8868\u7ed3\u6784"},{"location":"SQL/#_13","text":"ALTER TABLE STU RENAME COLUMN SNAME TO NAME;","title":"\u4fee\u6539\u5b57\u6bb5\u540d\u79f0"},{"location":"SQL/#_14","text":"ALTER TABLE STU RENAME TO SSTU;","title":"\u4fee\u6539\u8868\u540d"},{"location":"SQL/#_15","text":"ALTER TABLE STU MODIFY SNAME VARCHAR2(10);","title":"\u4fee\u6539\u5b57\u6bb5\u6570\u636e\u7c7b\u578b"},{"location":"SQL/#_16","text":"ALTER TABLE STU ADD ID NUMBER(10);","title":"\u589e\u52a0\u5b57\u6bb5"},{"location":"SQL/#_17","text":"ALTER TABLE STU DROP COLUMN ID;","title":"\u5220\u9664\u5b57\u6bb5"},{"location":"SQL/#_18","text":"","title":"\u63d2\u5165\u6570\u636e"},{"location":"SQL/#_19","text":"INSERT INTO STU(SNAME,ID) VALUES ('lily',1001); COMMIT;","title":"\u76f4\u63a5\u63d2\u5165"},{"location":"SQL/#_20","text":"INSERT INTO STU(SNAME,ID) SELECT SANME,ID FROM STU_COPY; COMMIT;","title":"\u95f4\u63a5\u63d2\u5165"},{"location":"SQL/#insert-all","text":"insert all into emp_1 into emp_2 select * from emp; \u5c06emp\u4e2d\u6570\u636e\u590d\u5236\u7ed9emp1\u548cemp2. e.g. \u5c06\u6210\u7ee9\u662f10\u7684\u63d2\u5165emp1\u4e2d\uff0c\u5c06\u6210\u7ee9\u5c0f\u4e8e40\u7684\u63d2\u5165emp2\u4e2d insert all when score=10 then into emp_1 when score<40 then into emp_2 select * from emp;","title":"INSERT ALL"},{"location":"SQL/#insert-first","text":"\u5728\u63d2\u5165\u7684\u65f6\u5019\u8003\u8651\u5148\u540e\u987a\u5e8f\uff0c\u524d\u9762\u5df2\u7ecf\u63d2\u5165\u8fc7\u7684\u4e4b\u540e\u5c31\u4e0d\u4f1a\u63d2\u5165\u4e86 e.g. \u90e8\u95e810\u7684\u6570\u636e\u63d2\u5165\u5230EMP_1\u4e2d\uff0c\u628a\u90e8\u95e820\uff0c30\u6570\u636e\u90fd\u63d2\u5165\u5230EMP_2 INSERT FIRST WHEN DEPTNO=10 THEN INTO EMP_1 WHEN DEPTNO<40 THEN INTO EMP_2 SELECT * FROM EMP;","title":"INSERT FIRST"},{"location":"SQL/#_21","text":"SELECT * FROM STU FOR UPDATE;","title":"\u7528\u5de5\u5177\u63d2\u5165"},{"location":"SQL/#_22","text":"UPDATE STU SET SNAME='tom' WHERE SNAME='lily'; COMMIT; \u5b50\u67e5\u8be2\u66f4\u65b0(\u8981\u6570\u636e\u7c7b\u578b\u4e00\u6837) update emp_1 set score=(select score from emp where emp.id=emp_1.id);","title":"\u66f4\u65b0\u6570\u636e"},{"location":"SQL/#_23","text":"DELETE FROM STU WHERE SNAME='lily'; COMMIT;","title":"\u5220\u9664\u6570\u636e"},{"location":"SQL/#_24","text":"\u589e\u5220\u6539\u64cd\u4f5c\u4e4b\u540e\u4e00\u5b9a\u8981 COMMIT !!!!!!!!!","title":"\u589e\u5220\u6539\u6ce8\u610f"},{"location":"SQL/#_25","text":"","title":"\u7ea6\u675f"},{"location":"SQL/#_26","text":"\u4e0d\u80fd\u91cd\u590d\uff0c\u4e0d\u80fd\u4e3a\u7a7a - PRIMARY KEY","title":"\u4e3b\u952e"},{"location":"SQL/#_27","text":"\u53e6\u4e00\u5f20\u8868\u7684\u4e3b\u952e - FOREIGN KEY - REFERENCES \u53e6\u4e00\u4e2a\u8868(PRI KEY)","title":"\u5916\u952e"},{"location":"SQL/#_28","text":"\u4e0d\u80fd\u4e3a\u7a7a - NOT NULL","title":"\u975e\u7a7a\u7ea6\u675f"},{"location":"SQL/#_29","text":"\u53ef\u4ee5\u4e3a\u7a7a\uff0c\u4f46\u4e0d\u80fd\u91cd\u590d - UNIQUE","title":"\u552f\u4e00\u7ea6\u675f"},{"location":"SQL/#_30","text":"\u53ef\u4ee5\u89c4\u5b9a\u5b57\u6bb5\u7684\u957f\u5ea6\uff0c\u6216\u8005\u5185\u5bb9 - CHECK - CHECK(SEX='M' OR SEX='F')","title":"\u68c0\u67e5\u7ea6\u675f"},{"location":"SQL/#_31","text":"CONSTRAINT \u7ea6\u675f\u540d \u7ea6\u675f CONSTRAINT PRK PRIMARY KEY(ID) CONSTRAINT FRK FOREIGN KEY(CLASS) REFERENCES \u53e6\u4e00\u4e2a\u8868(PRI KEY) CONSTRAINT CHK CHECK(SEX='M' OR SEX='F')","title":"\u5efa\u8868\u65f6\uff0c\u5728\u5b57\u6bb5\u540e\u8bbe\u7f6e\u7ea6\u675f"},{"location":"SQL/#_32","text":"ALTER TABLE STU ADD CONSTRAINT PRK PRIMARY KEY(ID)","title":"\u589e\u52a0\u7ea6\u675f"},{"location":"SQL/#_33","text":"ALTER TABLE STU DROP CONSTRAINT PRK","title":"\u5220\u9664\u7ea6\u675f"},{"location":"SQL/#_34","text":"ALTER TABLE STU MODIFY ID NOT NULL","title":"\u4fee\u6539\u7ea6\u675f"},{"location":"SQL/#_35","text":"DROP \u5220\u9664\u6574\u4e2a\u8868\u7ed3\u6784 TRUNCATE \u5220\u9664\u8868\u5185\u6570\u636e DELETE \u5220\u9664\u6307\u5b9a\u6570\u636e","title":"\u6ce8\u610f\u4e8b\u9879"},{"location":"SQL/#_36","text":"SELECT ... +\u5b57\u6bb5 + \u8868\u8fbe\u5f0f+\u5e26\u51fa\u6765\u7684\u5b57\u6bb5 FROM ... WHERE ... +\u8868\u8fbe\u5f0f GROUP BY ... +\u5b57\u6bb5\uff08\u591a\u4e2a\u5b57\u6bb5\u4e5f\u53ef\u4ee5\uff09+\u8868\u8fbe\u5f0f HAVING ... ORDER BY... \u987a\u5e8f\uff1a512346","title":"\u67e5\u8be2"},{"location":"SQL/#_37","text":"SELECT \u53ef\u4ee5\u8ddf \u5b57\u6bb5\u3001\u8868\u8fbe\u5f0f SELECT E.ID,E.NAME FROM EMP E; \u8868\u540d\u540e\u9762\u53ef\u4ee5\u52a0\u522b\u540d E.G. SQL SELECT ENAME||'\u7684\u804c\u4f4d\u662f '||JOB \u804c\u4f4d FROM EMP || \u8fde\u63a5\u7b26\uff0c\u8fde\u63a5\u7b26\u5185\u53ef\u4ee5\u52a0\u5b57\u7b26 E.G. SQL SELECT ENAME ,SAL ,COMM ,SAL+ NVL(COMM,0) \u85aa\u6c34 FROM EMP NULL NULL\u4e0d\u53c2\u4e0e\u8ba1\u7b97 NVL(\u5b57\u6bb5 ,\u7a7a\u503c\u65f6\u7684\u9ed8\u8ba4\u503c ) NVL2(\u5b57\u6bb5 ,\u4e0d\u4e3a\u7a7a\u65f6\u7684\u9ed8\u8ba4\u503c ,\u7a7a\u503c\u65f6\u7684\u9ed8\u8ba4\u503c ) WHERE \u8868\u6761\u4ef6\uff0c\u53ef\u4ee5\u7528AND / OR \u8fde\u63a5 E.G. SQL SELECT * FROM EMP WHERE SAL > 1500 AND COMM IS NOT NULL; IN SQL SELECT * FROM EMP WHERE JOB IN('MANAGER','SALEMAN'); GROUP BY E.G. \u6839\u636e\u73ed\u7ea7\u8ba1\u7b97\u5e73\u5747\u503c SQL SELECT CLASS ,AVG(SCORE) FROM STU GROUP BY CLASS; E.G. SQL SELECT TO_CHAR(DATE,'YYYY'),COUNT(1) FROM EMP GROUP BY TO_CHAR(DATE,'YYYY'); GROUP BY \u540e\u9762\u53ef\u4ee5\u63a5\u4e24\u4e2a\u53c2\u6570\uff0c\u8868\u793a\u6309\u987a\u5e8f\u5206\u7ec4 ROLLUP \u6c42\u548c \u540e\u9762\u52a0\u4e0a ROLLUP() GROUP BY ROLLUP(SAL) ROLLUP \u53ef\u4ee5\u63a5\u4e24\u4e2a\u53c2\u6570\uff0c\u6309\u7b2c\u4e00\u4e2a\u53c2\u6570\u6c42\u548c CUBE \u591a\u7ef4\u5ea6\u6c42\u548c \u4f7f\u7528\u65b9\u6cd5\u4e0e ROLLUP \u4e00\u6837 \u5f53 CUBE \u540e\u9762\u63a5\u4e24\u4e2a\u53c2\u6570\u65f6\uff0c\u5206\u7ec4\u6c42\u548c\u7684\u65f6\u5019\u4f1a\u6309\u6bcf\u4e2a\u53c2\u6570\u90fd\u6c42\u548c GROUPING \u5224\u65ad\u662f\u5426\u4e3a\u603b\u8ba1 GROUPING(\u5b57\u6bb5) \u5224\u65ad\u8be5\u5b57\u6bb5\u7684\u8be5\u503c\u662f\u5426\u662f\u603b\u8ba1 \u603b\u8ba1\u8fd4\u56de 1 \uff1b\u975e\u603b\u8ba1\u8fd4\u56de 0 \u7ed3\u5408 CASE WHEN \u8865\u5168\u67e5\u8be2\u7ed3\u679c\u8868 HAVING E.G. SQL SELECT CLASS , COUNT(1) FROM STU GROUP BY CLASS HAVING COUNT(1)>3; ORDER BY E.G. SQL SELECT CLASS , SCORE FROM STU ORDER BY SCORE ASC ,CLASS DESC; ASC \u5347\u5e8f\uff0c\u9ed8\u8ba4 DESC \u964d\u5e8f \u5c06 NULL \u653e\u5728\u6700\u524d\u9762 / \u6700\u540e\u9762 ORDER BY SAL NULLS FIRST / LAST ;","title":"\u67e5\u8be2\u7ed3\u6784"},{"location":"SQL/#_38","text":"max/min avg sum count COUNT(1) = COUNT(*) = COUNT(ID)","title":"\u805a\u5408\u51fd\u6570"},{"location":"SQL/#_39","text":"","title":"\u8fde\u63a5\u67e5\u8be2"},{"location":"SQL/#_40","text":"\u4ea4\u96c6 - \u6807\u51c6\u5199\u6cd5 SQL SELECT E.* ,D.* FROM EMP E INNER JOIN DEPT D ON E.DEPTNO = D.DEPTNO ORACLE \u5199\u6cd5 SQL SELECT E.* ,D.* FROM EMP E ,DEPT D WHERE E.DEPTNO = D.DEPTNO","title":"\u5185\u8fde\u63a5"},{"location":"SQL/#_41","text":"\u5de6\u5916\u8fde\u63a5 LEFT JOIN SQL SELECT E.* ,D.* FROM EMP E LEFT JOIN DEPT D ON E.DEPTNO = D.DEPTNO ORACLE \u5199\u6cd5 SQL SELECT E.* ,D.* FROM DEPT D ,EMP E WHERE D.DEPTNO = E.DEPTNO(+) \u5e26 + \u7684\u662f\u4ece\u8868 \u53f3\u5916\u8fde\u63a5 \u5168\u5916\u8fde\u63a5 FULL JOIN SQL SELECT D.* ,E.* FROM DEPT D FULL JOIN EMP E ON D.DNAME = E.ENAME","title":"\u5916\u8fde\u63a5"},{"location":"SQL/#_42","text":"\u5e76\u96c6 - UNION ALL \u5e38\u7528 - UNION \u53bb\u91cd\uff0c\u6548\u7387\u4f4e\uff0c\u4e0d\u5e38\u7528 - E.G. SELECT DEPTNO FROM EMP UNION SELECT DEPTNO FROM DEPT;","title":"\u96c6\u5408\u67e5\u8be2"},{"location":"SQL/#_43","text":"\u628a\u67e5\u8be2\u7684\u7ed3\u679c\u5f53\u6761\u4ef6 - SELECT UPDATE DELETE - \u540e\u9762\u90fd\u53ef\u4ee5\u63a5\u5b50\u67e5\u8be2 \u5355\u884c\u5b50\u67e5\u8be2 \u53ef\u4ee5\u76f4\u63a5\u7528\u7b49\u53f7\uff08\u6570\u636e\u7c7b\u578b\u8981\u76f8\u7b49\uff09 SELECT * FROM EMP WHERE (SAL,JOB)=(SELECT SAL,JOB FROM EMP WHERE EMPNO=7782) \u591a\u884c\u5b50\u67e5\u8be2 \u7528 in \uff0c\u8868\u793a\u5728\u5176\u4e2d\u4e4b\u4e00 \u6570\u636e\u91cf\u5927\u7684\u65f6\u5019\uff0c\u7528 exists EXISTS EXISTS \u7528\u4e8e\u68c0\u67e5\u5b50\u67e5\u8be2\u662f\u5426\u81f3\u5c11\u4f1a\u8fd4\u56de\u4e00\u884c\u6570\u636e\uff0c\u8be5\u5b50\u67e5\u8be2\u5b9e\u9645\u4e0a\u5e76\u4e0d\u8fd4\u56de\u4efb\u4f55\u6570\u636e\uff0c\u800c\u662f\u8fd4\u56de\u503cTrue\u6216False. EXISTS \u6307\u5b9a\u4e00\u4e2a\u5b50\u67e5\u8be2\uff0c\u68c0\u6d4b \u884c \u7684\u5b58\u5728 EXISTS \u5b9e\u9645\u4e0a\u5c31\u662f\u5173\u8054\u5b50\u67e5\u8be2\uff08\u6307\u5b50\u67e5\u8be2\u90e8\u5206\u4e0d\u80fd\u5355\u72ec\u8fd0\u884c\uff09 E.G. SQL SELECT D.DNAME FROM DEPT D WHERE EXISTS (SELECT 1 FROM EMP E WHERE E.DEPTNO=D.DEPTNO); EXISTS \u8fd9\u91cc\u8d77\u5224\u65ad\u7684\u4f5c\u7528 \u5728\u5b50\u67e5\u8be2\u4e2d\u4f7f\u7528 NULL \u4ecd\u7136\u8fd4\u56de\u7ed3\u679c\u96c6 E.G. SQL select * from TableIn where exists(select null); \u6bd4\u8f83\u4f7f\u7528 EXISTS \u548c IN \u7684\u67e5\u8be2\u3002\u6ce8\u610f\u4e24\u4e2a\u67e5\u8be2\u8fd4\u56de\u76f8\u540c\u7684\u7ed3\u679c\u3002 E.G. SQL select * from TableIn where exists(select BID from TableEx where BNAME=TableIn.ANAME); select * from TableIn where ANAME in(select BNAME from TableEx); EXISTS \u53bb\u91cd E.G. \u5728\u6bcf\u4e2a\u90e8\u95e8\u4e2d\uff0c\u9009\u53d6\u5165\u804c\u6700\u665a\u7684 SQL SELECT E.* FROM EMP E WHERE NOT EXISTS (SELECT * FROM EMP M WHERE E.DEPTNO=M.DEPTNO AND E.HIREDATE<M.HIREDATE); -- DEPTNO \u662f\u9009\u53d6\u7684\u6307\u6807 , HIREDATE \u662f\u53bb\u91cd\u6761\u4ef6","title":"\u5b50\u67e5\u8be2"},{"location":"SQL/#_44","text":"SELECT TABLE_NAME FROM ALL_TABLES WHERE USER = 'SCOTT';","title":"\u67e5\u8be2\u7528\u6237\u4e0b\u6240\u6709\u7684\u8868"},{"location":"SQL/#_45","text":"SELECT ... FROM ... [WHERE ...] START WITH ID=... [OR ID=...] -- \u53ef\u4ee5\u6307\u5b9a\u591a\u4e2a\u8282\u70b9 CONNECT BY PRIOR PID=ID; --PID \u5728\u524d\uff0c\u5219\u8868\u793a\u4ece\u5b50\u5411\u7236\u67e5\uff1bID\u5728\u524d\uff0c\u4ece\u7236\u5411\u5b50\u67e5 E.G. \u67e5\u8be27369\u7684\u9886\u5bfc\uff0c\u53ca\u5176\u9886\u5bfc\u7684\u9886\u5bfc\u3002\u3002\u3002 SELECT * FROM EMP START WITH EMPNO=7369 CONNECT BY PRIOR MGR=EMPNO;","title":"\u9012\u5f52\u67e5\u8be2"},{"location":"SQL/#_46","text":"","title":"\u5224\u65ad"},{"location":"SQL/#decode","text":"\u5355\u503c\u5224\u65ad\u51fd\u6570 - E.G. SQL SELECT DECODE(N, 1\uff0c111\uff0c 2\uff0c222\uff0c 3\uff0c333\uff0c 0) FROM EMP; - N:\u88ab\u5224\u65ad\u7684\u5185\u5bb9 - 1\uff0c111\uff0c:\u82e5\u7b49\u4e8e1\uff0c\u5219\u7b49\u4e8e\u540e\u9762\u7684111 - 0\uff1a\u90fd\u4e0d\u76f8\u7b49\u7684\u9ed8\u8ba4\u503c","title":"DECODE"},{"location":"SQL/#case-when","text":"\u591a\u503c\u5224\u65ad\u51fd\u6570 CASE WHEN ... THEN ... WHEN ... THEN ... ... ELSE ... END","title":"CASE WHEN"},{"location":"SQL/#_47","text":"","title":"\u884c\u5217\u8f6c\u6362"},{"location":"SQL/#case-when_1","text":"E.G. SELECT Y , SUM(CASE WHEN Q=1 THEN AMT ELSE 0 END) Q1, SUM(CASE WHEN Q=2 THEN AMT ELSE 0 END) Q2, SUM(CASE WHEN Q=3 THEN AMT ELSE 0 END) Q3, SUM(CASE WHEN Q=4 THEN AMT ELSE 0 END) Q4 FROM S GROUP BY Y;","title":"CASE WHEN \u65b9\u6cd5"},{"location":"SQL/#_48","text":"","title":"\u5217\u884c\u8f6c\u6362"},{"location":"SQL/#union","text":"E.G. SELECT Y,1 Q ,Q1 AMT FROM S_1 UNION ALL SELECT Y,2 Q ,Q2 AMT FROM S_1 UNION ALL SELECT Y,3 Q ,Q3 AMT FROM S_1 UNION ALL SELECT Y,4 Q ,Q4 AMT FROM S_1 ORDER BY Y,Q; E.G. SELECT NAME ,'\u8bed\u6587' SUB ,\u8bed\u6587 SCORE FROM STU_SCORE UNION ALL SELECT NAME ,'\u6570\u5b66' SUB ,\u6570\u5b66 SCORE FROM STU_SCORE ORDER BY NAME , SUB","title":"UNION \u65b9\u6cd5"},{"location":"SQL/#_49","text":"\u5728\u8868\u4e2d\u5b58\u5728\uff0c\u4f46\u4e00\u822c\u770b\u4e0d\u5230 - ROWNUM - \u5e8f\u53f7\uff08\u4ece1\u5f00\u59cb\uff09\uff0c\u53ef\u7528\u4e8e\u5206\u9875\u67e5\u8be2 - E.G. \u67e5\u770b\u524d10\u884c SQL SELECT * FROM EMP WHERE ROWNUM<=10; - \u5206\u9875\u67e5\u8be2\uff0c\u8981\u7528\u5b50\u67e5\u8be2\u7684\u65b9\u6cd5\uff0c\u7ed9 ROWNUM \u53d6\u522b\u540d SQL SELECT * FROM (SELECT ROWNUM PN ,EMP.* FROM EMP) E WHERE E.PN BETWEEN 10 AND 20; - \u6309\u6392\u5e8f\u67e5\u8be2\u524d\u51e0\u540d\u7684\u65f6\u5019\uff0c\u4e5f\u8981\u7528\u5b50\u67e5\u8be2\uff0c\u5148\u6392\u5e8f\uff0c\u540e\u53d6\u524d\u51e0\u540d ROWID \u5b58\u653e\u7684\u5730\u5740\uff0c\u53ef\u7528\u4e8e\u5220\u9664\u91cd\u590d\u6570\u636e E.G. \u53bb\u91cd SQL DELETE FROM EMP WHERE ROWID NOT IN (SELECT MIN(ROWID) FROM EMP GROUP BY EMPNO);","title":"\u4f2a\u5217"},{"location":"SQL/#like","text":"_ \u4ee3\u8868\u4e00\u4e2a\u5b57\u7b26 % \u4ee3\u8868\u4efb\u610f\u5b57\u7b26 E.G. \u59d3\u540d S \u5f00\u5934\u7684\u5458\u5de5 SELECT * FROM EMP WHERE ENAME LIKE 'S%'","title":"\u6a21\u7cca\u67e5\u8be2 LIKE"},{"location":"SQL/#_50","text":"REPLACE \u66ff\u6362 REPLACE(X,OLD,NEW) E.G. SQL REPLACE('I LIKE YOU' ,'LIKE' ,'HATE') TRIM \u622a\u53bb LTRIM(X [,FMT]) / RTRIM(X [,FMT]) \u4ece\u5de6\u8fb9 / \u53f3\u8fb9\u622a\u53bb\u67d0\u4e2a\u5b57\u7b26 FMT \u53ef\u7701\u7565 \uff0c\u7701\u7565\u9ed8\u8ba4\u622a\u53bb\u7a7a\u683c TRIM TRIM(X FROM STR) \u4ece\u4e24\u5934\u622a\u53bb LENGTH LENGTH(X) \u67e5\u8be2\u6240\u5360\u5b57\u8282 SUBSTR SUBSTR(X ,START ,N) \u5b57\u7b26\u622a\u53d6\uff0c\u628a\u5b57\u7b26 X \u4ece START \u5f00\u59cb\u622a\u53d6 N \u4f4d \u82e5 N \u7701\u7565\uff0c\u9ed8\u8ba4\u622a\u53d6\u5230\u6700\u540e INSTR INSTR(X,Y,START,N) \u5728\u5b57\u7b26 X \u4e2d\uff0c\u67e5\u627e\u5b57\u7b26 Y \uff0c\u4ece START \u5f00\u59cb\u627e\uff0c\u7b2c N \u6b21\u51fa\u73b0\u7684\u4f4d\u7f6e N \u7701\u7565\u65f6\u9ed8\u8ba4\u7b2c\u4e00\u6b21 CONCAT CONCAT(X,Y) \u5c06 X \uff0cY \u62fc\u63a5\u8d77\u6765 \u5b9e\u9645\u4f7f\u7528\u4e2d\uff0c\u5e38\u5e38\u7528 || \uff0c\u800c\u4e0d\u662f CONCAT WM_CONCAT E.G. SQL SELECT DEPTNO ,WM_CONCAT(ENAME) FROM EMP GROUP BY DEPTNO;","title":"\u5b57\u7b26\u51fd\u6570"},{"location":"SQL/#_51","text":"ABS \u6c42\u7edd\u5bf9\u503c MOD MOD(X,Y) \u6c42 X \u5bf9 Y \u7684\u4f59\u6570 ROUND ROUND(X [,FMT]) \u56db\u820d\u4e94\u5165\uff0c\u9ed8\u8ba4\u5230\u6574\u6570 TRUNC TRUNC(X [,FMT]) \u820d\u53bb\uff0c\u9ed8\u8ba4\u820d\u53bb\u5c0f\u6570 POWER POWER(x,y) x\u7684y\u6b21\u5e42 SQRT SQRT(X) \u6c42 X \u7684\u5e73\u65b9 CEIL ceil(n) \u53d6\u5927\u4e8e\u7b49\u4e8e\u6570\u503cn\u7684\u6700\u5c0f\u6574\u6570 FLOOR floor(n) \u53d6\u5c0f\u4e8e\u7b49\u4e8e\u6570\u503cn\u7684\u6700\u5927\u6574\u6570","title":"\u6570\u5b57\u51fd\u6570"},{"location":"SQL/#_52","text":"SYSDATE \u7cfb\u7edf\u65f6\u95f4 LAST_DAY LAST_DAY(DATE) \u6c42\u672c\u6708\u6700\u540e\u4e00\u5929 ADD_MONTHS ADD_MONTHS(DATE,N) \u5728\u5f53\u524d\u6708\u4efd\u52a0 N \u4e2a\u6708\uff0cN \u53ef\u4ee5\u662f\u8d1f\u6570 \u5f53\u6708\u4efd\u65e5\u671f\u4e3a\u6700\u540e\u7684\u4e00\u5929\u65f6\uff0c\u7ed3\u679c\u4e5f\u662f\u6700\u540e\u4e00\u5929","title":"\u65e5\u671f\u51fd\u6570"},{"location":"SQL/#_53","text":"\u5728\u5b9e\u9645\u4e2d\uff0c\u65e5\u671f\u5f80\u5f80\u4e0e TRUNC \u51fd\u6570\u4e00\u8d77\u4f7f\u7528 - e.g. SELECT SYSDATE , TRUNC(SYSDATE),--2020/8/12 TRUNC(SYSDATE,'YYYY'),--\u622a\u53d6\u5230\u5f53\u5e74\u7684\u7b2c\u4e00\u5929 2020/1/1 TRUNC(SYSDATE,'MM'),--\u622a\u53d6\u5230\u5f53\u6708\u7684\u7b2c\u4e00\u5929 2020/8/1 TRUNC(SYSDATE,'Q'),--\u622a\u53d6\u5230\u672c\u5b63\u5ea6\u7684\u7b2c\u4e00\u5929 2020/7/1 TRUNC(SYSDATE,'IW')--\u622a\u53d6\u5230\u672c\u5468\u7684\u7b2c\u4e00\u5929 FROM DUAL; \u65e5\u671f\u53ef\u4ee5\u4e0e\u6570\u5b57\u8fd0\u7b97\uff0c\u6b64\u65f6\u6570\u5b57\u662f\u5929\u6570 \u65e5\u671f\u4e5f\u53ef\u4ee5\u4e0e\u65e5\u671f\u8fd0\u7b97\uff0c\u6b64\u65f6\u7ed3\u679c\u662f\u5929\u6570","title":"\u4f7f\u7528"},{"location":"SQL/#_54","text":"TO_NUMBER() \u65e5\u671f\u4e0d\u53ef\u4ee5\u76f4\u63a5\u8f6c\u6570\u5b57\uff0c\u8981\u5148\u8f6c\u5b57\u7b26\uff0c\u518d\u8f6c\u6570\u5b57 E.G. SQL SELECT TO_NUMBER(TO_CHAR(SYSDATE,'YYYYMMDD')) FROM DUAL; TO_CHAR() E.G. SQL SELECT TO_CHAR(SYSDATE), TO_CHAR(SYSDATE,'YYYY'),--2020 TO_CHAR(SYSDATE,'Q'),--3 \u5b63\u5ea6 TO_CHAR(SYSDATE,'MM'),--08 \u6708\u4efd TO_CHAR(SYSDATE,'IW'),--33 \u5f53\u5e74\u7684\u7b2c\u51e0\u5468 TO_CHAR(SYSDATE,'W'),--2 \u5f53\u6708\u7684\u7b2c\u51e0\u5468 TO_CHAR(SYSDATE,'DDD'),--225 \u5f53\u5e74\u7684\u7b2c\u51e0\u5929 TO_CHAR(SYSDATE,'DD'),--12 \u5f53\u6708\u7684\u7b2c\u51e0\u5929 TO_CHAR(SYSDATE,'D')--4 \u5f53\u5468\u7684\u7b2c\u51e0\u5929 FROM DUAL; TO_DATE() E.G. SQL SELECT TO_DATE('20200801','YYYYMMDD') FROM DUAL;","title":"\u6570\u636e\u7c7b\u578b\u8f6c\u6362\u51fd\u6570"},{"location":"SQL/#_55","text":"NVL NVL(\u5217, \u9ed8\u8ba4\u503c) \u5982\u679c\u5217\u503c\u4e3anull,\u5219\u4f7f\u7528\u9ed8\u8ba4\u503c\u8868\u793a NVL2 NVL2(\u5217, \u8fd4\u56de\u503c1, \u8fd4\u56de\u503c2) \u5982\u679c\u5217\u503c\u4e0d\u4e3anull,\u8fd4\u56de\u7ed3\u679c1;\u5982\u679c\u5217\u503c\u4e3anull,\u8fd4\u56de\u7ed3\u679c2","title":"\u7a7a\u503c\u8f6c\u6362\u51fd\u6570"},{"location":"SQL/#_56","text":"\u6bcf\u4e00\u7ec4\u7684\u6bcf\u4e00\u884c\u90fd\u6709\u4e00\u4e2a\u8fd4\u56de\u503c FUNCTION_NAME(<\u53c2\u6570>,...) OVER ( <ORDER BY \u8868\u8fbe\u5f0f ) PARTITION BY \u4e0e GROUP BY \u4f5c\u7528\u4e00\u6837 ORDER BY \u4e0d\u4ec5\u4ec5\u662f\u6392\u5e8f\uff0c\u800c\u4e14\u7d2f\u8ba1\u6c42\u548c OVER \u91cc\u9762\u53ef\u4ee5\u4e0d\u5199\uff0c\u8868\u793a\u5bf9\u5168\u90e8\u6570\u636e","title":"\u5206\u6790\u51fd\u6570"},{"location":"SQL/#_57","text":"E.G. \u6c42\u6bcf\u4e2a\u90e8\u95e8\u5e73\u5747\u5de5\u8d44 SELECT E.* ,AVG(SAL)OVER(PARTITION BY DEPTNO) FROM EMP E E.G. \u6bcf\u4e2a\u90e8\u95e8\u7684\u7d2f\u8ba1\u5de5\u8d44 SELECT E.*,SUM(SAL)OVER(PARTITION BY DEPTNO ORDER BY SAL ) FROM EMP E","title":"\u548c\u805a\u5408\u51fd\u6570\u4e00\u8d77"},{"location":"SQL/#_58","text":"\u6392\u5e8f\u51fd\u6570 ROW_NUMBER() \u76f4\u63a5\u6392\u5e8f 1 2 3 4 5 DENSE_RANK() \u6709\u76f8\u540c\u7684\u7ee7\u7eed 1 2 2 2 3 RANK() \u6709\u76f8\u540c\u7684\u8df3\u8fc7 1 2 2 2 5 E.G. SELECT E.ENAME,E.SAL,ROW_NUMBER() OVER(PARTITION BY E.DEPTNO ORDER BY E.SAL) FROM EMP E","title":"\u548c\u6392\u5e8f\u51fd\u6570\u4e00\u8d77\u7528"},{"location":"SQL/#_59","text":"\u6c42\u540c\u6bd4\u3001\u73af\u6bd4 - \u4f4d\u79fb\u51fd\u6570 - LEAD() / LAG() - \u6c42\u4e4b\u524d / \u4e4b\u540e\u7684\u7b2c N \u884c - \u53c2\u6570(ARG1\uff0cARG2\uff0cARG3) - \u53c2\u65701 \uff1a\u5217\u540d - \u53c2\u65702 \uff1a\u504f\u79fb\u7684\u503c - \u53c2\u65703 \uff1a\u8d85\u51fa\u65f6\u7684\u9ed8\u8ba4\u503c E.G. SELECT E.ENAME,E.HIREDATE,LEAD(E.HIREDATE,1)OVER(ORDER BY E.HIREDATE) FROM EMP E;","title":"\u548c\u4f4d\u79fb\u51fd\u6570\u4e00\u8d77\u7528"},{"location":"SQL/#_60","text":"","title":"\u540c\u6b65\u6570\u636e"},{"location":"SQL/#_61","text":"\u5728\u76ee\u6807\u8868\u4e2d\u5df2\u6709\u6570\u636e\uff0c\u5219\u66f4\u65b0\uff1b\u6ca1\u6709\u5219\u63d2\u5165 - MERGE INTO SQL MERGE INTO \u76ee\u6807\u8868 USING \u6e90\u8868 ON (...) -- \u4e00\u5b9a\u8981\u52a0\u62ec\u53f7 WHEN MATCHED THEN UPDATE SET ... WHEN NOT MATCHED THEN INSERT ... VALUES ... - E.G. ```SQL MERGE INTO DICTB B USING DICTA A ON (B.ID=A.ID) -- \u4e00\u5b9a\u8981\u52a0\u62ec\u53f7 WHEN MATCHED THEN UPDATE SET B.DESC=A.DESC -- \u8981\u66f4\u65b0\u7684\u5185\u5bb9 WHEN NOT MATCHED THEN INSERT (B.ID,B.DESC) VALUES (A.ID,A.DESC) -- \u8981\u63d2\u5165\u7684\u5185\u5bb9 ``` - \u8fd9\u91cc INSERT \u540e\u9762\u4e0d\u7528\u52a0 INTO - E.G. \u5c06 EMP \u7684\u6570\u636e\uff0c\u540c\u6b65\u5230 EMP_A ```SQL MERGE INTO EMP_A EZ USING EMP E ON (EZ.EMPNO=E.EMPNO) WHEN MATCHED THEN UPDATE SET EZ.ENAME=E.ENAME, EZ.JOB=E.JOB, EZ.MGR=E.MGR, EZ.HIREDATE=E.HIREDATE, EZ.SAL=E.SAL, EZ.COMM=E.COMM, EZ.DEPTNO=E.DEPTNO WHEN NOT MATCHED THEN INSERT (EZ.EMPNO,EZ.ENAME,EZ.JOB,EZ.MGR,EZ.HIREDATE,EZ.SAL,EZ.COMM,EZ.DEPTNO) VALUES (E.EMPNO,E.ENAME,E.JOB,E.MGR,E.HIREDATE,E.SAL,E.COMM,E.DEPTNO); ``` \u7ed3\u5408\u5b58\u50a8\u8fc7\u7a0b\u7684 MERGE INTO \u53ef\u4ee5\u4f20\u9012\u53c2\u6570 \u6e38\u6807 \u7528\u6e38\u6807\u9010\u884c\u5224\u65ad \u6e38\u6807\u9009\u62e9\u6e90\u8868 E.G. \u5c06 TEST_MERGE_XBB \u8868\u7684\u5185\u5bb9\uff0c\u540c\u6b65\u5230 TEST_MERGE_XB \u8868 SQL CREATE OR REPLACE PROCEDURE SP_CUR_UPDATE IS CURSOR C_XBB IS SELECT * FROM TEST_MERGE_XBB; V_CO NUMBER(5); BEGIN FOR X IN C_XBB LOOP SELECT COUNT(1) INTO V_CO FROM TEST_MERGE_XB XB WHERE XB.EMPNO=X.EMPNO; IF V_CO>0 THEN -- \u6570\u636e\u5b58\u5728 UPDATE TEST_MERGE_XB XB SET EMPNO=X.EMPNO, ENAME = X.ENAME, SAL=X.SAL WHERE XB.EMPNO=X.EMPNO; ELSE -- \u6570\u636e\u4e0d\u5b58\u5728 INSERT INTO TEST_MERGE_XB XB VALUES (X.EMPNO,X.ENAME,X.SAL); END IF; END LOOP; COMMIT; END;","title":"\u589e\u91cf\u540c\u6b65"},{"location":"SQL/#_62","text":"\u65e7\u6570\u636e\u6e05\u7a7a\uff0c\u5c06\u65b0\u6570\u636e\u5168\u90e8\u63d2\u5165\u76ee\u6807\u8868 - DB_LINK CREATE PUBLIC DATABASE LINK DB_1 CONNECT TO \u7528\u6237\u540d IDENTIFIED BY ADMIN USING'IP\u5730\u5740:\u7aef\u53e3/\u5e93\u540d'; CREATE OR REPLACE PROCEDURE SP_DBLINK_1 IS BEGIN EXECUTE IMMEDIATE 'TRUNCATE TABLE EMP'; -- \u652f\u6301\u91cd\u8dd1 INSERT INTO EMP SELECT * FROM EMP@DB_1; COMMIT; END;","title":"\u5168\u91cf\u540c\u6b65"},{"location":"SQL/#_63","text":"","title":"\u6570\u636e\u5e93\u5bf9\u8c61"},{"location":"SQL/#_64","text":"\u5f53\u8868\u4e2d\u6ca1\u6709\u4e3b\u952e\uff0c\u4f46\u9700\u8981\u7c7b\u4f3cid\u65f6\uff0c\u53ef\u4ee5\u7528\u5e8f\u5217 ORACLE \u4e2d\u7684\u5e8f\u5217\uff0c\u4e0e MYSQL \u4e2d\u7684 auto_increment \u4f5c\u7528\u4e00\u6837 CREATE SEQUENCE sequence_name [START WITH NUM] -- \u9ed8\u8ba4\u503c\u662f 1 [INCREMENT BY increment] -- \u6b65\u957f\uff0c\u9ed8\u8ba4 1 SEQUENCE.CURRVAL \u5f53\u524d\u5e8f\u53f7 SEQUENCE.NEXTVAL \u4e0b\u4e00\u4e2a\u5e8f\u53f7","title":"\u5e8f\u5217"},{"location":"SQL/#_65","text":"CREATE OR REPLACE VIEW EMPVIEW AS SELECT * FROM EMP ONLY READ; -- \u53ea\u8bfb","title":"\u89c6\u56fe"},{"location":"SQL/#_66","text":"\u4e00\u4e2a\u8868\u53ea\u80fd\u6709\u4e00\u4e2a\u7d22\u5f15 CREATE [UNIQUE] INDEX index_name ON table_name(column_name,...) \u552f\u4e00\u7d22\u5f15 UNIQUE INDEX \u4e3b\u952e\u4e5f\u662f\u7d22\u5f15\uff08\u552f\u4e00\u7d22\u5f15\uff09 \u7ec4\u5408\u7d22\u5f15 \u5bf9\u591a\u5217\u5efa\u7acb\u7d22\u5f15\u65f6 \u4f4d\u56fe\u7d22\u5f15(BITMAP) \u901a\u8fc7start rowid\uff0cend rowid \u548c\u4e8c\u8fdb\u5236\u4f4d\u7684\u504f\u79fb\uff0c\u8ba1\u7b97\u51fa\u4e8c\u8fdb\u5236\u4f4d\u6240\u4ee3\u8868\u7684\u8868\u8bb0\u5f55\u7684 rowid SQL CREATE BITMAP INDEX index_emp ON EMP(ID); \u51fd\u6570\u7d22\u5f15 \u5728\u5efa\u7acb\u7d22\u5f15\u65f6\uff0c\u4f7f\u7528\u51fd\u6570 SQL CREATE INDEX index_ID ON EMP(ROUND(ID)); \u7d22\u5f15\u5931\u6548 \u9690\u5f0f\u8f6c\u6362\uff08\u6570\u5b57\u7c7b\u578b\u8f6c\u5316\u4e3a\u5b57\u7b26\u7c7b\u578b\uff09 \u7d22\u5f15\u8fd0\u7b97 \u4f7f\u7528\u51fd\u6570\uff08\u6b64\u65f6\u5e94\u5148\u5efa\u7acb\u51fd\u6570\u7d22\u5f15\uff09 \u4f7f\u7528\u4e0d\u7b49\u4e8e\u3001\u4e0d\u5728\u3001\u6a21\u7cca\u641c\u7d22\u65f6","title":"\u7d22\u5f15"},{"location":"SQL/#_67","text":"\u53ea\u6709\u5728\u521b\u5efa\u8868\u7684\u65f6\u5019\u53ef\u4ee5\u5efa\u7acb\u8868\u5206\u533a\u3002\u5df2\u7ecf\u5efa\u7acb\u7684\u8868\u65e0\u6cd5\u521b\u5efa\u8868\u5206\u533a\u3002 - \u8303\u56f4\u5206\u533a - E.G. \u6309\u65e5\u671f\u8fdb\u884c\u5206\u533a SQL CREATE TABLE MYEMP ( ... ) PARTITION BY RANGE (HIREDATE) ( PARTITION part1 VALUES LESS THAN (TO_DATE('1981-1-1','YYYY/MM/DD')), PARTITION part2 VALUES LESS THAN (TO_DATE('1982-1-1','YYYY/MM/DD')), PARTITION part3 VALUES LESS THAN (TO_DATE('1983-1-1','YYYY/MM/DD')), PARTITION part4 VALUES LESS THAN (TO_DATE('1988-1-1','YYYY/MM/DD')), PARTITION part5 VALUES LESS THAN (MAXVALUE) ) \u5217\u8868\u5206\u533a E.G. SQL CREATE TABLE MYEMP2 ( ... ) PARTITION BY LIST (DEPTNO) ( PARTITION MYEMP_DEPTNO_10 VALUES (10), PARTITION MYEMP_DEPTNO_20 VALUES (20) , PARTITION MYEMP_DEPTNO_30 VALUES (30) , PARTITION MYEMP_DEPTNO_40 VALUES (40) ) \u6dfb\u52a0\u5206\u533a SQL ALTER TABLE SALES ADD PARTITION P3 VALUES LESS THAN(TO_DATE('2003-06-01','YYYY-MM-DD')); \u5220\u9664\u5206\u533a SQL ALTER TABLE SALES DROP PARTITION P3; \u67e5\u770b\u5206\u533a\u60c5\u51b5 SQL select * from user_tab_partitions where table_name ='tableName'; \u67e5\u770b\u5206\u533a\u6570\u636e SQL select * from tablename partiton(p1);","title":"\u8868\u5206\u533a"},{"location":"SQL/#hints","text":"\u5e38\u7528HINTS / + PARALLEL(\u8868\u540d1,\u5e76\u884c\u6570)[(\u8868\u540d2,\u5e76\u884c\u6570)\u2026\u2026] / --\u6307\u5b9a\u5f00\u542f\u591a\u5c11\u4e2a\u5e76\u884c|\u5e76\u53d1\uff08\u4e00\u822c\u4e3a2\u30014\u30018\u2026\u2026\uff09 / + INDEX(\u8868\u540d,\u7d22\u5f15\u540d) / --\u6307\u5b9a\u7d22\u5f15 / + FULL(\u8868\u540d) / --\u6307\u5b9a\u5168\u8868\u626b\u63cf / + USE_NL(\u8868\u540d1\uff0c\u8868\u540d2) / --\u6307\u5b9a\u7528NESTED LOOP\u8fde\u63a5 / + USE_HASH(\u8868\u540d1\uff0c\u8868\u540d2) / --\u6307\u5b9a\u7528HASH\u8fde\u63a5 / + USE_MERGE(\u8868\u540d1\uff0c\u8868\u540d2) / --\u6307\u5b9a\u7528SORT MERGE JOIN / + LEADING(\u8868\u540d1\uff0c\u8868\u540d2) / --\u6307\u5b9a\u88681\u4f5c\u4e3a\u9a71\u52a8\u8868 / + APPEND / --\u6570\u636e\u76f4\u63a5\u63d2\u5165\u5230\u9ad8\u6c34\u4f4d\u4e0a\u9762(\u4e0einsert\u8fde\u7528)\u76f4\u63a5\u5f80\u540e\u9762\u63d2\uff0c\u65e0\u89c6\u524d\u9762\u7684\u7a7a\u4f4d\u7f6e E.G. SQL SELECT * /*+ PARALLEL(E,2)(D,2)*/ FROM EMP E, DEPT D WHERE E.DEPTNO = D.DEPTNO","title":"HINTS"},{"location":"SQL/#_68","text":"\u5d4c\u5957\u5faa\u73af\uff08NESTED LOOPS JOIN\uff08NL\uff09\uff09 \u4e0d\u7b49\u4e8e\u8fde\u63a5\u7684\u65f6\u5019 \u4f9d\u6b21\u4ece\u9a71\u52a8\u8868\u4e2d\u63d0\u53d6\u4e00\u6761\u8bb0\u5f55\uff0c\u904d\u5386\u88ab\u63a2\u67e5\u8868 \u4f18\u70b9\uff1a\u9002\u7528\u5e7f\uff0c\u5360\u7528\u5185\u5b58\u5c0f\uff0c\u5c55\u73b0\u5feb \u7f3a\u70b9\uff1a\u9700\u8981\u4e0d\u505c\u5730\u4ece\u786c\u76d8\u4e2d\u8bfb\u53d6\u626b\u63cf\u8868\uff0c\u6027\u80fd\u4e0d\u597d \u6ce8\u610f\uff1a\u4e24\u5f20\u8868\u9700\u8981\u5173\u8054\u65f6\uff0c\u5927\u8868\u9002\u5408\u505a\u88ab\u63a2\u67e5\u8868\uff0c\u53ef\u4ee5\u51cf\u5c11\u4ece\u786c\u76d8\u8bfb\u53d6\u6b21\u6570 \u54c8\u5e0c\u5173\u8054\uff08Hash Join\uff08HJ\uff09\uff09 \u6ca1\u6709\u7d22\u5f15\uff0c\u5e76\u4e14\u7b49\u503c\u5173\u8054\u7684\u65f6\u5019\uff0c\u4f7f\u7528\u54c8\u5e0c\u5173\u8054 \u7b49\u503c\u8fde\u63a5\uff1a\u6761\u4ef6\u8fde\u63a5\u5728\u8fde\u63a5\u8fd0\u7b97\u7b26\u4e3a\u201c=\u201d\u53f7 \uff01\uff01\uff01\uff01\uff01\uff01 \u8ba1\u7b97\u51fa\u6574\u5f20\u63a2\u67e5\u8868\u7684\u54c8\u5e0c\u503c\u3001\u5173\u8054\u5b57\u6bb5\u5bf9\u5e94\u7684\u54c8\u5e0c\u503c\uff0c\u8fdb\u884c\u5339\u914d \u4f18\u70b9\uff1a\u6027\u80fd\u597d\uff0c\u5339\u914d\u6b21\u6570\u5927\u5927\u51cf\u5c11 \u7f3a\u70b9\uff1a\u53ea\u9002\u7528\u4e8e\u7b49\u503c\u8fde\u63a5\uff0c\u5360\u7528\u5185\u5b58\u8f83\u5927 \u4e24\u5f20\u8868\u9700\u8981\u5173\u8054\u65f6\uff0c\u5c0f\u8868\u9002\u5408\u505a\u88ab\u63a2\u67e5\u8868\uff0c\u6015\u7f13\u5b58\u4e0d\u8db3 \u6392\u5e8f\u5408\u5e76(Sort Merge Join (SMJ) ) \u5927\u4e8e\u6216\u5c0f\u4e8e\u8fde\u63a5\u7684\u65f6\u5019 \u5c06\u5173\u8054\u7684\u4e24\u5f20\u8868\u5206\u522b\u8fdb\u884c\u6392\u5e8f\uff0c\u751f\u6210\u4e34\u65f6\u7684\u4e24\u5f20\u8868\u540e\uff0c\u968f\u673a\u53d6\u4e00\u5f20\u8868\u9010\u6761\u62bd\u53d6\u8bb0\u5f55\u4e0e\u53e6\u4e00\u5f20\u8868\u5339\u914d \u4f18\u70b9\uff1a\u9002\u5408\u6709\u7d22\u5f15\u7684\u4e24\u5f20\u8868\u6216\u8005\u4e0d\u7b49\u5173\u8054 \u7f3a\u70b9\uff1a\u6392\u5e8f\u6027\u80fd\u6d88\u8017\u5927\uff0c\u5360\u7528\u5185\u5b58\u5927","title":"\u5173\u8054\u673a\u5236"},{"location":"SQL/#plsql","text":"","title":"PL/SQL \u7a0b\u5e8f\u8bbe\u8ba1"},{"location":"SQL/#_69","text":"[DECLARE] \u58f0\u660e\u53d8\u91cf\uff0c\u5e38\u91cf\uff0c\u6e38\u6807; BEGIN \u6267\u884c\u90e8\u5206; [EXCEPTION] \u5f02\u5e38\u5904\u7406; END;","title":"\u57fa\u7840"},{"location":"SQL/#_70","text":"DBMS_OUTPUT.PUT_LINE \u4e00\u884c\u8f93\u51fa \u4e00\u6b21\u53ea\u80fd\u8f93\u51fa\u4e00\u4e2a\u53d8\u91cf\uff0c\u53ef\u4ee5\u7528||\u5c06\u591a\u4e2a\u53d8\u91cf\u8fde\u8d77\u6765 DBMS_OUTPUT.PUT \u5148\u4fdd\u5b58\u5230\u5185\u5b58\uff0c\u9047\u5230 PUTLINE \u518d\u8f93\u51fa BEGIN DBMS_OUTPUT.PUT_LINE('HELLO WORLD'); END;","title":"\u8f93\u51fa"},{"location":"SQL/#_71","text":"DECLARE V VARCHAR2(100) := 'HELLO WORLD'; -- \u8d4b\u503c\u7528 := BEGIN DBMS_OUTPUT.PUT_LINE(V); END; \u53d8\u91cf\u8d4b\u503c DECLARE V EMP.ENAME%TYPE; --\u590d\u5236\u67d0\u5b57\u6bb5\u7684\u7c7b\u578b BEGIN SELECT ENAME INTO V FROM EMP WHERE EMPNO=7369; -- \u5c06\u67e5\u8be2\u7684\u7ed3\u679c\u8d4b\u503c\u7ed9\u53d8\u91cf\uff0c\u53ea\u80fd\u8fd4\u56de\u4e00\u884c DBMS_OUTPUT.PUT_LINE(V); END; DECLARE V EMP%ROWTYPE; --\u5c06\u6574\u4e2a\u8868\u7684\u5b57\u6bb5\u548c\u6570\u636e\u7c7b\u578b\u90fd\u8d4b\u7ed9\u53d8\u91cf BEGIN SELECT ENAME ,JOB INTO V.ENAME ,V.JOB FROM EMP WHERE EMPNO=7369; -- \u4f7f\u7528\u7684\u65f6\u5019\uff0c\u4f7f\u7528 V.ENAME \u4f7f\u7528\u7279\u5b9a\u5b57\u6bb5\u7684\u6570\u636e\u7c7b\u578b DBMS_OUTPUT.PUT_LINE(V.ENAME||V.JOB); END;","title":"\u58f0\u660e\u53d8\u91cf"},{"location":"SQL/#_72","text":"&\u6ce8\u91ca \u8fdb\u884c\u8f93\u5165 DECLARE V EMP.ENAME%TYPE; BEGIN SELECT ENAME INTO V FROM EMP WHERE EMPNO= &\u8bf7\u8f93\u5165\u7f16\u53f7; DBMS_OUTPUT.PUT_LINE(V); END;","title":"\u8f93\u5165"},{"location":"SQL/#_73","text":"DECLARE PI CONSTANT NUMBER(10\uff0c2) := 3.14; -- \u5e38\u91cf\u58f0\u660e R NUMBER(10); S NUMBER(10\uff0c2); BEGIN R := 10; S := PI*R*R; DBMS_OUTPUT.PUT_LINE(S); END;","title":"\u5e38\u91cf"},{"location":"SQL/#_74","text":"IF ... THEN ... END IF; IF ... THEN ... ELSE ... END IF; IF ... THEN ... ELSIF ... THEN -- ELSIF \u7b49\u4ef7\u4e8e\u5176\u4ed6\u8bed\u8a00\u7684 else if ... ... END IF;","title":"\u5224\u65ad"},{"location":"SQL/#_75","text":"LOOP \u65e0\u6761\u4ef6\u5f00\u59cb\uff0c\u9700\u8981\u52a0\u8df3\u51fa\u6761\u4ef6 \u9000\u51fa\u6761\u4ef6\uff1aEXIT WHEN ...; / IF ... THEN EXIT; END IF; SQL LOOP ... EXIT WHEN ...; END LOOP; E.G. SQL DECLARE V_NUM NUMBER(10) := 0; V_I NUMBER(5) := 0; BEGIN LOOP V_I := V_I + 1; V_NUM := V_NUM + V_I; EXIT WHEN V_I >= 100; END LOOP; DBMS_OUTPUT.put_line(V_NUM); END; WHILE \u6ee1\u8db3\u6761\u4ef6\u65f6\u624d\u6267\u884c SQL WHILE ... LOOP ... END LOOP; \u4e5f\u53ef\u4ee5\u589e\u52a0\u9000\u51fa\u6761\u4ef6\uff0c\u5f3a\u5236\u9000\u51fa SQL WHILE ... LOOP ... EXIT WHEN ...; END LOOP; E.G. SQL DECLARE V_NUM NUMBER(10) := 0; V_I NUMBER(5) := 0; BEGIN WHILE V_I < 100 LOOP V_I := V_I + 1; V_NUM := V_NUM + V_I; END LOOP; DBMS_OUTPUT.put_line(V_NUM); END; FOR SQL FOR I IN 1..10 LOOP ... END LOOP; E.G. SQL DECLARE V_NUM NUMBER(10) := 0; BEGIN FOR I IN 1 .. 100 LOOP V_NUM := V_NUM + I; END LOOP; DBMS_OUTPUT.put_line(V_NUM); END;","title":"\u5faa\u73af"},{"location":"SQL/#_76","text":"\u6e38\u6807\u662f\u6307\u5411\u67e5\u8be2\u7ed3\u679c\u96c6\u7684\u6307\u9488\uff0c\u901a\u8fc7\u6e38\u6807\u53ef\u4ee5\u5c06\u7ed3\u679c\u96c6\u7684\u8bb0\u5f55\u53d6\u51fa\u3002 \u5b9e\u9645\u4f7f\u7528\u65b9\u6cd5\u7c7b\u4f3c\u4e8ePython\u4e2d\u7684list\u3002 \u9690\u5f0f\u6e38\u6807 PL/SQL \u4e2d\u7684\u6570\u636e\u64cd\u4f5c\u4f1a\u81ea\u52a8\u58f0\u660e\u4e00\u4e2a\u9690\u5f0f\u6e38\u6807\uff08\u4e00\u884c\u6570\u636e\uff09 \u663e\u793a\u6e38\u6807 \u5bf9\u4e8e\u591a\u884c\u8fd4\u56de\u7684\u67e5\u8be2\u6570\u636e\uff0c\u5fc5\u987b\u81ea\u5df1\u521b\u5efa\u6e38\u6807\u3002 \u65b9\u6cd51\uff1a\u4f7f\u7528 OPEN , FETCH , CLOSE \u8bed\u53e5\u6765\u63a7\u5236\u3002 SQL DECLARE CURSOR \u6e38\u6807\u540d(C_\u6e38\u6807\u540d) IS SELECT \u7ed3\u679c\u96c6; BEGIN OPEN \u6e38\u6807\u540d[(\u53c2\u6570)]; -- \u6253\u5f00\u6e38\u6807 LOOP FETCH \u6e38\u6807\u540d INTO \u8bb0\u5f55\u53d8\u91cf; -- \u63d0\u53d6\u6570\u636e END LOOP; CLOSE \u6e38\u6807\u540d; -- \u5173\u95ed\u6e38\u6807\uff01\uff01\uff01 END; %FOUND %NOTFOUND \u63d0\u53d6\u4e0d\u5230\u7684\u6570\u636e\u65f6\u5019 %FOUND \u63d0\u53d6\u5230\u6570\u636e\u7684\u65f6\u5019 E.G. SQL DECLARE CURSOR C_EMP IS SELECT ENAME,SAL FROM EMP WHERE JOB='MANAGER'; V_ENAME EMP.ENAME%TYPE; V_SAL EMP.SAL%TYPE; BEGIN OPEN C_EMP; LOOP FETCH C_EMP INTO V_ENAME,V_SAL; EXIT WHEN C_EMP%NOTFOUND; DBMS_OUTPUT.put_line(V_ENAME||'---'||V_SAL); END LOOP; CLOSE C_EMP; END; \u65b9\u6cd52\uff1aFOR \u5faa\u73af\uff08\u4e0d\u7528\u6253\u5f00\u5173\u95ed\uff09 e.g. SQL DECLARE CURSOR C_EMP IS SELECT ENAME,SAL FROM EMP WHERE JOB='MANAGER'; BEGIN FOR X IN C_EMP LOOP DBMS_OUTPUT.put_line(X.ENAME||'---'||X.SAL); END LOOP; END; \u5e26\u53c2\u6570\u6e38\u6807 \u8bbe\u7f6e\u53c2\u6570\u7684\u65f6\u5019\u53ea\u80fd\u52a0\u6570\u636e\u7c7b\u578b\uff0c\u4e0d\u80fd\u52a0\u6570\u636e\u957f\u5ea6 E.G. SQL DECLARE CURSOR C_EMP(P_NUM1 EMP.DEPTNO%TYPE,P_NUM2 EMP.DEPTNO%TYPE) IS SELECT * FROM EMP WHERE DEPTNO IN (P_NUM1\uff0cP_NUM2); BEGIN FOR X IN C_EMP(10\uff0c20) LOOP DBMS_OUTPUT.PUT_LINE(X.ENAME||'---'||X.DEPTNO); END LOOP; END;","title":"\u6e38\u6807"},{"location":"SQL/#sql","text":"\u5728 BEGIN \u91cc\u4e0d\u80fd\u76f4\u63a5\u6267\u884c DDL \uff08CREATE,ALTER,DROP,TRUNCATE\uff09\u3002 \u5c06 DDL \u8bed\u53e5\u8f6c\u5316\u4e3a\u5b57\u7b26\u4e32\u5728\u52a8\u6001 SQL \u8bed\u53e5\u4e2d\u6267\u884c\u3002 EXECUTE IMMEDIATE \u52a8\u6001\u8bed\u53e5\u5b57\u7b26\u4e32\uff08\u5b57\u7b26\u4e32\u91cc\u9762\u4e0d\u80fd\u6709\u5206\u53f7;!!!\uff09 [INTO \u53d8\u91cf\u5217\u8868] [USING \u53c2\u6570\u5217\u8868] \u5b57\u7b26\u4e32\u8bed\u53e5\u53ef\u4ee5\u901a\u8fc7 || \u8fdb\u884c\u62fc\u63a5 \u4e0d\u5e26\u53c2\u6570 E.G. SQL begin execute immediate 'create table test(name varchar2(8))'; -- \u5b57\u7b26\u4e32\u91cc\u9762\u4e0d\u80fd\u6709\u5206\u53f7;!!! end; \u5e26\u53c2\u6570\uff0c\u5e26\u8fd4\u56de\u503c \u53c2\u6570\u7528 :1 \u8fd9\u79cd\u65b9\u5f0f E.G. SQL DECLARE V_NUM NUMBER(10):=&EMPNO; V_NUMO NUMBER(10):=&DEPTNO; V_ENAME EMP.ENAME%TYPE; BEGIN EXECUTE IMMEDIATE 'SELECT ENAME FROM EMP WHERE EMPNO=:1 AND DEPTNO=:2' INTO V_ENAME -- \u8fd4\u56de\u503c USING V_NUM,V_NUMO; -- \u53c2\u6570 DBMS_OUTPUT.PUT_LINE(V_ENAME); END; \u5e26\u6e38\u6807 E.G. \u7edf\u8ba1 T \u5f00\u5934\u7684\u8868\u7684\u884c\u6570 SQL DECLARE CURSOR C_TABLE IS SELECT TABLE_NAME FROM ALL_TABLES WHERE USER='SCOTT' AND INSTR(TABLE_NAME,'T',1,1)=1; V_LINE NUMBER(10) := 0; BEGIN FOR T IN C_TABLE LOOP EXECUTE IMMEDIATE 'SELECT COUNT(1) FROM '||T.TABLE_NAME -- \u5b57\u7b26\u4e32\u62fc\u63a5 INTO V_LINE; DBMS_OUTPUT.PUT_LINE(T.TABLE_NAME||'-----'||V_LINE); END LOOP; END;","title":"\u52a8\u6001SQL"},{"location":"SQL/#_77","text":"CREATE [OR REPLACE] PROCEDURE SP_\u8fc7\u7a0b\u540d(\u53c2\u6570 [IN|OUT|IN OUT] \u6570\u636e\u7c7b\u578b \uff0c\u53c2\u65702...) IS|AS -- \u5199\u54ea\u4e2a\u90fd\u53ef\u4ee5 \u58f0\u660e\u90e8\u95e8 BEGIN ... [EXCEPTION] \u5f02\u5e38\u5904\u7406; END SP_\u8fc7\u7a0b\u540d; \u6ca1\u6709\u53c2\u6570\u7684\u65f6\u5019\uff0c\u4e0d\u7528\u52a0\u62ec\u53f7 IN \u8868\u793a\u4f20\u5165\u53c2\u6570\uff0c\u4e0d\u53ef\u4ee5\u5728\u8fc7\u7a0b\u4e2d\u88ab\u91cd\u65b0\u8d4b\u503c OUT \u8868\u793a\u4f20\u51fa\u53c2\u6570\uff0c\u53ef\u4ee5\u88ab\u8d4b\u503c IN OUT \u8868\u793a\u4f20\u5165\u4f20\u51fa\u53c2\u6570\uff0c\u53ef\u4ee5\u4f20\u5165\u503c\uff0c\u4e5f\u53ef\u4ee5\u88ab\u8d4b\u503c\uff0c\u4e5f\u53ef\u4ee5\u8fd4\u56de\u503c IN / OUT \u53ef\u4ee5\u4e0d\u5199\uff0c\u9ed8\u8ba4 IN","title":"\u5b58\u50a8\u8fc7\u7a0b"},{"location":"SQL/#_78","text":"\u8fc7\u7a0b\u540d : SP_\u8868\u540d \u4f20\u5165\u53c2\u6570\u547d\u540d : P_\u53c2\u6570\u540d (P_START_DATE) \u53d8\u91cf\u547d\u540d : V_\u53d8\u91cf (V_END_DATE) \u5b58\u50a8\u8fc7\u7a0b\u7f16\u5199\u7ed3\u675f\u65f6\uff0c\u8981 : END SP_\u8fc7\u7a0b\u540d; \u5b58\u50a8\u8fc7\u7a0b\u5fc5\u987b\u5728\u7a0b\u5e8f\u5757\u4e2d\u88ab\u8c03\u7528 SQL DECLARE BEGIN SP_\u5b58\u50a8\u8fc7\u7a0b(\u53c2\u6570); END; \u5220\u9664\u5b58\u50a8\u8fc7\u7a0b DROP PROCEDURE SP_\u8fc7\u7a0b;","title":"\u89c4\u8303"},{"location":"SQL/#_79","text":"IN CREATE OR REPLACE PROCEDURE SP_DEPTNO(P_DEPTNO IN EMP.DEPTNO%TYPE) AS CURSOR C_DEPT IS SELECT ENAME,JOB,SAL FROM EMP WHERE DEPTNO=P_DEPTNO; BEGIN FOR X IN C_DEPT LOOP DBMS_OUTPUT.PUT_LINE(X.ENAME||'---'||X.JOB||'---'||X.SAL); END LOOP; END SP_DEPTNO; OUT CREATE OR REPLACE PROCEDURE SP_EMP_DEPTNO(P_EMPNO IN EMP.EMPNO%TYPE ,P_DEPTNO OUT EMP.DEPTNO%TYPE) IS BEGIN SELECT DEPTNO INTO P_DEPTNO FROM EMP WHERE EMPNO=P_EMPNO; END SP_EMP_DEPTNO; OUT \u7684\u8c03\u7528 DECLARE V_DEPTNO EMP.DEPTNO%TYPE; BEGIN SP_EMP_DEPTNO(7369\uff0cV_DEPTNO); -- V_DEPTNO \u63a5\u53d7\u5b58\u50a8\u8fc7\u7a0b OUT \u7684\u503c DBMS_OUTPUT.PUT_LINE(V_DEPTNO); SP_DEPTNO(V_DEPTNO); -- \u518d\u5c06 V_DEPTNO \u4f20\u9012\u7ed9\u53e6\u4e00\u4e2a\u5b58\u50a8\u8fc7\u7a0b END; IN OUT CREATE OR REPLACE PROCEDURE SP_DEPT_JOB (P_DEPTNO_EMPNO IN OUT NUMBER,P_JOB_ENAME IN OUT VARCHAR2) IS BEGIN SELECT EMPNO,ENAME INTO P_DEPTNO_EMPNO ,P_JOB_ENAME FROM EMP WHERE DEPTNO=P_DEPTNO_EMPNO AND JOB=P_JOB_ENAME; -- \u5148\u8c03\u7528\u53d8\u91cf\uff0c\u518d\u5c06\u7ed3\u679c\u8d4b\u503c\u7ed9\u53d8\u91cf DBMS_OUTPUT.PUT_LINE(P_DEPTNO_EMPNO||'---'||P_JOB_ENAME); END SP_DEPT_JOB; IN OUT \u8c03\u7528 DECLARE V_DEPTNO_EMPNO NUMBER(10):=10; V_JOB_ENAME VARCHAR2(20) := 'MANAGER'; BEGIN SP_DEPT_JOB(V_DEPTNO_EMPNO,V_JOB_ENAME); END;","title":"\u5e26\u53c2\u6570\u8fc7\u7a0b"},{"location":"SQL/#_80","text":"NO_DATA_FOUND \u6ca1\u6709\u627e\u5230\u6570\u636e TOO_MANY_ROWS \u8fd4\u56de\u591a\u884c\u6570\u636e BEGIN --\u53ef\u6267\u884c\u90e8\u5206 EXCEPTION -- \u5f02\u5e38\u5904\u7406\u5f00\u59cb WHEN \u5f02\u5e38\u540d 1 THEN --\u5bf9\u5e94\u5f02\u5e38\u5904\u7406 WHEN \u5f02\u5e38\u540d 2 THEN --\u5bf9\u5e94\u5f02\u5e38\u5904\u7406 \u2026\u2026 WHEN OTHERS THEN --\u5176\u4ed6\u5f02\u5e38\u5904\u7406 END;","title":"\u5e38\u89c1\u9519\u8bef"},{"location":"SQL/#_81","text":"CREATE OR REPLACE FUNCTION FUN_\u51fd\u6570\u540d(\u53c2\u6570 [IN|OUT|IN OUT] \u6570\u636e\u7c7b\u578b , \u53c2\u6570...) RETURN \u6570\u636e\u7c7b\u578b IS|AS BEGIN ... RETURN ...; END; \u51fd\u6570\u4e00\u5b9a\u8981\u6709\u8fd4\u56de\u503c RETURN \u5728\u4f7f\u7528\u51fd\u6570\u7684\u65f6\u5019\uff0c\u9700\u8981\u6709\u5bf9\u8c61\u6765\u63a5\u6536\u51fd\u6570\u7684\u8fd4\u56de\u503c RETURN \u51fd\u6570\u9664\u4e86 RETURN , \u4e5f\u53ef\u4ee5\u50cf\u5b58\u50a8\u8fc7\u7a0b\u4e00\u6837\u4f7f\u7528 OUT \u8fd4\u56de\u503c \u51fd\u6570\u6ca1\u6709\u53c2\u6570\u7684\u65f6\u5019\uff0c\u8c03\u7528\u4e0d\u7528\u52a0\u62ec\u53f7 () \u51fd\u6570\u53ef\u4ee5\u653e\u5728 SELECT \u540e\u9762 \u5b58\u50a8\u8fc7\u7a0b\u53ef\u4ee5\u5e26\u51fd\u6570\uff0c\u4f46\u51fd\u6570\u4e2d\u4e0d\u80fd\u6709\u5b58\u50a8\u8fc7\u7a0b","title":"\u81ea\u5b9a\u4e49\u51fd\u6570"},{"location":"SQL/#_82","text":"E.G. \u6c42\u4e24\u4e2a\u6570\u7684\u6700\u5927\u503c CREATE OR REPLACE FUNCTION FUN_MAX(P_NUM1 NUMBER,P_NUM2 NUMBER) RETURN NUMBER IS BEGIN IF P_NUM1>P_NUM2 THEN RETURN P_NUM1; ELSE RETURN P_NUM2; END IF; END FUN_MAX; E.G. \u8f93\u5165\u4e24\u4e2a\u6570\uff081\u523020\u4e4b\u95f4\uff09\uff0c\u8f93\u51fa\u8fde\u4e58\u7684\u7ed3\u679c\u3002\u5982\u679c\u8f93\u5165\u7684\u6570\u5927\u4e8e20\uff0c\u5219\u8fd4\u56de\u9519\u8bef\u63d0\u793a\u3002 CREATE OR REPLACE FUNCTION FUN_MULTIPLY(P_NUM1 NUMBER,P_NUM2 NUMBER) RETURN VARCHAR IS V_MIN NUMBER(10); V_MAX NUMBER(10); V_ANS NUMBER(30) := 1; BEGIN IF P_NUM1 > 20 OR P_NUM2 > 20 THEN RETURN 'NOT IN 1..20!!!'; END IF; IF P_NUM1 > P_NUM2 THEN V_MAX := P_NUM1; V_MIN := P_NUM2; ELSE V_MAX := P_NUM2; V_MIN := P_NUM1; END IF; FOR I IN V_MIN..V_MAX LOOP V_ANS := V_ANS * I; END LOOP; RETURN V_ANS; END FUN_MULTIPLY;","title":"\u5b9e\u4f8b"},{"location":"SQL/#_83","text":"","title":"\u521b\u5efa\u5305"},{"location":"SQL/#_84","text":"CREATE [OR REPLACE] PACKAGE PK_\u5305\u540d IS|AS \u53d8\u91cf\u3001\u5e38\u91cf \u6570\u636e\u7c7b\u578b\u5b9a\u4e49\uff1b \u6e38\u6807\u5b9a\u4e49\u5934\u90e8\uff1b \u51fd\u6570\u3001\u8fc7\u7a0b\u7684\u5b9a\u4e49\uff0c\u53c2\u6570\u5217\u8868\uff0c\u8fd4\u56de\u7c7b\u578b\uff1b END [\u5305\u540d]; E.G. CREATE OR REPLACE PACKAGE PK_MYPACKAGE IS PROCEDURE SP_DEPTNO(P_DEPTNO IN EMP.DEPTNO%TYPE); FUNCTION FUN_MAX(P_NUM1 IN NUMBER,P_NUM2 IN NUMBER) RETURN NUMBER; END;","title":"\u521b\u5efa\u5305\u5934"},{"location":"SQL/#_85","text":"CREATE [OR REPLACE] PACKAGE BODY PK_\u5305\u540d IS|AS PROCEDURE SP_NAME(\u53c2\u6570) IS|AS BEGIN ... END SP_NAME; FUNCTION FUN_NAME(\u53c2\u6570) RETURN \u7c7b\u578b IS|AS BEGIN ... END FUN_NAME; END ;","title":"\u521b\u5efa\u5305\u4f53"},{"location":"SQL/#_86","text":"SELECT PK_NAME.FUN_TEST FROM DUAL; BEGIN PK_NAME.SP_NAME(...); END;","title":"\u8c03\u7528"},{"location":"SQL/#_87","text":"\u65e5\u5fd7\u5c31\u662f\u4e00\u5f20\u8bb0\u5f55\u64cd\u4f5c\u7684\u8868 - \u4f5c\u7528 - \u8ffd\u6eaf\u95ee\u9898\uff0c\u53ef\u4ee5\u627e\u5230\u51fa\u9519\u73af\u8282 - \u8bb0\u5f55\u82b1\u8d39\u65f6\u95f4\uff0c\u65b9\u4fbf\u5bf9\u6bcf\u4e00\u6b65\u8fdb\u884c\u4f18\u5316 - \u901a\u5e38\u62a5\u9519\u7684\u65f6\u5019\uff0c\u7b2c\u4e00\u6761\u65e5\u5fd7\u5f80\u5f80\u662f\u62a5\u9519\u7684\u539f\u56e0 \u521b\u5efa\u65e5\u5fd7\u8868\u53ca\u76f8\u5173\u64cd\u4f5c CREATE TABLE LOG_RECORD( LOG_ID NUMBER(10), -- \u5e8f\u5217 SP_NAME VARCHAR2(100), -- \u662f\u54ea\u4e2a\u5b58\u50a8\u8fc7\u7a0b CYCLE_ID NUMBER(10), -- \u7b2c\u51e0\u6b21\u8c03\u7528 STEP NUMBER(10), STEP_NAME VARCHAR2(100), REMARK_TIME DATE ); CREATE SEQUENCE SEQ_LOG_ID; CREATE SEQUENCE SEQ_CYCLE_ID; CREATE OR REPLACE PROCEDURE SP_LOG(P_SP_NAME VARCHAR2\uff0cP_STEP_NAME VARCHAR2) IS BEGIN INSERT INTO LOG_RECORD VALUES (SEQ_LOG_ID.NEXTVAL,P_SP_NAME,SEQ_CYCLE_ID.NEXTVAL,P_STEP_NAME,SYSDATE); COMMIT; END; \u4f7f\u7528\u65e5\u5fd7 CREATE OR REPLACE PROCEDURE SP_EMP() IS V_SEQ NUMBER := SEQ_CYCLE_ID.NEXTVAL; BEGIN SP_LOG(V_SEQ,'SP_EMP','START INSERT DATA'); INSERT INTO ...... COMMIT; SP_LOG(V_SEQ,'SP_EMP','END INSERT DATA'); END; BEGIN SP_EMP(); END;","title":"\u65e5\u5fd7"},{"location":"SQL/#_88","text":"","title":"\u6982\u5ff5"},{"location":"SQL/#bi","text":"\u5546\u4e1a\u667a\u80fd\u7684\u5173\u952e\u662f\u4ece\u8bb8\u591a\u6765\u81ea\u4e0d\u540c\u7684\u4f01\u4e1a\u8fd0\u4f5c\u7cfb\u7edf\u7684\u6570\u636e\u4e2d\u63d0\u53d6\u51fa\u6709\u7528\u7684\u6570\u636e\u5e76\u8fdb\u884c\u6e05\u7406\uff0c\u4ee5\u4fdd\u8bc1\u6570\u636e\u7684\u6b63\u786e\u6027\uff0c\u7136\u540e\u7ecf\u8fc7\u62bd\u53d6\uff08Extraction\uff09\u3001\u8f6c\u6362\uff08Transformation\uff09\u548c\u88c5\u8f7d\uff08Load\uff09\uff0c\u5373ETL\u8fc7\u7a0b\uff0c\u5408\u5e76\u5230\u4e00\u4e2a\u4f01\u4e1a\u7ea7\u7684\u6570\u636e\u4ed3\u5e93\u91cc\uff0c\u4ece\u800c\u5f97\u5230\u4f01\u4e1a\u6570\u636e\u7684\u4e00\u4e2a\u5168\u5c40\u89c6\u56fe\uff0c\u5728\u6b64\u57fa\u7840\u4e0a\u5229\u7528\u5408\u9002\u7684\u67e5\u8be2\u548c\u5206\u6790\u5de5\u5177\u3001\u6570\u636e\u6316\u6398\u5de5\u5177\u3001OLAP\u5de5\u5177\u7b49\u5bf9\u5176\u8fdb\u884c\u5206\u6790\u548c\u5904\u7406\uff08\u8fd9\u65f6\u4fe1\u606f\u53d8\u4e3a\u8f85\u52a9\u51b3\u7b56\u7684\u77e5\u8bc6\uff09\uff0c\u6700\u540e\u5c06\u77e5\u8bc6\u5448\u73b0\u7ed9\u7ba1\u7406\u8005\uff0c\u4e3a\u7ba1\u7406\u8005\u7684\u51b3\u7b56\u8fc7\u7a0b\u63d0\u4f9b\u652f\u6301\u3002","title":"BI \u6982\u5ff5"},{"location":"SQL/#_89","text":"\u662f\u4e00\u4e2a\u9762\u5411\u4e3b\u9898\u7684\u3001\u96c6\u6210\u7684\u3001\u76f8\u5bf9\u7a33\u5b9a\u7684\u3001\u53cd\u6620\u5386\u53f2\u53d8\u5316\u7684\u6570\u636e\u96c6\u5408\u3002 - \u9762\u5411\u4e3b\u9898\u7684 - \u7ecf\u8fc7 ETL \u62bd\u6570\u3001\u6e05\u6d17\u3001\u8f6c\u6362\u52a0\u8f7d\u540e\uff0c\u6570\u636e\u6309\u4e0d\u540c\u7684\u4e3b\u9898\u5b58\u653e\u5728\u540c\u4e00\u4e2a\u5e93\u4e2d\uff0c\u68b3\u7406\u5f52\u7c7b \u96c6\u6210\u7684 \u6765\u81ea\u4e0d\u540c\u7684\u6570\u636e\u6e90 \u76f8\u5bf9\u7a33\u5b9a\u7684 \u4e0d\u4f1a\u4eba\u4e3a\u7684\u6539\u53d8\u6570\u636e\uff0c\u53ea\u540c\u6b65 \u53cd\u6620\u5386\u53f2\u53d8\u5316 \u6e90\u7cfb\u7edf\u6570\u636e\u5e93\u4e00\u822c\u53ea\u4fdd\u5b58\u51e0\u4e2a\u6708\uff0c\u800c\u6570\u636e\u4ed3\u5e93\u6570\u636e\u4f1a\u4e00\u76f4\u4fdd\u5b58","title":"\u6570\u636e\u4ed3\u5e93"},{"location":"SQL/#ods","text":"\u4e3b\u8981\u4f5c\u6570\u636e\u7684\u62bd\u53d6\uff0c\u8f6c\u6362\u548c\u540c\u6b65\uff08ETL\uff09 \u901a\u8fc7\u8c03\u5ea6\u5de5\u5177\uff0c\u5b9a\u671f\u5c06\u6e90\u7cfb\u7edf\u7684\u6570\u636e\u62bd\u53d6\u5230ODS\u4e2d\u3002","title":"ODS \u8d34\u6e90\u5c42"},{"location":"SQL/#dw","text":"\u4e3b\u8981\u662f\u4eceODS\u5c42\u540c\u6b65\u5230\u6570\u636e\u5230\u6570\u636e\u4ed3\u5e93 \u4fdd\u5b58\u5386\u53f2\u6570\u636e \u6839\u636e\u4e1a\u52a1\u7684\u9700\u8981\u5bf9\u4e8b\u5b9e\u8868\u3001\u7ef4\u5ea6\u8868\u8fdb\u884c\u5efa\u6a21\uff08\u661f\u578b\u6a21\u578b\uff0c\u96ea\u82b1\u6a21\u578b\uff0c\u661f\u5ea7\u6a21\u578b\uff09 \u5efa\u6a21\u7684\u7ed3\u679c\u5728DM\u5c42\uff01\uff01\uff01 - \u661f\u578b\u6a21\u578b - \u4e00\u4e2a\u4e8b\u5b9e\u8868\uff0c\u591a\u4e2a\u7ef4\u5ea6\u8868 - \u6bcf\u4e2a\u7ef4\u5ea6\u8868\u90fd\u53ea\u4e0e\u4e8b\u5b9e\u8868\u8fde\u63a5 - \u5b58\u5728\u5197\u4f59\u6570\u636e - \u6027\u80fd\u5feb \u96ea\u82b1\u6a21\u578b \u4e00\u4e2a\u4e8b\u5b9e\u8868\uff0c\u591a\u4e2a\u7ef4\u5ea6\u8868 \u7ef4\u5ea6\u8868\u53ef\u4ee5\u4e0e\u7ef4\u5ea6\u8868\u8fde\u63a5 \u5197\u4f59\u6570\u636e\u8f83\u5c11 \u6027\u80fd\u4e0d\u5982\u661f\u578b\u6a21\u578b \u661f\u5ea7\u6a21\u578b \u661f\u578b\u6a21\u578b\u7684\u5347\u7ea7 \u53ef\u4ee5\u6709\u591a\u4e2a\u4e8b\u5b9e\u8868","title":"DW \u6570\u636e\u4ed3\u5e93"},{"location":"SQL/#dm","text":"","title":"DM \u6570\u636e\u96c6\u5e02"},{"location":"SQL/#_90","text":"","title":"\u6570\u636e\u5e93\u8865\u5145"},{"location":"SQL/#_91","text":"TYPE1:\u4e0d\u4fdd\u5b58\u5386\u53f2\u6570\u636e\uff0c\u76f4\u63a5\u66f4\u65b0 TYPE2:\u4fdd\u5b58\u6240\u6709\u7684\u5386\u53f2\u6570\u636e(\u52a0\u884c) \u751f\u6548\u65f6\u95f4\u3001\u5931\u6548\u65f6\u95f4\uff08\u4e3a\u4e86\u53d6\u51fa\u6700\u65b0\u7684\u6570\u636e\uff09 \u589e\u52a0 flag \u5217\uff0c\u6807\u8bb0\u662f\u5426\u6709\u6548 TYPE3:\u4fdd\u5b58\u5f53\u524d\u6216\u8005\u4e0a\u4e00\u6b21\u7684\u5386\u53f2\u6570\u636e\uff08\u52a0\u5217\uff09","title":"\u7f13\u6162\u53d8\u5316\u7ef4"},{"location":"SQL/#_92","text":"\u62c9\u94fe\u8868\u5b9e\u9645\u4e0a\u7528\u7684\u5c31\u662f TYPE2 \u7684\u65b9\u6cd5","title":"\u62c9\u94fe\u8868"},{"location":"SQL/#_93","text":"","title":"\u8865\u5145"},{"location":"SQL/#sql_1","text":"E.G. \u5c06 S \u8868\u8fdb\u884c\u884c\u5217\u8f6c\u6362 SELECT 'SELECT Y'||','|| WM_CONCAT(DISTINCT('SUM(CASE WHEN Q='||Q||' THEN AMT ELSE 0 END) Q'||Q)) ||' FROM S GROUP BY Y' FROM S; \u67e5\u8be2\u751f\u6210\u7684\u7ed3\u679c\uff0c\u4e3a\u53ef\u6267\u884c\u7684 SQL \u8bed\u53e5 \u4e4b\u540e\u5f53 S \u8868\u8fdb\u884c\u53d8\u5316\u65f6\uff0c\u53ea\u9700\u8981\u91cd\u65b0\u8fd0\u884c\u8be5\u67e5\u8be2\uff0c\u5373\u53ef\u66f4\u65b0\u9700\u8981\u7684 SQL \u8bed\u53e5 \u7528 || \u7b26\u5408\u5c06\u56fa\u5b9a\u7684\u8bed\u53e5\u4e0e\u52a8\u6001\u8bed\u53e5\u5206\u9694 \u7528 WM_CONCAT \u5bf9\u53d8\u5316\u7684\u8bed\u53e5\u8fdb\u884c\u5408\u5e76\uff0c\u5e76\u4e14\u81ea\u52a8\u52a0\u4e0a\u9017\u53f7 , \u7528 DISTINCT \u5bf9\u8bed\u53e5\u8fdb\u884c\u53bb\u91cd","title":"\u52a8\u6001SQL\u811a\u672c"},{"location":"SQL/#with-as","text":"WITH AS \u53ef\u4ee5\u521b\u5efa\u4e34\u65f6\u8868\uff0c\u65b9\u4fbf\u67e5\u8be2 WITH TEMP_NAME AS (SELECT ...), -- \u521b\u5efa\u4e34\u65f6\u8868 TEMP2 AS (SELECT ...), ... SELECT ...","title":"WITH AS"},{"location":"SQL/#sql_2","text":"\u67e5\u770b\u6267\u884c\u8ba1\u5212\uff0c\u589e\u52a0\u7d22\u5f15 \u6570\u636e\u91cf\u592a\u5927\uff0c\u5185\u5b58\u4e0d\u591f\uff0c\u5efa\u7acb\u8868\u5206\u533a \u5efa\u65b0\u8868\uff0c\u8f6c\u79fb\u6570\u636e\u5230\u65b0\u8868 SQL\u89c4\u8303 \u7d22\u5f15\u5931\u6548 UNION IN/EXISTS HINTS \u5e76\u884c \u5f3a\u5236\u8d70\u7d22\u5f15","title":"SQL\u4f18\u5316"},{"location":"SQL/#etl","text":"","title":"ETL"},{"location":"SQL/#kettle","text":"SQL \u8bed\u53e5\u5185\uff0c\u4e0d\u80fd\u52a0\u5206\u53f7;!!!!!!!!!","title":"KETTLE"},{"location":"SQL/#qa","text":"\u5206\u6790\u51fd\u6570\u6709\u54ea\u4e9b \u5b58\u50a8\u8fc7\u7a0b\u662f\u4ec0\u4e48 UNION \u548c UNION ALL \u533a\u522b \u5173\u8054\u673a\u5236 \u6570\u636e\u4ed3\u5e93\u6709\u51e0\u5c42 ODS,DW,DM\u7684\u4f5c\u7528","title":"Q&amp;A"},{"location":"git_read/","text":"git \u64cd\u4f5c\u6307\u5357 git \u5b89\u88c5 Linux apt-get install git-all yum install git-all Win \u4e0b\u8f7d\u5730\u5740 \u7ba1\u7406 \u521b\u5efa\u7248\u672c\u5e93 git config --global user.name \"bobo\" git config --global user.email \"bobo@123.com\" git init \u6dfb\u52a0\u6587\u4ef6 git add [\u6587\u4ef6] \u6587\u4ef6\u53ef\u5199\u53ef\u4e0d\u5199\uff0c \".\"\u8868\u793a\u5168\u90e8\u6587\u4ef6 \u67e5\u770b\u72b6\u6001 git status git status -s \"-s\": status \u7684\u7f29\u5199\u6a21\u5f0f \u63d0\u4ea4\u6539\u53d8 git commit -m \"log\u4fe1\u606f\" git \u6d41\u7a0b \u8bb0\u5f55\u4fee\u6539 \u4fee\u6539\u8bb0\u5f55 git log git log --oneline \"--oneline\": \u6bcf\u4e2a commit \u5185\u5bb9\u663e\u793a\u5728\u4e00\u884c git reflog \u6700\u8fd1\u6240\u6709\u4fee\u6539\u7684\u8bb0\u5f55 \u67e5\u770b\u4fee\u6539 git diff (\u672aadd\u90e8\u5206\u4e0ecommit\u90e8\u5206) \"-\" \u8868\u793a\u5220\u53bb\u7684\u5185\u5bb9 \"+\" \u8868\u793a\u589e\u52a0\u7684\u5185\u5bb9 git diff --cached (add\u90e8\u5206\u4e0ecommit\u90e8\u5206) git diff HEAD (\u672aadd\u90e8\u5206\u4e0eadd\u90e8\u5206) \u4fee\u6539\u5386\u53f2 \u4fee\u6539\u5df2 commit \u7684\u7248\u672c git commit --amend --no-edit \"--no-edit\": \u4e0d\u7f16\u8f91, \u76f4\u63a5\u5408\u5e76\u5230\u4e0a\u4e00\u4e2a commit \u8fd8\u539f\u7248\u672c \u56de\u5230 add \u4e4b\u524d git reset \u6587\u4ef6 \u56de\u5230 commit \u4e4b\u524d git reset --hard HEAD \u56de\u5230\u4e0a\u4e00\u6b21 commit git reset --hard HEAD^ \u6709\u591a\u5c11 ^ \u4ee3\u8868\u56de\u5230\u591a\u5c11\u6b21\u4e4b\u524d ^ \u4e5f\u53ef\u4ee5\u7528 ~n \u8868\u793a \u56de\u5230\u6307\u5b9a\u7684commit git reset --hard id \u53ef\u4ee5\u901a\u8fc7git log --oneline\u67e5\u770b\u4e4b\u524d\u7684 id \u8fd8\u539f\u6587\u4ef6 git checkout id -- \u6587\u4ef6","title":"Git_github"},{"location":"git_read/#git","text":"","title":"git \u64cd\u4f5c\u6307\u5357"},{"location":"git_read/#git_1","text":"","title":"git"},{"location":"git_read/#_1","text":"Linux apt-get install git-all yum install git-all Win \u4e0b\u8f7d\u5730\u5740","title":"\u5b89\u88c5"},{"location":"git_read/#_2","text":"\u521b\u5efa\u7248\u672c\u5e93 git config --global user.name \"bobo\" git config --global user.email \"bobo@123.com\" git init \u6dfb\u52a0\u6587\u4ef6 git add [\u6587\u4ef6] \u6587\u4ef6\u53ef\u5199\u53ef\u4e0d\u5199\uff0c \".\"\u8868\u793a\u5168\u90e8\u6587\u4ef6 \u67e5\u770b\u72b6\u6001 git status git status -s \"-s\": status \u7684\u7f29\u5199\u6a21\u5f0f \u63d0\u4ea4\u6539\u53d8 git commit -m \"log\u4fe1\u606f\" git \u6d41\u7a0b","title":"\u7ba1\u7406"},{"location":"git_read/#_3","text":"\u4fee\u6539\u8bb0\u5f55 git log git log --oneline \"--oneline\": \u6bcf\u4e2a commit \u5185\u5bb9\u663e\u793a\u5728\u4e00\u884c git reflog \u6700\u8fd1\u6240\u6709\u4fee\u6539\u7684\u8bb0\u5f55 \u67e5\u770b\u4fee\u6539 git diff (\u672aadd\u90e8\u5206\u4e0ecommit\u90e8\u5206) \"-\" \u8868\u793a\u5220\u53bb\u7684\u5185\u5bb9 \"+\" \u8868\u793a\u589e\u52a0\u7684\u5185\u5bb9 git diff --cached (add\u90e8\u5206\u4e0ecommit\u90e8\u5206) git diff HEAD (\u672aadd\u90e8\u5206\u4e0eadd\u90e8\u5206) \u4fee\u6539\u5386\u53f2 \u4fee\u6539\u5df2 commit \u7684\u7248\u672c git commit --amend --no-edit \"--no-edit\": \u4e0d\u7f16\u8f91, \u76f4\u63a5\u5408\u5e76\u5230\u4e0a\u4e00\u4e2a commit \u8fd8\u539f\u7248\u672c \u56de\u5230 add \u4e4b\u524d git reset \u6587\u4ef6 \u56de\u5230 commit \u4e4b\u524d git reset --hard HEAD \u56de\u5230\u4e0a\u4e00\u6b21 commit git reset --hard HEAD^ \u6709\u591a\u5c11 ^ \u4ee3\u8868\u56de\u5230\u591a\u5c11\u6b21\u4e4b\u524d ^ \u4e5f\u53ef\u4ee5\u7528 ~n \u8868\u793a \u56de\u5230\u6307\u5b9a\u7684commit git reset --hard id \u53ef\u4ee5\u901a\u8fc7git log --oneline\u67e5\u770b\u4e4b\u524d\u7684 id \u8fd8\u539f\u6587\u4ef6 git checkout id -- \u6587\u4ef6","title":"\u8bb0\u5f55\u4fee\u6539"}]}